---
title: Leibniz's equality in Agda.
layout: page
date: 2018-02-09
---

Leibniz characterized the notion of equality as follows:
Given any $$x$$ and $$y$$, $$x = y$$ if and only if, given any
predicate P, P(x) if and only if P(y).

as

<pre class="Agda">{% raw %}<a id="Eq" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#Eq" class="Function">Eq</a> <a id="255" class="Symbol">:</a> <a id="257" class="Symbol">∀</a> <a id="259" class="Symbol">{</a><a id="260" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#260" class="Bound">A</a> <a id="262" class="Symbol">:</a> <a id="264" class="PrimitiveType">Set</a><a id="267" class="Symbol">}</a> <a id="269" class="Symbol">→</a> <a id="271" class="Symbol">(</a><a id="272" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#272" class="Bound">x</a> <a id="274" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#274" class="Bound">y</a> <a id="276" class="Symbol">:</a> <a id="278" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#260" class="Bound">A</a><a id="279" class="Symbol">)</a> <a id="281" class="Symbol">→</a> <a id="283" class="PrimitiveType">Set₁</a>
<a id="288" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#Eq" class="Function">Eq</a> <a id="291" class="Symbol">{</a><a id="292" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#292" class="Bound">A</a><a id="293" class="Symbol">}</a> <a id="295" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#295" class="Bound">x</a> <a id="297" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#297" class="Bound">y</a> <a id="299" class="Symbol">=</a> <a id="301" class="Symbol">(</a><a id="302" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#302" class="Bound">P</a> <a id="304" class="Symbol">:</a> <a id="306" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#292" class="Bound">A</a> <a id="308" class="Symbol">→</a> <a id="310" class="PrimitiveType">Set</a><a id="313" class="Symbol">)</a> <a id="315" class="Symbol">→</a> <a id="317" class="Symbol">(</a><a id="318" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#302" class="Bound">P</a> <a id="320" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#295" class="Bound">x</a> <a id="322" class="Symbol">→</a> <a id="324" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#302" class="Bound">P</a> <a id="326" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#297" class="Bound">y</a><a id="327" class="Symbol">)</a>

<a id="refl" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#refl" class="Function">refl</a> <a id="335" class="Symbol">:</a> <a id="337" class="Symbol">∀</a> <a id="339" class="Symbol">{</a><a id="340" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#340" class="Bound">A</a> <a id="342" class="Symbol">:</a> <a id="344" class="PrimitiveType">Set</a><a id="347" class="Symbol">}</a> <a id="349" class="Symbol">→</a> <a id="351" class="Symbol">(</a><a id="352" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#352" class="Bound">x</a> <a id="354" class="Symbol">:</a> <a id="356" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#340" class="Bound">A</a><a id="357" class="Symbol">)</a> <a id="359" class="Symbol">→</a> <a id="361" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#Eq" class="Function">Eq</a> <a id="364" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#352" class="Bound">x</a> <a id="366" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#352" class="Bound">x</a>
<a id="368" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#refl" class="Function">refl</a> <a id="373" class="Symbol">{</a><a id="374" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#374" class="Bound">A</a><a id="375" class="Symbol">}</a> <a id="377" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#377" class="Bound">x</a> <a id="379" class="Symbol">=</a> <a id="381" class="Symbol">λ</a> <a id="383" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#383" class="Bound">P</a> <a id="385" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#385" class="Bound">Px₁</a> <a id="389" class="Symbol">→</a> <a id="391" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#385" class="Bound">Px₁</a>

<a id="sym" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#sym" class="Function">sym</a> <a id="400" class="Symbol">:</a> <a id="402" class="Symbol">∀</a> <a id="404" class="Symbol">{</a><a id="405" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#405" class="Bound">A</a> <a id="407" class="Symbol">:</a> <a id="409" class="PrimitiveType">Set</a><a id="412" class="Symbol">}</a> <a id="414" class="Symbol">→</a> <a id="416" class="Symbol">(</a><a id="417" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#417" class="Bound">x</a> <a id="419" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#419" class="Bound">y</a> <a id="421" class="Symbol">:</a> <a id="423" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#405" class="Bound">A</a><a id="424" class="Symbol">)</a> <a id="426" class="Symbol">→</a> <a id="428" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#Eq" class="Function">Eq</a> <a id="431" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#417" class="Bound">x</a> <a id="433" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#419" class="Bound">y</a> <a id="435" class="Symbol">→</a> <a id="437" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#Eq" class="Function">Eq</a> <a id="440" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#419" class="Bound">y</a> <a id="442" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#417" class="Bound">x</a>
<a id="444" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#sym" class="Function">sym</a> <a id="448" class="Symbol">{</a><a id="449" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#449" class="Bound">A</a><a id="450" class="Symbol">}</a> <a id="452" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#452" class="Bound">x</a> <a id="454" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#454" class="Bound">y</a> <a id="456" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#456" class="Bound">x≡y</a> <a id="460" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#460" class="Bound">P</a> <a id="462" class="Symbol">=</a> <a id="464" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#456" class="Bound">x≡y</a> <a id="468" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#493" class="Function">p₁</a> <a id="471" class="Symbol">(λ</a> <a id="474" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#474" class="Bound">z</a> <a id="476" class="Symbol">→</a> <a id="478" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#474" class="Bound">z</a><a id="479" class="Symbol">)</a>
  <a id="483" class="Keyword">where</a>
    <a id="493" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#493" class="Function">p₁</a> <a id="496" class="Symbol">:</a> <a id="498" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#449" class="Bound">A</a> <a id="500" class="Symbol">→</a> <a id="502" class="PrimitiveType">Set</a>
    <a id="510" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#493" class="Function">p₁</a> <a id="513" class="Symbol">=</a> <a id="515" class="Symbol">λ</a> <a id="517" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#517" class="Bound">z</a> <a id="519" class="Symbol">→</a> <a id="521" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#460" class="Bound">P</a> <a id="523" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#517" class="Bound">z</a> <a id="525" class="Symbol">→</a> <a id="527" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#460" class="Bound">P</a> <a id="529" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#452" class="Bound">x</a>

<a id="trans" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#trans" class="Function">trans</a> <a id="538" class="Symbol">:</a> <a id="540" class="Symbol">∀</a> <a id="542" class="Symbol">{</a><a id="543" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#543" class="Bound">A</a> <a id="545" class="Symbol">:</a> <a id="547" class="PrimitiveType">Set</a><a id="550" class="Symbol">}</a> <a id="552" class="Symbol">→</a> <a id="554" class="Symbol">(</a><a id="555" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#555" class="Bound">x</a> <a id="557" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#557" class="Bound">y</a> <a id="559" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#559" class="Bound">z</a> <a id="561" class="Symbol">:</a> <a id="563" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#543" class="Bound">A</a><a id="564" class="Symbol">)</a> <a id="566" class="Symbol">→</a> <a id="568" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#Eq" class="Function">Eq</a> <a id="571" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#555" class="Bound">x</a> <a id="573" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#557" class="Bound">y</a> <a id="575" class="Symbol">→</a> <a id="577" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#Eq" class="Function">Eq</a> <a id="580" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#557" class="Bound">y</a> <a id="582" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#559" class="Bound">z</a> <a id="584" class="Symbol">→</a> <a id="586" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#Eq" class="Function">Eq</a> <a id="589" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#555" class="Bound">x</a> <a id="591" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#559" class="Bound">z</a>
<a id="593" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#trans" class="Function">trans</a> <a id="599" class="Symbol">{</a><a id="600" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#600" class="Bound">A</a><a id="601" class="Symbol">}</a> <a id="603" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#603" class="Bound">x</a> <a id="605" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#605" class="Bound">y</a> <a id="607" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#607" class="Bound">z</a> <a id="609" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#609" class="Bound">x≡y</a> <a id="613" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#613" class="Bound">P₁</a> <a id="616" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#616" class="Bound">y≡z</a> <a id="620" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#620" class="Bound">P₂</a> <a id="623" class="Symbol">=</a> <a id="625" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#613" class="Bound">P₁</a> <a id="628" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#616" class="Bound">y≡z</a> <a id="632" class="Symbol">(</a><a id="633" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#609" class="Bound">x≡y</a> <a id="637" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#616" class="Bound">y≡z</a> <a id="641" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#620" class="Bound">P₂</a><a id="643" class="Symbol">)</a>{% endraw %}</pre>

Thanks Håkon Robbestad to show me the way to do this. :)