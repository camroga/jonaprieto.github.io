---
title: Leibniz's equality in Agda.
layout: page
date: 2018-02-09
---

Leibniz characterized the notion of equality as follows:
Given any $$x$$ and $$y$$, $$x = y$$ if and only if, given any
predicate P, P(x) if and only if P(y).

a

<pre class="Agda">{% raw %}<a id="Eq" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#Eq" class="Function">Eq</a> <a id="254" class="Symbol">:</a> <a id="256" class="Symbol">∀</a> <a id="258" class="Symbol">{</a><a id="259" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#259" class="Bound">A</a> <a id="261" class="Symbol">:</a> <a id="263" class="PrimitiveType">Set</a><a id="266" class="Symbol">}</a> <a id="268" class="Symbol">→</a> <a id="270" class="Symbol">(</a><a id="271" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#271" class="Bound">x</a> <a id="273" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#273" class="Bound">y</a> <a id="275" class="Symbol">:</a> <a id="277" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#259" class="Bound">A</a><a id="278" class="Symbol">)</a> <a id="280" class="Symbol">→</a> <a id="282" class="PrimitiveType">Set₁</a>
<a id="287" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#Eq" class="Function">Eq</a> <a id="290" class="Symbol">{</a><a id="291" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#291" class="Bound">A</a><a id="292" class="Symbol">}</a> <a id="294" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#294" class="Bound">x</a> <a id="296" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#296" class="Bound">y</a> <a id="298" class="Symbol">=</a> <a id="300" class="Symbol">(</a><a id="301" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#301" class="Bound">P</a> <a id="303" class="Symbol">:</a> <a id="305" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#291" class="Bound">A</a> <a id="307" class="Symbol">→</a> <a id="309" class="PrimitiveType">Set</a><a id="312" class="Symbol">)</a> <a id="314" class="Symbol">→</a> <a id="316" class="Symbol">(</a><a id="317" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#301" class="Bound">P</a> <a id="319" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#294" class="Bound">x</a> <a id="321" class="Symbol">→</a> <a id="323" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#301" class="Bound">P</a> <a id="325" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#296" class="Bound">y</a><a id="326" class="Symbol">)</a>

<a id="refl" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#refl" class="Function">refl</a> <a id="334" class="Symbol">:</a> <a id="336" class="Symbol">∀</a> <a id="338" class="Symbol">{</a><a id="339" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#339" class="Bound">A</a> <a id="341" class="Symbol">:</a> <a id="343" class="PrimitiveType">Set</a><a id="346" class="Symbol">}</a> <a id="348" class="Symbol">→</a> <a id="350" class="Symbol">(</a><a id="351" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#351" class="Bound">x</a> <a id="353" class="Symbol">:</a> <a id="355" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#339" class="Bound">A</a><a id="356" class="Symbol">)</a> <a id="358" class="Symbol">→</a> <a id="360" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#Eq" class="Function">Eq</a> <a id="363" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#351" class="Bound">x</a> <a id="365" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#351" class="Bound">x</a>
<a id="367" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#refl" class="Function">refl</a> <a id="372" class="Symbol">{</a><a id="373" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#373" class="Bound">A</a><a id="374" class="Symbol">}</a> <a id="376" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#376" class="Bound">x</a> <a id="378" class="Symbol">=</a> <a id="380" class="Symbol">λ</a> <a id="382" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#382" class="Bound">P</a> <a id="384" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#384" class="Bound">Px₁</a> <a id="388" class="Symbol">→</a> <a id="390" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#384" class="Bound">Px₁</a>

<a id="sym" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#sym" class="Function">sym</a> <a id="399" class="Symbol">:</a> <a id="401" class="Symbol">∀</a> <a id="403" class="Symbol">{</a><a id="404" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#404" class="Bound">A</a> <a id="406" class="Symbol">:</a> <a id="408" class="PrimitiveType">Set</a><a id="411" class="Symbol">}</a> <a id="413" class="Symbol">→</a> <a id="415" class="Symbol">(</a><a id="416" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#416" class="Bound">x</a> <a id="418" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#418" class="Bound">y</a> <a id="420" class="Symbol">:</a> <a id="422" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#404" class="Bound">A</a><a id="423" class="Symbol">)</a> <a id="425" class="Symbol">→</a> <a id="427" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#Eq" class="Function">Eq</a> <a id="430" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#416" class="Bound">x</a> <a id="432" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#418" class="Bound">y</a> <a id="434" class="Symbol">→</a> <a id="436" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#Eq" class="Function">Eq</a> <a id="439" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#418" class="Bound">y</a> <a id="441" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#416" class="Bound">x</a>
<a id="443" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#sym" class="Function">sym</a> <a id="447" class="Symbol">{</a><a id="448" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#448" class="Bound">A</a><a id="449" class="Symbol">}</a> <a id="451" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#451" class="Bound">x</a> <a id="453" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#453" class="Bound">y</a> <a id="455" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#455" class="Bound">x≡y</a> <a id="459" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#459" class="Bound">P</a> <a id="461" class="Symbol">=</a> <a id="463" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#455" class="Bound">x≡y</a> <a id="467" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#492" class="Function">p₁</a> <a id="470" class="Symbol">(λ</a> <a id="473" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#473" class="Bound">z</a> <a id="475" class="Symbol">→</a> <a id="477" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#473" class="Bound">z</a><a id="478" class="Symbol">)</a>
  <a id="482" class="Keyword">where</a>
    <a id="492" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#492" class="Function">p₁</a> <a id="495" class="Symbol">:</a> <a id="497" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#448" class="Bound">A</a> <a id="499" class="Symbol">→</a> <a id="501" class="PrimitiveType">Set</a>
    <a id="509" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#492" class="Function">p₁</a> <a id="512" class="Symbol">=</a> <a id="514" class="Symbol">λ</a> <a id="516" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#516" class="Bound">z</a> <a id="518" class="Symbol">→</a> <a id="520" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#459" class="Bound">P</a> <a id="522" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#516" class="Bound">z</a> <a id="524" class="Symbol">→</a> <a id="526" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#459" class="Bound">P</a> <a id="528" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#451" class="Bound">x</a>

<a id="trans" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#trans" class="Function">trans</a> <a id="537" class="Symbol">:</a> <a id="539" class="Symbol">∀</a> <a id="541" class="Symbol">{</a><a id="542" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#542" class="Bound">A</a> <a id="544" class="Symbol">:</a> <a id="546" class="PrimitiveType">Set</a><a id="549" class="Symbol">}</a> <a id="551" class="Symbol">→</a> <a id="553" class="Symbol">(</a><a id="554" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#554" class="Bound">x</a> <a id="556" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#556" class="Bound">y</a> <a id="558" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#558" class="Bound">z</a> <a id="560" class="Symbol">:</a> <a id="562" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#542" class="Bound">A</a><a id="563" class="Symbol">)</a> <a id="565" class="Symbol">→</a> <a id="567" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#Eq" class="Function">Eq</a> <a id="570" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#554" class="Bound">x</a> <a id="572" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#556" class="Bound">y</a> <a id="574" class="Symbol">→</a> <a id="576" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#Eq" class="Function">Eq</a> <a id="579" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#556" class="Bound">y</a> <a id="581" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#558" class="Bound">z</a> <a id="583" class="Symbol">→</a> <a id="585" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#Eq" class="Function">Eq</a> <a id="588" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#554" class="Bound">x</a> <a id="590" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#558" class="Bound">z</a>
<a id="592" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#trans" class="Function">trans</a> <a id="598" class="Symbol">{</a><a id="599" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#599" class="Bound">A</a><a id="600" class="Symbol">}</a> <a id="602" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#602" class="Bound">x</a> <a id="604" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#604" class="Bound">y</a> <a id="606" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#606" class="Bound">z</a> <a id="608" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#608" class="Bound">x≡y</a> <a id="612" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#612" class="Bound">P₁</a> <a id="615" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#615" class="Bound">y≡z</a> <a id="619" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#619" class="Bound">P₂</a> <a id="622" class="Symbol">=</a> <a id="624" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#612" class="Bound">P₁</a> <a id="627" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#615" class="Bound">y≡z</a> <a id="631" class="Symbol">(</a><a id="632" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#608" class="Bound">x≡y</a> <a id="636" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#615" class="Bound">y≡z</a> <a id="640" href="{% endraw %}{% link _posts/2018-02-09-Diary.md %}{% raw %}#619" class="Bound">P₂</a><a id="642" class="Symbol">)</a>{% endraw %}</pre>

Thanks Håkon Robbestad to show me the way to do this. :)