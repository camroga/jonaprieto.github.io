---
layout: "post"
title: "Circle puzzle"
date: "2018-05-01"
categories: type-theory
---

Moebius type family:

<p class="equation">
$$
\mathsf{rec}_{\mathbb{S}^1}\, \mathcal{U}\, 2\, (\mathsf{ua}(\mathsf{rec}_{2}\,2\,1_{2}\,0_{2})):
\mathbb{S}^1 \to \mathcal{U}.
$$
</p>

<div class="exercise">
Prove the equivalence of

<p class="equation">
$$\sum\,{\mathbb{S}^1}\,(\mathsf{rec}_{\mathbb{S}^1}\, \mathcal{U}\,  2\, (\mathsf{ua}(\mathsf{rec}_{2}2 1_{2} 0_{2}))) \simeq \mathbb{S}^1.$$
</p>
</div>

To solve this problem, let us recall the following results:

- The univalence axiom: for all $$A : \mathcal{U}$$ and $$B : \mathcal{U}$$,

<p class="equation">
$$
\mathsf{ua} : A\simeq B \to A =_{\mathcal{U}} B.
$$
</p>

- Circle is a higher inductive type generated by
    - a point $$\mathsf{base} : \mathbb{S}^1$$, and
    - a path $$\mathsf{loop} : \mathsf{base} \equiv \mathsf{base}$$
    - Theorem: $$ \mathsf{loop} \not \equiv \mathsf{refl}_{\mathsf{base}}$$
    - Recursion principle $$\mathsf{rec}$$:

      $$\begin{align*}
      &\mathsf{ref} : (f : \mathbb{S}^1 \to \mathsf{A}) \to (\mathbb{S}^1 \to \mathcal{U})\\
      &\mathsf{ref}~f~\mathsf{base}~=~f~\mathsf{base}\\
      &\mathsf{ref}~f~\mathsf{loop}~=~\mathsf{ap}_{f}~\mathsf{loop}
      \end{align*}
      $$

- The type for equivalence from $$A$$ to $$B$$

$$
  (A \simeq B) :\equiv \sum\limits_{f : A \to B} \mathsf{isequiv}(f),
$$

where

$$
\mathsf{isequiv(f)} :\equiv
  \left (\sum\limits_{g : B \to A} (f \circ g \sim \mathsf{id}_{B})\right) \times
  \left (\sum\limits_{h : B \to A} (h \circ f \sim \mathsf{id}_{A})\right).
$$

- The homotopy concept:

Let $$f , g : \prod\limits_{(x:A)} P(x)$$ be two sections of a
type family $$P : A \to \mathcal{U}$$. A **homotopy** from $$f$$ to $$g$$
is a dependent function of type

$$
(f \sim g) :\equiv \prod\limits_{x : A} (f(x) \equiv g(x)).
$$

![path-triangle](/assets/ipe-images/Bid.png)

## Experiment in Agda

Using HoTT-Agda:

<pre class="Agda">{% raw %}<a id="1967" class="Symbol">{-#</a> <a id="1971" class="Keyword">OPTIONS</a> <a id="1979" class="Option">--without-K</a> <a id="1991" class="Symbol">#-}</a>

<a id="1996" class="Keyword">open</a> <a id="2001" class="Keyword">import</a> <a id="2008" href="HoTT.html" class="Module">HoTT</a>

<a id="b" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#b" class="Function">b</a> <a id="2016" class="Symbol">:</a> <a id="2018" href="lib.types.IteratedSuspension.html#S%C2%B9" class="Function">S¹</a>
<a id="2021" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#b" class="Function">b</a> <a id="2023" class="Symbol">=</a> <a id="2025" href="lib.types.Circle.html#708" class="Function">base</a>

<a id="l" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#l" class="Function">l</a> <a id="2033" class="Symbol">:</a> <a id="2035" href="lib.types.Circle.html#708" class="Function">base</a> <a id="2040" href="lib.Base.html#_%3D%3D_" class="Datatype Operator">==</a> <a id="2043" href="lib.types.Circle.html#708" class="Function">base</a>
<a id="2048" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#l" class="Function">l</a> <a id="2050" class="Symbol">=</a> <a id="2052" href="lib.types.Circle.html#736" class="Function">loop</a>

<a id="id" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#id" class="Function">id</a> <a id="2061" class="Symbol">:</a> <a id="2063" href="lib.types.Bool.html#Bool" class="Function">Bool</a> <a id="2068" class="Symbol">→</a> <a id="2070" href="lib.types.Bool.html#Bool" class="Function">Bool</a>
<a id="2075" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#id" class="Function">id</a> <a id="2078" class="Symbol">=</a> <a id="2080" class="Symbol">λ</a> <a id="2082" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2082" class="Bound">z</a> <a id="2084" class="Symbol">→</a> <a id="2086" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2082" class="Bound">z</a>

<a id="neg" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#neg" class="Function">neg</a> <a id="2093" class="Symbol">:</a> <a id="2095" href="lib.types.Bool.html#Bool" class="Function">Bool</a> <a id="2100" class="Symbol">→</a> <a id="2102" href="lib.types.Bool.html#Bool" class="Function">Bool</a>
<a id="2107" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#neg" class="Function">neg</a> <a id="2111" href="lib.types.Bool.html#false" class="InductiveConstructor">false</a> <a id="2117" class="Symbol">=</a> <a id="2119" href="lib.types.Bool.html#true" class="InductiveConstructor">true</a>
<a id="2124" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#neg" class="Function">neg</a> <a id="2128" href="lib.types.Bool.html#true" class="InductiveConstructor">true</a>  <a id="2134" class="Symbol">=</a> <a id="2136" href="lib.types.Bool.html#false" class="InductiveConstructor">false</a>

<a id="id-equiv" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#id-equiv" class="Function">id-equiv</a> <a id="2152" class="Symbol">:</a> <a id="2154" href="lib.types.Bool.html#Bool" class="Function">Bool</a> <a id="2159" href="lib.Equivalence.html#_%E2%89%83_" class="Function Operator">≃</a> <a id="2161" href="lib.types.Bool.html#Bool" class="Function">Bool</a>
<a id="2166" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#id-equiv" class="Function">id-equiv</a> <a id="2175" class="Symbol">=</a> <a id="2177" href="lib.Equivalence.html#4643" class="Function">equiv</a> <a id="2183" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#id" class="Function">id</a> <a id="2186" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#id" class="Function">id</a> <a id="2189" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2215" class="Function">helper</a> <a id="2196" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2215" class="Function">helper</a>
  <a id="2205" class="Keyword">where</a>
    <a id="2215" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2215" class="Function">helper</a> <a id="2222" class="Symbol">:</a> <a id="2224" class="Symbol">(</a><a id="2225" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2225" class="Bound">b</a> <a id="2227" class="Symbol">:</a> <a id="2229" href="lib.types.Bool.html#Bool" class="Function">Bool</a><a id="2233" class="Symbol">)</a> <a id="2235" class="Symbol">→</a> <a id="2237" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#id" class="Function">id</a> <a id="2240" class="Symbol">(</a><a id="2241" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#id" class="Function">id</a> <a id="2244" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2225" class="Bound">b</a><a id="2245" class="Symbol">)</a> <a id="2247" href="lib.Base.html#_%3D%3D_" class="Datatype Operator">==</a> <a id="2250" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2225" class="Bound">b</a>
    <a id="2256" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2215" class="Function">helper</a> <a id="2263" href="lib.types.Bool.html#true" class="InductiveConstructor">true</a>  <a id="2269" class="Symbol">=</a> <a id="2271" href="lib.Base.html#ap" class="Function">ap</a> <a id="2274" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#id" class="Function">id</a> <a id="2277" href="lib.Base.html#_%3D%3D_.idp" class="InductiveConstructor">idp</a>
    <a id="2285" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2215" class="Function">helper</a> <a id="2292" href="lib.types.Bool.html#false" class="InductiveConstructor">false</a> <a id="2298" class="Symbol">=</a> <a id="2300" href="lib.Base.html#ap" class="Function">ap</a> <a id="2303" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#id" class="Function">id</a> <a id="2306" href="lib.Base.html#_%3D%3D_.idp" class="InductiveConstructor">idp</a>

<a id="neg-equiv" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#neg-equiv" class="Function">neg-equiv</a> <a id="2321" class="Symbol">:</a> <a id="2323" href="lib.types.Bool.html#Bool" class="Function">Bool</a> <a id="2328" href="lib.Equivalence.html#_%E2%89%83_" class="Function Operator">≃</a> <a id="2330" href="lib.types.Bool.html#Bool" class="Function">Bool</a>
<a id="2335" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#neg-equiv" class="Function">neg-equiv</a> <a id="2345" class="Symbol">=</a> <a id="2347" href="lib.Equivalence.html#4643" class="Function">equiv</a> <a id="2353" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#neg" class="Function">neg</a> <a id="2357" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#neg" class="Function">neg</a> <a id="2361" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2389" class="Function">helper₁</a> <a id="2369" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2389" class="Function">helper₁</a>
  <a id="2379" class="Keyword">where</a>
    <a id="2389" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2389" class="Function">helper₁</a> <a id="2397" class="Symbol">:</a> <a id="2399" class="Symbol">(</a><a id="2400" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2400" class="Bound">b₁</a> <a id="2403" class="Symbol">:</a> <a id="2405" href="lib.types.Bool.html#Bool" class="Function">Bool</a><a id="2409" class="Symbol">)</a> <a id="2411" class="Symbol">→</a> <a id="2413" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#neg" class="Function">neg</a> <a id="2417" class="Symbol">(</a><a id="2418" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#neg" class="Function">neg</a> <a id="2422" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2400" class="Bound">b₁</a><a id="2424" class="Symbol">)</a> <a id="2426" href="lib.Base.html#_%3D%3D_" class="Datatype Operator">==</a> <a id="2429" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2400" class="Bound">b₁</a>
    <a id="2436" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2389" class="Function">helper₁</a> <a id="2444" href="lib.types.Bool.html#false" class="InductiveConstructor">false</a> <a id="2450" class="Symbol">=</a> <a id="2452" href="lib.Base.html#ap" class="Function">ap</a> <a id="2455" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#neg" class="Function">neg</a> <a id="2459" href="lib.Base.html#_%3D%3D_.idp" class="InductiveConstructor">idp</a>
    <a id="2467" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2389" class="Function">helper₁</a> <a id="2475" href="lib.types.Bool.html#true" class="InductiveConstructor">true</a>  <a id="2481" class="Symbol">=</a> <a id="2483" href="lib.Base.html#ap" class="Function">ap</a> <a id="2486" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#neg" class="Function">neg</a> <a id="2490" href="lib.Base.html#_%3D%3D_.idp" class="InductiveConstructor">idp</a>

<a id="2495" class="Comment">-- open import S₁Rec</a>


<a id="B" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#B" class="Function">B</a> <a id="2520" class="Symbol">:</a> <a id="2522" href="lib.types.IteratedSuspension.html#S%C2%B9" class="Function">S¹</a> <a id="2525" class="Symbol">→</a> <a id="2527" href="lib.Base.html#Type%E2%82%80" class="Function">Type₀</a>
<a id="2533" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#B" class="Function">B</a> <a id="2535" class="Symbol">=</a> <a id="2537" href="lib.types.Circle.html#S%C2%B9Rec.S%C2%B9-rec" class="Function">S¹-rec</a> <a id="2544" href="lib.types.Bool.html#Bool" class="Function">Bool</a> <a id="2549" class="Symbol">(</a><a id="2550" href="lib.Univalence.html#ua" class="Postulate">ua</a> <a id="2553" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#neg-equiv" class="Function">neg-equiv</a><a id="2562" class="Symbol">)</a>

<a id="2565" class="Comment">-- (ua neg-equiv) x)</a>

<a id="2587" class="Keyword">module</a> <a id="RR" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#RR" class="Module">RR</a> <a id="2597" class="Symbol">=</a> <a id="2599" href="lib.types.Circle.html#S%C2%B9Rec" class="Module">S¹Rec</a> <a id="2605" class="Symbol">{</a><a id="2606" class="Argument">A</a> <a id="2608" class="Symbol">=</a> <a id="2610" href="lib.Base.html#Type%E2%82%80" class="Function">Type₀</a><a id="2615" class="Symbol">}</a> <a id="2617" href="lib.types.Bool.html#Bool" class="Function">Bool</a> <a id="2622" class="Symbol">(</a><a id="2623" href="lib.Univalence.html#ua" class="Postulate">ua</a> <a id="2626" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#neg-equiv" class="Function">neg-equiv</a><a id="2635" class="Symbol">)</a>

<a id="2638" class="Keyword">postulate</a>
  <a id="eq1" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#eq1" class="Postulate">eq1</a> <a id="2654" class="Symbol">:</a> <a id="2656" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#B" class="Function">B</a> <a id="2658" href="lib.types.Circle.html#708" class="Function">base</a> <a id="2663" href="lib.Base.html#_%3D%3D_" class="Datatype Operator">==</a> <a id="2666" href="lib.types.Bool.html#Bool" class="Function">Bool</a>

<a id="y" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#y" class="Function">y</a> <a id="2674" class="Symbol">:</a> <a id="2676" href="lib.Base.html#%CE%A3" class="Record">Σ</a> <a id="2678" href="lib.types.Bool.html#Bool" class="Function">Bool</a> <a id="2683" class="Symbol">(λ</a> <a id="2686" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2686" class="Bound">x</a> <a id="2688" class="Symbol">→</a> <a id="2690" href="lib.Base.html#%CE%A0" class="Function">Π</a> <a id="2692" href="lib.types.Bool.html#Bool" class="Function">Bool</a> <a id="2697" class="Symbol">(λ</a> <a id="2700" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2700" class="Bound">a</a> <a id="2702" class="Symbol">→</a> <a id="2704" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2686" class="Bound">x</a> <a id="2706" href="lib.Base.html#_%3D%3D_" class="Datatype Operator">==</a> <a id="2709" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#2700" class="Bound">a</a><a id="2710" class="Symbol">))</a>
<a id="2713" href="{% endraw %}{% link _posts/2018-05-01-circle-puzzle.md %}{% raw %}#y" class="Function">y</a> <a id="2715" class="Symbol">=</a> <a id="2717" class="Symbol">(</a><a id="2718" href="lib.types.Bool.html#true" class="InductiveConstructor">true</a> <a id="2723" href="lib.Base.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2725" href="lib.types.Bool.html#Bool-elim" class="Function">Bool-elim</a> <a id="2735" href="lib.Base.html#_%3D%3D_.idp" class="InductiveConstructor">idp</a> <a id="2739" class="Symbol">(</a><a id="2740" href="lib.Base.html#apd" class="Function">apd</a> <a id="2744" class="Symbol">{!!}</a> <a id="2749" class="Symbol">{!!}))</a>{% endraw %}</pre>


## References

{::options parse_block_html="true" /}
<div class="references">
- {% reference hottbook %}
</div>
{::options parse_block_html="false" /}
