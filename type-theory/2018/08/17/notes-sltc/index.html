<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>
    
      
        Simple Typed Lambda Calculus |
      
        jonaprieto ∷ WorkInProgress
    
  </title><!-- Begin Jekyll SEO tag v2.5.0 -->
<meta name="generator" content="Jekyll v3.8.3" />
<meta property="og:title" content="Simple Typed Lambda Calculus" />
<meta name="author" content="Jonathan Prieto-Cubides" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="We present a formalisation of the syntax in Agda for the Simple Typed Lambda Calculus (STLC) with some of its properties and the description of the type-checking for this type system. We refactor the implementation by @gergoerdi for this calculus, in particular the Scopecheck and Typecheck module." />
<meta property="og:description" content="We present a formalisation of the syntax in Agda for the Simple Typed Lambda Calculus (STLC) with some of its properties and the description of the type-checking for this type system. We refactor the implementation by @gergoerdi for this calculus, in particular the Scopecheck and Typecheck module." />
<link rel="canonical" href="http://jonaprieto.github.io/type-theory/2018/08/17/notes-sltc/" />
<meta property="og:url" content="http://jonaprieto.github.io/type-theory/2018/08/17/notes-sltc/" />
<meta property="og:site_name" content="jonaprieto" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-08-17T00:00:00+02:00" />
<script type="application/ld+json">
{"description":"We present a formalisation of the syntax in Agda for the Simple Typed Lambda Calculus (STLC) with some of its properties and the description of the type-checking for this type system. We refactor the implementation by @gergoerdi for this calculus, in particular the Scopecheck and Typecheck module.","author":{"@type":"Person","name":"Jonathan Prieto-Cubides"},"@type":"BlogPosting","url":"http://jonaprieto.github.io/type-theory/2018/08/17/notes-sltc/","headline":"Simple Typed Lambda Calculus","dateModified":"2018-08-18T00:33:30+02:00","datePublished":"2018-08-17T00:00:00+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://jonaprieto.github.io/type-theory/2018/08/17/notes-sltc/"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<meta name="description" content="We present a formalisation of the syntax in Agda for the Simple Typed Lambda Calculus (STLC) with some of its properties and the description of the type-chec...">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="preload" as="script" href="/assets/main.js" >
  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">
  
  <link rel="preload" as="script" href="/assets/js/latex.js" >
  
  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-114360791-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-114360791-1');
  </script>

  
</head>




  <body>
    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item" >
    <p style="text-decoration:left">Jonathan Prieto-Cubides</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    <!--  -->
    <!-- 
      
    
      
    
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">About</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/all/">All</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/references/">List of references</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/plans/">Plans</a>
        
      
     -->

    <a class="sidebar-nav-item" href="/about/">About</a>
    <!-- <a class="sidebar-nav-item" href="/plans/">Plans</a> -->
    <a class="sidebar-nav-item" href="http://github.com/jonaprieto/jonaprieto.github.io">GitHub</a>
    <!-- <span class="sidebar-nav-item">Currently v0.0.1</span> -->
  </nav>
</div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="https://github.com/jonaprieto"><img alt="@jonaprieto" class="avatar float-left mr-1" src="https://avatars3.githubusercontent.com/u/1428088?s=40&amp;v=4" height="20" width="20"></a>
            <a href="/" title="Home">jonaprieto</a>
            <small style="text-decoration:left">∷ WorkInProgress</small>
          </h3>
        </div>
      
      <div class="container content">
        





<div class="post">

  <div class="print-version">
    <center>
      <h1>Simple Typed Lambda Calculus </h1><br/>
        <div class="print-authors">
          <div class="print-info">
            <div class="print-author">
              <div class="print-author-name">
                
                  Jonathan Prieto-Cubides
                
              </div>
              <div class="print-author-affiliation">
                
                  University of Bergen
                
                </div>
            </div>
          </div>
          
        </div>
        <div class="print-date">17 August 2018</div>
        
        
    </center>
  </div>

  
  <div class="main-heading">
    <div class="main-title">
      <div class="main-title-prefix"> Latest change:</div>
      <div class="main-commit-message">
            <a href="http://github.com/jonaprieto/jonaprieto.github.io/blob/4dd5aaf4f66539170d0cc712477df80c19e85263/src/2018-08-17-notes-sltc.lagda">
              [ stlc ] fixed some typos</a>
      </div>
    </div>

    <div class="main-last-date">
      Latest commit <a href="http://github.com/jonaprieto/jonaprieto.github.io/blob/4dd5aaf4f66539170d0cc712477df80c19e85263/src/2018-08-17-notes-sltc.lagda">cea183d </a> on  21 Aug 2018
    </div>
  </div>
  
  <h1 class="post-title">Simple Typed Lambda Calculus
    <div class="github-links">
      <small class="view-source"><a href="https://raw.githubusercontent.com/jonaprieto/jonaprieto.github.io/4dd5aaf4f66539170d0cc712477df80c19e85263/src/2018-08-17-notes-sltc.lagda" download target="_blank">Raw</a><a href="http://github.com/jonaprieto/jonaprieto.github.io/blob/4dd5aaf4f66539170d0cc712477df80c19e85263/src/2018-08-17-notes-sltc.lagda" target="_blank">View source</a><a href="http://github.com/jonaprieto/jonaprieto.github.io/edit/sources/src/2018-08-17-notes-sltc.lagda" target="_blank">Edit</a><a href="http://github.com/jonaprieto/jonaprieto.github.io/commits/4dd5aaf4f66539170d0cc712477df80c19e85263/src/2018-08-17-notes-sltc.lagda" target="_blank">History</a><a  href="#" onclick="window.print();return false;" target="_blank">Print</a></small>
    </div>
  </h1>
  
  <div class="toc">
    <nav>
    <h2 class="table-of-contents"> Table of Contents </h2>
      <ul>
  <li><a href="#syntax">Syntax</a></li>
  <li><a href="#bound">Bound</a></li>
  <li><a href="#scopecheck">Scopecheck</a></li>
  <li><a href="#typing">Typing</a></li>
  <li><a href="#references">References</a></li>
</ul>

    </nav>
  </div>
  
  <p>We present a formalisation of the syntax in Agda for the <em>Simple Typed Lambda
Calculus (STLC)</em> with some of its properties and the description of the
type-checking for this type system. We refactor the implementation by
<a href="https://github.com/gergoerdi/stlc-agda/">@gergoerdi</a> for this calculus,
in particular the <a href="https://github.com/jonaprieto/stlctalk/blob/master/src/Scopecheck.agda">Scopecheck</a>
and <a href="https://github.com/jonaprieto/stlctalk/blob/master/src/Typecheck.agda">Typecheck</a> module.</p>

<p>The following source code tested with:</p>

<ul>
  <li>Agda v2.5.4</li>
  <li>Agda Standard Library v0.16</li>
</ul>

<p>The original content was firstly exposed at EAFIT in Seminar of Logic:</p>

<ul>
  <li><a href="https://github.com/jonaprieto/stlctalk/raw/master/slides/slides.pdf">Slides</a>.</li>
  <li>Repository: <a href="https://github.com/jonaprieto/stlctalk">https://github.com/jonaprieto/stlctalk</a>.</li>
</ul>

<pre class="Agda foldable"><a id="998" class="Comment">-- Agda Imports</a>

<a id="1015" class="Keyword">open</a> <a id="1020" class="Keyword">import</a> <a id="1027" href="https://agda.github.io/agda-stdlib/Data.String.html" class="Module">Data.String</a> <a id="1039" class="Keyword">using</a> <a id="1045" class="Symbol">(</a><a id="1046" href="https://agda.github.io/agda-stdlib/Agda.Builtin.String.html#165" class="Postulate">String</a><a id="1052" class="Symbol">)</a>
<a id="1054" class="Keyword">open</a> <a id="1059" class="Keyword">import</a> <a id="1066" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="1093" class="Keyword">using</a> <a id="1099" class="Symbol">(</a><a id="1100" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Decidable.html#954" class="Function">False</a><a id="1105" class="Symbol">)</a>
<a id="1107" class="Keyword">open</a> <a id="1112" class="Keyword">import</a> <a id="1119" href="https://agda.github.io/agda-stdlib/Relation.Binary.html" class="Module">Relation.Binary</a> <a id="1135" class="Keyword">using</a> <a id="1141" class="Symbol">(</a><a id="1142" href="https://agda.github.io/agda-stdlib/Relation.Binary.html#2772" class="Record">IsDecEquivalence</a><a id="1158" class="Symbol">)</a>
<a id="1160" class="Keyword">open</a> <a id="1165" class="Keyword">import</a> <a id="1172" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="1210" class="Keyword">using</a> <a id="1216" class="Symbol">(</a><a id="1217" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="1220" class="Symbol">;</a> <a id="1222" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#700" class="Function">subst</a><a id="1227" class="Symbol">)</a></pre>

<h3 id="syntax">Syntax</h3>

<p>First definition of Typed Lambda Calculus</p>

<pre class="Agda"><a id="Name"></a><a id="1310" href="/type-theory/2018/08/17/notes-sltc/#1310" class="Function">Name</a> <a id="1315" class="Symbol">:</a> <a id="1317" class="PrimitiveType">Set</a>
<a id="1321" href="/type-theory/2018/08/17/notes-sltc/#1310" class="Function">Name</a> <a id="1326" class="Symbol">=</a> <a id="1328" href="https://agda.github.io/agda-stdlib/Agda.Builtin.String.html#165" class="Postulate">String</a>

<a id="1336" class="Keyword">module</a> <a id="Syntax"></a><a id="1343" href="/type-theory/2018/08/17/notes-sltc/#1343" class="Module">Syntax</a> <a id="1350" class="Symbol">(</a><a id="1351" href="/type-theory/2018/08/17/notes-sltc/#1351" class="Bound">Type</a> <a id="1356" class="Symbol">:</a> <a id="1358" class="PrimitiveType">Set</a><a id="1361" class="Symbol">)</a> <a id="1363" class="Keyword">where</a>

  <a id="1372" class="Keyword">data</a> <a id="Syntax.Formal"></a><a id="1377" href="/type-theory/2018/08/17/notes-sltc/#1377" class="Datatype">Formal</a> <a id="1384" class="Symbol">:</a> <a id="1386" class="PrimitiveType">Set</a> <a id="1390" class="Keyword">where</a>
    <a id="Syntax.Formal._∶_"></a><a id="1400" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">_∶_</a> <a id="1404" class="Symbol">:</a> <a id="1406" href="/type-theory/2018/08/17/notes-sltc/#1310" class="Function">Name</a> <a id="1411" class="Symbol">→</a> <a id="1413" href="/type-theory/2018/08/17/notes-sltc/#1351" class="Bound">Type</a> <a id="1418" class="Symbol">→</a> <a id="1420" href="/type-theory/2018/08/17/notes-sltc/#1377" class="Datatype">Formal</a>

  <a id="1430" class="Keyword">data</a> <a id="Syntax.Expr"></a><a id="1435" href="/type-theory/2018/08/17/notes-sltc/#1435" class="Datatype">Expr</a> <a id="1440" class="Symbol">:</a> <a id="1442" class="PrimitiveType">Set</a> <a id="1446" class="Keyword">where</a>
    <a id="Syntax.Expr.var"></a><a id="1456" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="1460" class="Symbol">:</a> <a id="1462" href="/type-theory/2018/08/17/notes-sltc/#1310" class="Function">Name</a>   <a id="1469" class="Symbol">→</a> <a id="1471" href="/type-theory/2018/08/17/notes-sltc/#1435" class="Datatype">Expr</a>
    <a id="Syntax.Expr.lam"></a><a id="1480" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="1484" class="Symbol">:</a> <a id="1486" href="/type-theory/2018/08/17/notes-sltc/#1377" class="Datatype">Formal</a> <a id="1493" class="Symbol">→</a> <a id="1495" href="/type-theory/2018/08/17/notes-sltc/#1435" class="Datatype">Expr</a> <a id="1500" class="Symbol">→</a> <a id="1502" href="/type-theory/2018/08/17/notes-sltc/#1435" class="Datatype">Expr</a>
    <a id="Syntax.Expr._∙_"></a><a id="1511" href="/type-theory/2018/08/17/notes-sltc/#1511" class="InductiveConstructor Operator">_∙_</a> <a id="1515" class="Symbol">:</a> <a id="1517" href="/type-theory/2018/08/17/notes-sltc/#1435" class="Datatype">Expr</a>   <a id="1524" class="Symbol">→</a> <a id="1526" href="/type-theory/2018/08/17/notes-sltc/#1435" class="Datatype">Expr</a> <a id="1531" class="Symbol">→</a> <a id="1533" href="/type-theory/2018/08/17/notes-sltc/#1435" class="Datatype">Expr</a>

  <a id="1541" class="Keyword">infixl</a> <a id="1548" class="Number">20</a> <a id="1551" href="/type-theory/2018/08/17/notes-sltc/#1511" class="InductiveConstructor Operator">_∙_</a></pre>

<h4 id="examples">Examples</h4>

<pre class="Agda"><a id="1598" class="Keyword">private</a>
    <a id="1610" class="Keyword">postulate</a>
      <a id="Syntax.A"></a><a id="1626" href="/type-theory/2018/08/17/notes-sltc/#1626" class="Postulate">A</a> <a id="1628" class="Symbol">:</a> <a id="1630" href="/type-theory/2018/08/17/notes-sltc/#1351" class="Bound">Type</a>

    <a id="Syntax.x"></a><a id="1640" href="/type-theory/2018/08/17/notes-sltc/#1640" class="Function">x</a> <a id="1642" class="Symbol">=</a> <a id="1644" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="1648" class="String">&quot;x&quot;</a>
    <a id="Syntax.y"></a><a id="1656" href="/type-theory/2018/08/17/notes-sltc/#1656" class="Function">y</a> <a id="1658" class="Symbol">=</a> <a id="1660" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="1664" class="String">&quot;y&quot;</a>
    <a id="Syntax.z"></a><a id="1672" href="/type-theory/2018/08/17/notes-sltc/#1672" class="Function">z</a> <a id="1674" class="Symbol">=</a> <a id="1676" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="1680" class="String">&quot;z&quot;</a>

    <a id="1689" class="Comment">-- λ(x:A).x</a>
    <a id="Syntax.I"></a><a id="1705" href="/type-theory/2018/08/17/notes-sltc/#1705" class="Function">I</a> <a id="1707" class="Symbol">:</a> <a id="1709" href="/type-theory/2018/08/17/notes-sltc/#1435" class="Datatype">Expr</a>
    <a id="1718" href="/type-theory/2018/08/17/notes-sltc/#1705" class="Function">I</a> <a id="1720" class="Symbol">=</a> <a id="1722" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="1726" class="Symbol">(</a><a id="1727" class="String">&quot;x&quot;</a> <a id="1731" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">∶</a> <a id="1733" href="/type-theory/2018/08/17/notes-sltc/#1626" class="Postulate">A</a><a id="1734" class="Symbol">)</a> <a id="1736" href="/type-theory/2018/08/17/notes-sltc/#1640" class="Function">x</a>

    <a id="1743" class="Comment">-- λ(x,y:A).x</a>
    <a id="Syntax.K"></a><a id="1761" href="/type-theory/2018/08/17/notes-sltc/#1761" class="Function">K</a> <a id="1763" class="Symbol">:</a> <a id="1765" href="/type-theory/2018/08/17/notes-sltc/#1435" class="Datatype">Expr</a>
    <a id="1774" href="/type-theory/2018/08/17/notes-sltc/#1761" class="Function">K</a> <a id="1776" class="Symbol">=</a> <a id="1778" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="1782" class="Symbol">(</a><a id="1783" class="String">&quot;x&quot;</a> <a id="1787" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">∶</a> <a id="1789" href="/type-theory/2018/08/17/notes-sltc/#1626" class="Postulate">A</a><a id="1790" class="Symbol">)</a> <a id="1792" class="Symbol">(</a><a id="1793" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="1797" class="Symbol">(</a><a id="1798" class="String">&quot;y&quot;</a> <a id="1802" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">∶</a> <a id="1804" href="/type-theory/2018/08/17/notes-sltc/#1626" class="Postulate">A</a><a id="1805" class="Symbol">)</a> <a id="1807" href="/type-theory/2018/08/17/notes-sltc/#1640" class="Function">x</a><a id="1808" class="Symbol">)</a>

    <a id="1815" class="Comment">-- λ(x,y,z:A).xz(yz)</a>
    <a id="Syntax.S"></a><a id="1840" href="/type-theory/2018/08/17/notes-sltc/#1840" class="Function">S</a> <a id="1842" class="Symbol">:</a> <a id="1844" href="/type-theory/2018/08/17/notes-sltc/#1435" class="Datatype">Expr</a>
    <a id="1853" href="/type-theory/2018/08/17/notes-sltc/#1840" class="Function">S</a> <a id="1855" class="Symbol">=</a>
      <a id="1863" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="1867" class="Symbol">(</a><a id="1868" class="String">&quot;x&quot;</a> <a id="1872" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">∶</a> <a id="1874" href="/type-theory/2018/08/17/notes-sltc/#1626" class="Postulate">A</a><a id="1875" class="Symbol">)</a>
        <a id="1885" class="Symbol">(</a><a id="1886" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="1890" class="Symbol">(</a><a id="1891" class="String">&quot;y&quot;</a> <a id="1895" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">∶</a> <a id="1897" href="/type-theory/2018/08/17/notes-sltc/#1626" class="Postulate">A</a><a id="1898" class="Symbol">)</a>
          <a id="1910" class="Symbol">(</a><a id="1911" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="1915" class="Symbol">(</a><a id="1916" class="String">&quot;z&quot;</a> <a id="1920" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">∶</a> <a id="1922" href="/type-theory/2018/08/17/notes-sltc/#1626" class="Postulate">A</a><a id="1923" class="Symbol">)</a>
            <a id="1937" class="Symbol">((</a><a id="1939" href="/type-theory/2018/08/17/notes-sltc/#1640" class="Function">x</a> <a id="1941" href="/type-theory/2018/08/17/notes-sltc/#1511" class="InductiveConstructor Operator">∙</a> <a id="1943" href="/type-theory/2018/08/17/notes-sltc/#1672" class="Function">z</a><a id="1944" class="Symbol">)</a> <a id="1946" href="/type-theory/2018/08/17/notes-sltc/#1511" class="InductiveConstructor Operator">∙</a> <a id="1948" class="Symbol">(</a><a id="1949" href="/type-theory/2018/08/17/notes-sltc/#1656" class="Function">y</a> <a id="1951" href="/type-theory/2018/08/17/notes-sltc/#1511" class="InductiveConstructor Operator">∙</a> <a id="1953" href="/type-theory/2018/08/17/notes-sltc/#1672" class="Function">z</a><a id="1954" class="Symbol">))))</a></pre>

<h3 id="bound">Bound</h3>

<p>Lambda terms using De Bruijn indexes.</p>

<pre class="Agda"><a id="2035" class="Keyword">module</a> <a id="Bound"></a><a id="2042" href="/type-theory/2018/08/17/notes-sltc/#2042" class="Module">Bound</a> <a id="2048" class="Symbol">(</a><a id="2049" href="/type-theory/2018/08/17/notes-sltc/#2049" class="Bound">Type</a> <a id="2054" class="Symbol">:</a> <a id="2056" class="PrimitiveType">Set</a><a id="2059" class="Symbol">)</a> <a id="2061" class="Keyword">where</a>

  <a id="2070" class="Keyword">open</a> <a id="2075" class="Keyword">import</a> <a id="2082" href="https://agda.github.io/agda-stdlib/Data.Nat.html" class="Module">Data.Nat</a>    <a id="2094" class="Keyword">hiding</a> <a id="2101" class="Symbol">(</a><a id="2102" href="https://agda.github.io/agda-stdlib/Data.Nat.Base.html#2869" class="Function Operator">_≟_</a><a id="2105" class="Symbol">)</a>
  <a id="2109" class="Keyword">open</a> <a id="2114" class="Keyword">import</a> <a id="2121" href="https://agda.github.io/agda-stdlib/Data.Fin.html" class="Module">Data.Fin</a>    <a id="2133" class="Keyword">using</a> <a id="2139" class="Symbol">(</a><a id="2140" href="https://agda.github.io/agda-stdlib/Data.Fin.html#910" class="Datatype">Fin</a><a id="2143" class="Symbol">;</a> <a id="2145" href="https://agda.github.io/agda-stdlib/Data.Fin.html#1772" class="Function Operator">#_</a><a id="2147" class="Symbol">;</a> <a id="2149" href="https://agda.github.io/agda-stdlib/Data.Fin.html#963" class="InductiveConstructor">suc</a><a id="2152" class="Symbol">)</a>
  <a id="2156" class="Keyword">open</a> <a id="2161" class="Keyword">import</a> <a id="2168" href="https://agda.github.io/agda-stdlib/Data.String.html" class="Module">Data.String</a> <a id="2180" class="Keyword">using</a> <a id="2186" class="Symbol">(</a><a id="2187" href="https://agda.github.io/agda-stdlib/Data.String.html#1195" class="Function Operator">_≟_</a><a id="2190" class="Symbol">)</a>
  <a id="2194" class="Keyword">open</a> <a id="2199" class="Keyword">import</a> <a id="2206" href="https://agda.github.io/agda-stdlib/Data.Vec.html" class="Module">Data.Vec</a>    <a id="2218" class="Keyword">using</a> <a id="2224" class="Symbol">(</a><a id="2225" href="https://agda.github.io/agda-stdlib/Data.Vec.html#672" class="Datatype">Vec</a><a id="2228" class="Symbol">;</a> <a id="2230" href="https://agda.github.io/agda-stdlib/Data.Vec.html#731" class="InductiveConstructor Operator">_∷_</a><a id="2233" class="Symbol">;</a> <a id="2235" href="https://agda.github.io/agda-stdlib/Data.Vec.html#712" class="InductiveConstructor">[]</a><a id="2237" class="Symbol">)</a>

  <a id="2242" class="Keyword">module</a> <a id="S"></a><a id="2249" href="/type-theory/2018/08/17/notes-sltc/#2249" class="Module">S</a> <a id="2251" class="Symbol">=</a> <a id="2253" href="/type-theory/2018/08/17/notes-sltc/#1343" class="Module">Syntax</a> <a id="2260" href="/type-theory/2018/08/17/notes-sltc/#2049" class="Bound">Type</a>
  <a id="2267" class="Keyword">open</a> <a id="2272" href="/type-theory/2018/08/17/notes-sltc/#2249" class="Module">S</a> <a id="2274" class="Keyword">hiding</a> <a id="2281" class="Symbol">(</a><a id="2282" href="/type-theory/2018/08/17/notes-sltc/#1435" class="Datatype">Expr</a><a id="2286" class="Symbol">;</a> <a id="2288" class="Keyword">module</a> <a id="2295" href="/type-theory/2018/08/17/notes-sltc/#1435" class="Module">Expr</a><a id="2299" class="Symbol">)</a> <a id="2301" class="Keyword">public</a></pre>

<p>Syntax using indexes.</p>

<pre class="Agda"><a id="2359" class="Keyword">data</a> <a id="Bound.Expr"></a><a id="2364" href="/type-theory/2018/08/17/notes-sltc/#2364" class="Datatype">Expr</a> <a id="2369" class="Symbol">(</a><a id="2370" href="/type-theory/2018/08/17/notes-sltc/#2370" class="Bound">n</a> <a id="2372" class="Symbol">:</a> <a id="2374" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="2375" class="Symbol">)</a> <a id="2377" class="Symbol">:</a> <a id="2379" class="PrimitiveType">Set</a> <a id="2383" class="Keyword">where</a>
    <a id="Bound.Expr.var"></a><a id="2393" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="2397" class="Symbol">:</a> <a id="2399" href="https://agda.github.io/agda-stdlib/Data.Fin.html#910" class="Datatype">Fin</a> <a id="2403" href="/type-theory/2018/08/17/notes-sltc/#2370" class="Bound">n</a>  <a id="2406" class="Symbol">→</a> <a id="2408" href="/type-theory/2018/08/17/notes-sltc/#2364" class="Datatype">Expr</a> <a id="2413" href="/type-theory/2018/08/17/notes-sltc/#2370" class="Bound">n</a>
    <a id="Bound.Expr.lam"></a><a id="2419" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="2423" class="Symbol">:</a> <a id="2425" href="/type-theory/2018/08/17/notes-sltc/#2049" class="Bound">Type</a>   <a id="2432" class="Symbol">→</a> <a id="2434" href="/type-theory/2018/08/17/notes-sltc/#2364" class="Datatype">Expr</a> <a id="2439" class="Symbol">(</a><a id="2440" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2444" href="/type-theory/2018/08/17/notes-sltc/#2370" class="Bound">n</a><a id="2445" class="Symbol">)</a> <a id="2447" class="Symbol">→</a> <a id="2449" href="/type-theory/2018/08/17/notes-sltc/#2364" class="Datatype">Expr</a> <a id="2454" href="/type-theory/2018/08/17/notes-sltc/#2370" class="Bound">n</a>
    <a id="Bound.Expr._∙_"></a><a id="2460" href="/type-theory/2018/08/17/notes-sltc/#2460" class="InductiveConstructor Operator">_∙_</a> <a id="2464" class="Symbol">:</a> <a id="2466" href="/type-theory/2018/08/17/notes-sltc/#2364" class="Datatype">Expr</a> <a id="2471" href="/type-theory/2018/08/17/notes-sltc/#2370" class="Bound">n</a> <a id="2473" class="Symbol">→</a> <a id="2475" href="/type-theory/2018/08/17/notes-sltc/#2364" class="Datatype">Expr</a> <a id="2480" href="/type-theory/2018/08/17/notes-sltc/#2370" class="Bound">n</a>       <a id="2488" class="Symbol">→</a> <a id="2490" href="/type-theory/2018/08/17/notes-sltc/#2364" class="Datatype">Expr</a> <a id="2495" href="/type-theory/2018/08/17/notes-sltc/#2370" class="Bound">n</a>

  <a id="2500" class="Keyword">infixl</a> <a id="2507" class="Number">20</a> <a id="2510" href="/type-theory/2018/08/17/notes-sltc/#2460" class="InductiveConstructor Operator">_∙_</a>

  <a id="2517" class="Comment">-- The context for variables: vector of fixed length</a>
  <a id="2572" class="Comment">-- of strings.</a>
  <a id="Bound.Binder"></a><a id="2589" href="/type-theory/2018/08/17/notes-sltc/#2589" class="Function">Binder</a> <a id="2596" class="Symbol">:</a> <a id="2598" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="2600" class="Symbol">→</a> <a id="2602" class="PrimitiveType">Set</a>
  <a id="2608" href="/type-theory/2018/08/17/notes-sltc/#2589" class="Function">Binder</a> <a id="2615" class="Symbol">=</a> <a id="2617" href="https://agda.github.io/agda-stdlib/Data.Vec.html#672" class="Datatype">Vec</a> <a id="2621" href="/type-theory/2018/08/17/notes-sltc/#1310" class="Function">Name</a>

  <a id="2629" class="Keyword">infixl</a> <a id="2636" class="Number">5</a> <a id="2638" href="/type-theory/2018/08/17/notes-sltc/#2644" class="Function Operator">_,_</a>
  <a id="Bound._,_"></a><a id="2644" href="/type-theory/2018/08/17/notes-sltc/#2644" class="Function Operator">_,_</a> <a id="2648" class="Symbol">:</a> <a id="2650" class="Symbol">∀</a> <a id="2652" class="Symbol">{</a><a id="2653" href="/type-theory/2018/08/17/notes-sltc/#2653" class="Bound">n</a><a id="2654" class="Symbol">}</a> <a id="2656" class="Symbol">→</a> <a id="2658" href="/type-theory/2018/08/17/notes-sltc/#2589" class="Function">Binder</a> <a id="2665" href="/type-theory/2018/08/17/notes-sltc/#2653" class="Bound">n</a> <a id="2667" class="Symbol">→</a> <a id="2669" href="/type-theory/2018/08/17/notes-sltc/#1310" class="Function">Name</a> <a id="2674" class="Symbol">→</a> <a id="2676" href="/type-theory/2018/08/17/notes-sltc/#2589" class="Function">Binder</a> <a id="2683" class="Symbol">(</a><a id="2684" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="2688" href="/type-theory/2018/08/17/notes-sltc/#2653" class="Bound">n</a><a id="2689" class="Symbol">)</a>
  <a id="2693" href="/type-theory/2018/08/17/notes-sltc/#2693" class="Bound">Γ</a> <a id="2695" href="/type-theory/2018/08/17/notes-sltc/#2644" class="Function Operator">,</a> <a id="2697" href="/type-theory/2018/08/17/notes-sltc/#2697" class="Bound">x</a> <a id="2699" class="Symbol">=</a> <a id="2701" href="/type-theory/2018/08/17/notes-sltc/#2697" class="Bound">x</a> <a id="2703" href="https://agda.github.io/agda-stdlib/Data.Vec.html#731" class="InductiveConstructor Operator">∷</a> <a id="2705" href="/type-theory/2018/08/17/notes-sltc/#2693" class="Bound">Γ</a>

  <a id="2710" class="Keyword">infixl</a> <a id="2717" class="Number">3</a> <a id="2719" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">_⊢_⇝_</a>
  <a id="2727" class="Keyword">data</a> <a id="Bound._⊢_⇝_"></a><a id="2732" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">_⊢_⇝_</a> <a id="2738" class="Symbol">:</a> <a id="2740" class="Symbol">∀</a> <a id="2742" class="Symbol">{</a><a id="2743" href="/type-theory/2018/08/17/notes-sltc/#2743" class="Bound">n</a><a id="2744" class="Symbol">}</a> <a id="2746" class="Symbol">→</a> <a id="2748" href="/type-theory/2018/08/17/notes-sltc/#2589" class="Function">Binder</a> <a id="2755" href="/type-theory/2018/08/17/notes-sltc/#2743" class="Bound">n</a> <a id="2757" class="Symbol">→</a> <a id="2759" href="/type-theory/2018/08/17/notes-sltc/#1435" class="Datatype">S.Expr</a> <a id="2766" class="Symbol">→</a> <a id="2768" href="/type-theory/2018/08/17/notes-sltc/#2364" class="Datatype">Expr</a> <a id="2773" href="/type-theory/2018/08/17/notes-sltc/#2743" class="Bound">n</a> <a id="2775" class="Symbol">→</a> <a id="2777" class="PrimitiveType">Set</a> <a id="2781" class="Keyword">where</a>

    <a id="Bound._⊢_⇝_.var-zero"></a><a id="2792" href="/type-theory/2018/08/17/notes-sltc/#2792" class="InductiveConstructor">var-zero</a>
      <a id="2807" class="Symbol">:</a> <a id="2809" class="Symbol">∀</a> <a id="2811" class="Symbol">{</a><a id="2812" href="/type-theory/2018/08/17/notes-sltc/#2812" class="Bound">n</a> <a id="2814" href="/type-theory/2018/08/17/notes-sltc/#2814" class="Bound">x</a><a id="2815" class="Symbol">}</a> <a id="2817" class="Symbol">{</a><a id="2818" href="/type-theory/2018/08/17/notes-sltc/#2818" class="Bound">Γ</a> <a id="2820" class="Symbol">:</a> <a id="2822" href="/type-theory/2018/08/17/notes-sltc/#2589" class="Function">Binder</a> <a id="2829" href="/type-theory/2018/08/17/notes-sltc/#2812" class="Bound">n</a><a id="2830" class="Symbol">}</a>
      <a id="2838" class="Comment">---------------------------</a>
      <a id="2872" class="Symbol">→</a> <a id="2874" href="/type-theory/2018/08/17/notes-sltc/#2818" class="Bound">Γ</a> <a id="2876" href="/type-theory/2018/08/17/notes-sltc/#2644" class="Function Operator">,</a> <a id="2878" href="/type-theory/2018/08/17/notes-sltc/#2814" class="Bound">x</a> <a id="2880" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="2882" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="2886" href="/type-theory/2018/08/17/notes-sltc/#2814" class="Bound">x</a> <a id="2888" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="2890" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="2894" class="Symbol">(</a><a id="2895" href="https://agda.github.io/agda-stdlib/Data.Fin.html#1772" class="Function Operator">#</a> <a id="2897" class="Number">0</a><a id="2898" class="Symbol">)</a>

    <a id="Bound._⊢_⇝_.var-suc"></a><a id="2905" href="/type-theory/2018/08/17/notes-sltc/#2905" class="InductiveConstructor">var-suc</a>
      <a id="2919" class="Symbol">:</a> <a id="2921" class="Symbol">∀</a> <a id="2923" class="Symbol">{</a><a id="2924" href="/type-theory/2018/08/17/notes-sltc/#2924" class="Bound">n</a> <a id="2926" href="/type-theory/2018/08/17/notes-sltc/#2926" class="Bound">x</a> <a id="2928" href="/type-theory/2018/08/17/notes-sltc/#2928" class="Bound">y</a> <a id="2930" href="/type-theory/2018/08/17/notes-sltc/#2930" class="Bound">k</a><a id="2931" class="Symbol">}</a> <a id="2933" class="Symbol">{</a><a id="2934" href="/type-theory/2018/08/17/notes-sltc/#2934" class="Bound">Γ</a> <a id="2936" class="Symbol">:</a> <a id="2938" href="/type-theory/2018/08/17/notes-sltc/#2589" class="Function">Binder</a> <a id="2945" href="/type-theory/2018/08/17/notes-sltc/#2924" class="Bound">n</a><a id="2946" class="Symbol">}</a> <a id="2948" class="Symbol">{</a><a id="2949" href="/type-theory/2018/08/17/notes-sltc/#2949" class="Bound">p</a> <a id="2951" class="Symbol">:</a> <a id="2953" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Decidable.html#954" class="Function">False</a> <a id="2959" class="Symbol">(</a><a id="2960" href="/type-theory/2018/08/17/notes-sltc/#2926" class="Bound">x</a> <a id="2962" href="https://agda.github.io/agda-stdlib/Data.String.html#1195" class="Function Operator">≟</a> <a id="2964" href="/type-theory/2018/08/17/notes-sltc/#2928" class="Bound">y</a><a id="2965" class="Symbol">)}</a>
      <a id="2974" class="Symbol">→</a> <a id="2976" href="/type-theory/2018/08/17/notes-sltc/#2934" class="Bound">Γ</a> <a id="2978" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="2980" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="2984" href="/type-theory/2018/08/17/notes-sltc/#2926" class="Bound">x</a> <a id="2986" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="2988" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="2992" href="/type-theory/2018/08/17/notes-sltc/#2930" class="Bound">k</a>
      <a id="3000" class="Comment">-----------------------------</a>
      <a id="3036" class="Symbol">→</a> <a id="3038" href="/type-theory/2018/08/17/notes-sltc/#2934" class="Bound">Γ</a> <a id="3040" href="/type-theory/2018/08/17/notes-sltc/#2644" class="Function Operator">,</a> <a id="3042" href="/type-theory/2018/08/17/notes-sltc/#2928" class="Bound">y</a> <a id="3044" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="3046" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="3050" href="/type-theory/2018/08/17/notes-sltc/#2926" class="Bound">x</a> <a id="3052" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="3054" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="3058" class="Symbol">(</a><a id="3059" href="https://agda.github.io/agda-stdlib/Data.Fin.html#963" class="InductiveConstructor">suc</a> <a id="3063" href="/type-theory/2018/08/17/notes-sltc/#2930" class="Bound">k</a><a id="3064" class="Symbol">)</a>

    <a id="Bound._⊢_⇝_.lam"></a><a id="3071" href="/type-theory/2018/08/17/notes-sltc/#3071" class="InductiveConstructor">lam</a>
      <a id="3081" class="Symbol">:</a> <a id="3083" class="Symbol">∀</a> <a id="3085" class="Symbol">{</a><a id="3086" href="/type-theory/2018/08/17/notes-sltc/#3086" class="Bound">n</a> <a id="3088" href="/type-theory/2018/08/17/notes-sltc/#3088" class="Bound">x</a> <a id="3090" href="/type-theory/2018/08/17/notes-sltc/#3090" class="Bound">A</a> <a id="3092" href="/type-theory/2018/08/17/notes-sltc/#3092" class="Bound">t</a> <a id="3094" href="/type-theory/2018/08/17/notes-sltc/#3094" class="Bound">t&#39;</a><a id="3096" class="Symbol">}</a> <a id="3098" class="Symbol">{</a><a id="3099" href="/type-theory/2018/08/17/notes-sltc/#3099" class="Bound">Γ</a> <a id="3101" class="Symbol">:</a> <a id="3103" href="/type-theory/2018/08/17/notes-sltc/#2589" class="Function">Binder</a> <a id="3110" href="/type-theory/2018/08/17/notes-sltc/#3086" class="Bound">n</a><a id="3111" class="Symbol">}</a>
      <a id="3119" class="Symbol">→</a> <a id="3121" href="/type-theory/2018/08/17/notes-sltc/#3099" class="Bound">Γ</a> <a id="3123" href="/type-theory/2018/08/17/notes-sltc/#2644" class="Function Operator">,</a> <a id="3125" href="/type-theory/2018/08/17/notes-sltc/#3088" class="Bound">x</a> <a id="3127" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="3129" href="/type-theory/2018/08/17/notes-sltc/#3092" class="Bound">t</a> <a id="3131" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="3133" href="/type-theory/2018/08/17/notes-sltc/#3094" class="Bound">t&#39;</a>
      <a id="3142" class="Comment">------------------------------</a>
      <a id="3179" class="Symbol">→</a> <a id="3181" href="/type-theory/2018/08/17/notes-sltc/#3099" class="Bound">Γ</a> <a id="3183" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="3185" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="3189" class="Symbol">(</a><a id="3190" href="/type-theory/2018/08/17/notes-sltc/#3088" class="Bound">x</a> <a id="3192" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">∶</a> <a id="3194" href="/type-theory/2018/08/17/notes-sltc/#3090" class="Bound">A</a><a id="3195" class="Symbol">)</a> <a id="3197" href="/type-theory/2018/08/17/notes-sltc/#3092" class="Bound">t</a> <a id="3199" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="3201" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="3205" href="/type-theory/2018/08/17/notes-sltc/#3090" class="Bound">A</a> <a id="3207" href="/type-theory/2018/08/17/notes-sltc/#3094" class="Bound">t&#39;</a>

    <a id="Bound._⊢_⇝_._∙_"></a><a id="3215" href="/type-theory/2018/08/17/notes-sltc/#3215" class="InductiveConstructor Operator">_∙_</a>
      <a id="3225" class="Symbol">:</a> <a id="3227" class="Symbol">∀</a> <a id="3229" class="Symbol">{</a><a id="3230" href="/type-theory/2018/08/17/notes-sltc/#3230" class="Bound">n</a> <a id="3232" href="/type-theory/2018/08/17/notes-sltc/#3232" class="Bound">t₁</a> <a id="3235" href="/type-theory/2018/08/17/notes-sltc/#3235" class="Bound">t₁&#39;</a> <a id="3239" href="/type-theory/2018/08/17/notes-sltc/#3239" class="Bound">t₂</a> <a id="3242" href="/type-theory/2018/08/17/notes-sltc/#3242" class="Bound">t₂&#39;</a><a id="3245" class="Symbol">}</a> <a id="3247" class="Symbol">{</a><a id="3248" href="/type-theory/2018/08/17/notes-sltc/#3248" class="Bound">Γ</a> <a id="3250" class="Symbol">:</a> <a id="3252" href="/type-theory/2018/08/17/notes-sltc/#2589" class="Function">Binder</a> <a id="3259" href="/type-theory/2018/08/17/notes-sltc/#3230" class="Bound">n</a><a id="3260" class="Symbol">}</a>
      <a id="3268" class="Symbol">→</a> <a id="3270" href="/type-theory/2018/08/17/notes-sltc/#3248" class="Bound">Γ</a> <a id="3272" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="3274" href="/type-theory/2018/08/17/notes-sltc/#3232" class="Bound">t₁</a> <a id="3277" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="3279" href="/type-theory/2018/08/17/notes-sltc/#3235" class="Bound">t₁&#39;</a>
      <a id="3289" class="Symbol">→</a> <a id="3291" href="/type-theory/2018/08/17/notes-sltc/#3248" class="Bound">Γ</a> <a id="3293" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="3295" href="/type-theory/2018/08/17/notes-sltc/#3239" class="Bound">t₂</a> <a id="3298" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="3300" href="/type-theory/2018/08/17/notes-sltc/#3242" class="Bound">t₂&#39;</a>
      <a id="3310" class="Comment">-------------------------</a>
      <a id="3342" class="Symbol">→</a> <a id="3344" href="/type-theory/2018/08/17/notes-sltc/#3248" class="Bound">Γ</a> <a id="3346" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="3348" href="/type-theory/2018/08/17/notes-sltc/#3232" class="Bound">t₁</a> <a id="3351" href="/type-theory/2018/08/17/notes-sltc/#1511" class="InductiveConstructor Operator">∙</a> <a id="3353" href="/type-theory/2018/08/17/notes-sltc/#3239" class="Bound">t₂</a> <a id="3356" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="3358" href="/type-theory/2018/08/17/notes-sltc/#3235" class="Bound">t₁&#39;</a> <a id="3362" href="/type-theory/2018/08/17/notes-sltc/#2460" class="InductiveConstructor Operator">∙</a> <a id="3364" href="/type-theory/2018/08/17/notes-sltc/#3242" class="Bound">t₂&#39;</a></pre>

<h4 id="examples-1">Examples</h4>

<pre class="Agda"><a id="3410" class="Keyword">private</a>
    <a id="Bound.∅"></a><a id="3422" href="/type-theory/2018/08/17/notes-sltc/#3422" class="Function">∅</a> <a id="3424" class="Symbol">:</a> <a id="3426" href="/type-theory/2018/08/17/notes-sltc/#2589" class="Function">Binder</a> <a id="3433" class="Number">0</a>
    <a id="3439" href="/type-theory/2018/08/17/notes-sltc/#3422" class="Function">∅</a> <a id="3441" class="Symbol">=</a> <a id="3443" href="https://agda.github.io/agda-stdlib/Data.Vec.html#712" class="InductiveConstructor">[]</a>

    <a id="Bound.Γ"></a><a id="3451" href="/type-theory/2018/08/17/notes-sltc/#3451" class="Function">Γ</a> <a id="3453" class="Symbol">:</a> <a id="3455" href="/type-theory/2018/08/17/notes-sltc/#2589" class="Function">Binder</a> <a id="3462" class="Number">2</a>
    <a id="3468" href="/type-theory/2018/08/17/notes-sltc/#3451" class="Function">Γ</a> <a id="3470" class="Symbol">=</a> <a id="3472" href="https://agda.github.io/agda-stdlib/Data.Vec.html#712" class="InductiveConstructor">[]</a> <a id="3475" href="/type-theory/2018/08/17/notes-sltc/#2644" class="Function Operator">,</a> <a id="3477" class="String">&quot;x&quot;</a> <a id="3481" href="/type-theory/2018/08/17/notes-sltc/#2644" class="Function Operator">,</a> <a id="3483" class="String">&quot;y&quot;</a>

    <a id="Bound.e1"></a><a id="3492" href="/type-theory/2018/08/17/notes-sltc/#3492" class="Function">e1</a> <a id="3495" class="Symbol">:</a> <a id="3497" href="/type-theory/2018/08/17/notes-sltc/#3451" class="Function">Γ</a> <a id="3499" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="3501" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="3505" class="String">&quot;x&quot;</a> <a id="3509" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="3511" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="3515" class="Symbol">(</a><a id="3516" href="https://agda.github.io/agda-stdlib/Data.Fin.html#1772" class="Function Operator">#</a> <a id="3518" class="Number">1</a><a id="3519" class="Symbol">)</a>
    <a id="3525" href="/type-theory/2018/08/17/notes-sltc/#3492" class="Function">e1</a> <a id="3528" class="Symbol">=</a> <a id="3530" href="/type-theory/2018/08/17/notes-sltc/#2905" class="InductiveConstructor">var-suc</a> <a id="3538" href="/type-theory/2018/08/17/notes-sltc/#2792" class="InductiveConstructor">var-zero</a>

    <a id="3552" class="Keyword">postulate</a> <a id="Bound.A"></a><a id="3562" href="/type-theory/2018/08/17/notes-sltc/#3562" class="Postulate">A</a> <a id="3564" class="Symbol">:</a> <a id="3566" href="/type-theory/2018/08/17/notes-sltc/#2049" class="Bound">Type</a>

    <a id="Bound.I"></a><a id="3576" href="/type-theory/2018/08/17/notes-sltc/#3576" class="Function">I</a> <a id="3578" class="Symbol">:</a> <a id="3580" href="https://agda.github.io/agda-stdlib/Data.Vec.html#712" class="InductiveConstructor">[]</a> <a id="3583" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="3585" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="3589" class="Symbol">(</a><a id="3590" class="String">&quot;x&quot;</a> <a id="3594" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">∶</a> <a id="3596" href="/type-theory/2018/08/17/notes-sltc/#3562" class="Postulate">A</a><a id="3597" class="Symbol">)</a> <a id="3599" class="Symbol">(</a><a id="3600" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="3604" class="String">&quot;x&quot;</a><a id="3607" class="Symbol">)</a>
           <a id="3620" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="3622" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="3626" href="/type-theory/2018/08/17/notes-sltc/#3562" class="Postulate">A</a> <a id="3628" class="Symbol">(</a><a id="3629" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="3633" class="Symbol">(</a><a id="3634" href="https://agda.github.io/agda-stdlib/Data.Fin.html#1772" class="Function Operator">#</a> <a id="3636" class="Number">0</a><a id="3637" class="Symbol">))</a>
    <a id="3644" href="/type-theory/2018/08/17/notes-sltc/#3576" class="Function">I</a> <a id="3646" class="Symbol">=</a> <a id="3648" href="/type-theory/2018/08/17/notes-sltc/#3071" class="InductiveConstructor">lam</a> <a id="3652" href="/type-theory/2018/08/17/notes-sltc/#2792" class="InductiveConstructor">var-zero</a>

    <a id="Bound.K"></a><a id="3666" href="/type-theory/2018/08/17/notes-sltc/#3666" class="Function">K</a> <a id="3668" class="Symbol">:</a> <a id="3670" href="https://agda.github.io/agda-stdlib/Data.Vec.html#712" class="InductiveConstructor">[]</a> <a id="3673" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="3675" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="3679" class="Symbol">(</a><a id="3680" class="String">&quot;x&quot;</a> <a id="3684" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">∶</a> <a id="3686" href="/type-theory/2018/08/17/notes-sltc/#3562" class="Postulate">A</a><a id="3687" class="Symbol">)</a> <a id="3689" class="Symbol">(</a><a id="3690" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="3694" class="Symbol">(</a><a id="3695" class="String">&quot;y&quot;</a> <a id="3699" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">∶</a> <a id="3701" href="/type-theory/2018/08/17/notes-sltc/#3562" class="Postulate">A</a><a id="3702" class="Symbol">)</a> <a id="3704" class="Symbol">(</a><a id="3705" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="3709" class="String">&quot;x&quot;</a><a id="3712" class="Symbol">))</a>
           <a id="3726" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="3728" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="3732" href="/type-theory/2018/08/17/notes-sltc/#3562" class="Postulate">A</a> <a id="3734" class="Symbol">(</a><a id="3735" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="3739" href="/type-theory/2018/08/17/notes-sltc/#3562" class="Postulate">A</a> <a id="3741" class="Symbol">(</a><a id="3742" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="3746" class="Symbol">(</a><a id="3747" href="https://agda.github.io/agda-stdlib/Data.Fin.html#1772" class="Function Operator">#</a> <a id="3749" class="Number">1</a><a id="3750" class="Symbol">)))</a>
    <a id="3758" href="/type-theory/2018/08/17/notes-sltc/#3666" class="Function">K</a> <a id="3760" class="Symbol">=</a> <a id="3762" href="/type-theory/2018/08/17/notes-sltc/#3071" class="InductiveConstructor">lam</a> <a id="3766" class="Symbol">(</a><a id="3767" href="/type-theory/2018/08/17/notes-sltc/#3071" class="InductiveConstructor">lam</a> <a id="3771" class="Symbol">(</a><a id="3772" href="/type-theory/2018/08/17/notes-sltc/#2905" class="InductiveConstructor">var-suc</a> <a id="3780" href="/type-theory/2018/08/17/notes-sltc/#2792" class="InductiveConstructor">var-zero</a><a id="3788" class="Symbol">))</a>

    <a id="Bound.K₂"></a><a id="3796" href="/type-theory/2018/08/17/notes-sltc/#3796" class="Function">K₂</a> <a id="3799" class="Symbol">:</a> <a id="3801" href="https://agda.github.io/agda-stdlib/Data.Vec.html#712" class="InductiveConstructor">[]</a> <a id="3804" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="3806" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="3810" class="Symbol">(</a><a id="3811" class="String">&quot;x&quot;</a> <a id="3815" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">∶</a> <a id="3817" href="/type-theory/2018/08/17/notes-sltc/#3562" class="Postulate">A</a><a id="3818" class="Symbol">)</a> <a id="3820" class="Symbol">(</a><a id="3821" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="3825" class="Symbol">(</a><a id="3826" class="String">&quot;y&quot;</a> <a id="3830" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">∶</a> <a id="3832" href="/type-theory/2018/08/17/notes-sltc/#3562" class="Postulate">A</a><a id="3833" class="Symbol">)</a> <a id="3835" class="Symbol">(</a><a id="3836" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="3840" class="String">&quot;y&quot;</a><a id="3843" class="Symbol">))</a>
            <a id="3858" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="3860" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="3864" href="/type-theory/2018/08/17/notes-sltc/#3562" class="Postulate">A</a> <a id="3866" class="Symbol">(</a><a id="3867" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="3871" href="/type-theory/2018/08/17/notes-sltc/#3562" class="Postulate">A</a> <a id="3873" class="Symbol">(</a><a id="3874" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="3878" class="Symbol">(</a><a id="3879" href="https://agda.github.io/agda-stdlib/Data.Fin.html#1772" class="Function Operator">#</a> <a id="3881" class="Number">0</a><a id="3882" class="Symbol">)))</a>
    <a id="3890" href="/type-theory/2018/08/17/notes-sltc/#3796" class="Function">K₂</a> <a id="3893" class="Symbol">=</a> <a id="3895" href="/type-theory/2018/08/17/notes-sltc/#3071" class="InductiveConstructor">lam</a> <a id="3899" class="Symbol">(</a><a id="3900" href="/type-theory/2018/08/17/notes-sltc/#3071" class="InductiveConstructor">lam</a> <a id="3904" href="/type-theory/2018/08/17/notes-sltc/#2792" class="InductiveConstructor">var-zero</a><a id="3912" class="Symbol">)</a>

    <a id="Bound.P"></a><a id="3919" href="/type-theory/2018/08/17/notes-sltc/#3919" class="Function">P</a> <a id="3921" class="Symbol">:</a> <a id="3923" href="/type-theory/2018/08/17/notes-sltc/#3451" class="Function">Γ</a> <a id="3925" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="3927" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="3931" class="Symbol">(</a><a id="3932" class="String">&quot;x&quot;</a> <a id="3936" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">∶</a> <a id="3938" href="/type-theory/2018/08/17/notes-sltc/#3562" class="Postulate">A</a><a id="3939" class="Symbol">)</a> <a id="3941" class="Symbol">(</a><a id="3942" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="3946" class="Symbol">(</a><a id="3947" class="String">&quot;y&quot;</a> <a id="3951" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">∶</a> <a id="3953" href="/type-theory/2018/08/17/notes-sltc/#3562" class="Postulate">A</a><a id="3954" class="Symbol">)</a> <a id="3956" class="Symbol">(</a><a id="3957" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="3961" class="Symbol">(</a><a id="3962" class="String">&quot;z&quot;</a> <a id="3966" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">∶</a> <a id="3968" href="/type-theory/2018/08/17/notes-sltc/#3562" class="Postulate">A</a><a id="3969" class="Symbol">)</a> <a id="3971" class="Symbol">(</a><a id="3972" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="3976" class="String">&quot;x&quot;</a><a id="3979" class="Symbol">)))</a>
           <a id="3994" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="3996" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="4000" href="/type-theory/2018/08/17/notes-sltc/#3562" class="Postulate">A</a> <a id="4002" class="Symbol">(</a><a id="4003" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="4007" href="/type-theory/2018/08/17/notes-sltc/#3562" class="Postulate">A</a> <a id="4009" class="Symbol">(</a><a id="4010" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="4014" href="/type-theory/2018/08/17/notes-sltc/#3562" class="Postulate">A</a> <a id="4016" class="Symbol">(</a><a id="4017" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="4021" class="Symbol">(</a><a id="4022" href="https://agda.github.io/agda-stdlib/Data.Fin.html#1772" class="Function Operator">#</a> <a id="4024" class="Number">2</a><a id="4025" class="Symbol">))))</a>
    <a id="4034" href="/type-theory/2018/08/17/notes-sltc/#3919" class="Function">P</a> <a id="4036" class="Symbol">=</a> <a id="4038" href="/type-theory/2018/08/17/notes-sltc/#3071" class="InductiveConstructor">lam</a> <a id="4042" class="Symbol">(</a><a id="4043" href="/type-theory/2018/08/17/notes-sltc/#3071" class="InductiveConstructor">lam</a> <a id="4047" class="Symbol">(</a><a id="4048" href="/type-theory/2018/08/17/notes-sltc/#3071" class="InductiveConstructor">lam</a> <a id="4052" class="Symbol">(</a><a id="4053" href="/type-theory/2018/08/17/notes-sltc/#2905" class="InductiveConstructor">var-suc</a> <a id="4061" class="Symbol">(</a><a id="4062" href="/type-theory/2018/08/17/notes-sltc/#2905" class="InductiveConstructor">var-suc</a> <a id="4070" href="/type-theory/2018/08/17/notes-sltc/#2792" class="InductiveConstructor">var-zero</a><a id="4078" class="Symbol">))))</a></pre>

<h3 id="scopecheck">Scopecheck</h3>

<p>Check representation of λ-terms using de Bruijn indexes.
Get a λ-term using de Bruijn indexes by given a λ-term with names.</p>

<pre class="Agda foldable"><a id="4264" class="Comment">-- ∃-syntax and ∄-syntax</a>

<a id="4290" class="Keyword">open</a> <a id="4295" class="Keyword">import</a> <a id="4302" href="https://agda.github.io/agda-stdlib/Data.Product.html" class="Module">Data.Product</a> <a id="4315" class="Keyword">hiding</a> <a id="4322" class="Symbol">(</a><a id="4323" href="https://agda.github.io/agda-stdlib/Data.Product.html#941" class="Function">∃-syntax</a><a id="4331" class="Symbol">;</a> <a id="4333" href="https://agda.github.io/agda-stdlib/Data.Product.html#1117" class="Function">∄-syntax</a><a id="4341" class="Symbol">)</a> <a id="4343" class="Keyword">renaming</a> <a id="4352" class="Symbol">(</a><a id="4353" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">_,_</a> <a id="4357" class="Symbol">to</a> <a id="4360" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">_-by-_</a><a id="4366" class="Symbol">)</a>
<a id="4368" class="Keyword">open</a> <a id="4373" class="Keyword">import</a> <a id="4380" href="https://agda.github.io/agda-stdlib/Data.Product.html" class="Module">Data.Product</a> <a id="4393" class="Keyword">using</a> <a id="4399" class="Symbol">(</a><a id="4400" href="https://agda.github.io/agda-stdlib/Data.Product.html#880" class="Function">∃</a><a id="4401" class="Symbol">;</a> <a id="4403" href="https://agda.github.io/agda-stdlib/Data.Product.html#1052" class="Function">∄</a><a id="4404" class="Symbol">)</a>

<a id="∃-syntax"></a><a id="4407" href="/type-theory/2018/08/17/notes-sltc/#4407" class="Function">∃-syntax</a> <a id="4416" class="Symbol">:</a> <a id="4418" class="Symbol">∀</a> <a id="4420" class="Symbol">{</a><a id="4421" href="/type-theory/2018/08/17/notes-sltc/#4421" class="Bound">a</a> <a id="4423" href="/type-theory/2018/08/17/notes-sltc/#4423" class="Bound">b</a><a id="4424" class="Symbol">}</a> <a id="4426" class="Symbol">{</a><a id="4427" href="/type-theory/2018/08/17/notes-sltc/#4427" class="Bound">A</a> <a id="4429" class="Symbol">:</a> <a id="4431" class="PrimitiveType">Set</a> <a id="4435" href="/type-theory/2018/08/17/notes-sltc/#4421" class="Bound">a</a><a id="4436" class="Symbol">}</a> <a id="4438" class="Symbol">→</a> <a id="4440" class="Symbol">(</a><a id="4441" href="/type-theory/2018/08/17/notes-sltc/#4427" class="Bound">A</a> <a id="4443" class="Symbol">→</a> <a id="4445" class="PrimitiveType">Set</a> <a id="4449" href="/type-theory/2018/08/17/notes-sltc/#4423" class="Bound">b</a><a id="4450" class="Symbol">)</a> <a id="4452" class="Symbol">→</a> <a id="4454" class="PrimitiveType">Set</a> <a id="4458" class="Symbol">_</a>
<a id="4460" href="/type-theory/2018/08/17/notes-sltc/#4407" class="Function">∃-syntax</a> <a id="4469" class="Symbol">=</a> <a id="4471" href="https://agda.github.io/agda-stdlib/Data.Product.html#880" class="Function">∃</a>
<a id="4473" class="Keyword">syntax</a> <a id="4480" href="/type-theory/2018/08/17/notes-sltc/#4407" class="Function">∃-syntax</a> <a id="4489" class="Symbol">(λ</a> x <a id="4494" class="Symbol">→</a> B<a id="4497" class="Symbol">)</a> <a id="4499" class="Symbol">=</a> ∃[ x ] B

<a id="∄-syntax"></a><a id="4511" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">∄-syntax</a> <a id="4520" class="Symbol">:</a> <a id="4522" class="Symbol">∀</a> <a id="4524" class="Symbol">{</a><a id="4525" href="/type-theory/2018/08/17/notes-sltc/#4525" class="Bound">a</a> <a id="4527" href="/type-theory/2018/08/17/notes-sltc/#4527" class="Bound">b</a><a id="4528" class="Symbol">}</a> <a id="4530" class="Symbol">{</a><a id="4531" href="/type-theory/2018/08/17/notes-sltc/#4531" class="Bound">A</a> <a id="4533" class="Symbol">:</a> <a id="4535" class="PrimitiveType">Set</a> <a id="4539" href="/type-theory/2018/08/17/notes-sltc/#4525" class="Bound">a</a><a id="4540" class="Symbol">}</a> <a id="4542" class="Symbol">→</a> <a id="4544" class="Symbol">(</a><a id="4545" href="/type-theory/2018/08/17/notes-sltc/#4531" class="Bound">A</a> <a id="4547" class="Symbol">→</a> <a id="4549" class="PrimitiveType">Set</a> <a id="4553" href="/type-theory/2018/08/17/notes-sltc/#4527" class="Bound">b</a><a id="4554" class="Symbol">)</a> <a id="4556" class="Symbol">→</a> <a id="4558" class="PrimitiveType">Set</a> <a id="4562" class="Symbol">_</a>
<a id="4564" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">∄-syntax</a> <a id="4573" class="Symbol">=</a> <a id="4575" href="https://agda.github.io/agda-stdlib/Data.Product.html#1052" class="Function">∄</a>
<a id="4577" class="Keyword">syntax</a> <a id="4584" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">∄-syntax</a> <a id="4593" class="Symbol">(λ</a> x <a id="4598" class="Symbol">→</a> B<a id="4601" class="Symbol">)</a> <a id="4603" class="Symbol">=</a> ∄[ x ] B</pre>

<pre class="Agda foldable"><a id="4655" class="Keyword">module</a> <a id="Scopecheck"></a><a id="4662" href="/type-theory/2018/08/17/notes-sltc/#4662" class="Module">Scopecheck</a> <a id="4673" class="Symbol">(</a><a id="4674" href="/type-theory/2018/08/17/notes-sltc/#4674" class="Bound">Type</a> <a id="4679" class="Symbol">:</a> <a id="4681" class="PrimitiveType">Set</a><a id="4684" class="Symbol">)</a> <a id="4686" class="Keyword">where</a>

  <a id="4695" class="Keyword">open</a> <a id="4700" href="/type-theory/2018/08/17/notes-sltc/#2042" class="Module">Bound</a> <a id="4706" href="/type-theory/2018/08/17/notes-sltc/#4674" class="Bound">Type</a> <a id="4711" class="Keyword">public</a>

  <a id="4721" class="Keyword">open</a> <a id="4726" class="Keyword">import</a> <a id="4733" href="https://agda.github.io/agda-stdlib/Data.Fin.html" class="Module">Data.Fin</a>     <a id="4746" class="Keyword">using</a> <a id="4752" class="Symbol">(</a><a id="4753" href="https://agda.github.io/agda-stdlib/Data.Fin.html#910" class="Datatype">Fin</a><a id="4756" class="Symbol">;</a> <a id="4758" href="https://agda.github.io/agda-stdlib/Data.Fin.html#963" class="InductiveConstructor">suc</a><a id="4761" class="Symbol">;</a> <a id="4763" href="https://agda.github.io/agda-stdlib/Data.Fin.html#1772" class="Function Operator">#_</a><a id="4765" class="Symbol">)</a>
  <a id="4769" class="Keyword">open</a> <a id="4774" class="Keyword">import</a> <a id="4781" href="https://agda.github.io/agda-stdlib/Data.Nat.html" class="Module">Data.Nat</a>     <a id="4794" class="Keyword">hiding</a> <a id="4801" class="Symbol">(</a><a id="4802" href="https://agda.github.io/agda-stdlib/Data.Nat.Base.html#2869" class="Function Operator">_≟_</a><a id="4805" class="Symbol">)</a>
  <a id="4809" class="Keyword">open</a> <a id="4814" class="Keyword">import</a> <a id="4821" href="https://agda.github.io/agda-stdlib/Data.String.html" class="Module">Data.String</a>  <a id="4834" class="Keyword">using</a> <a id="4840" class="Symbol">(</a><a id="4841" href="https://agda.github.io/agda-stdlib/Data.String.html#1195" class="Function Operator">_≟_</a><a id="4844" class="Symbol">)</a>
  <a id="4848" class="Keyword">open</a> <a id="4853" class="Keyword">import</a> <a id="4860" href="https://agda.github.io/agda-stdlib/Data.Sum.html" class="Module">Data.Sum</a>     <a id="4873" class="Keyword">using</a> <a id="4879" class="Symbol">(</a><a id="4880" href="https://agda.github.io/agda-stdlib/Data.Sum.Base.html#414" class="Datatype Operator">_⊎_</a><a id="4883" class="Symbol">;</a> <a id="4885" href="https://agda.github.io/agda-stdlib/Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="4890" class="Symbol">;</a> <a id="4892" href="https://agda.github.io/agda-stdlib/Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a><a id="4896" class="Symbol">)</a>
  <a id="4900" class="Keyword">open</a> <a id="4905" class="Keyword">import</a> <a id="4912" href="https://agda.github.io/agda-stdlib/Data.Vec.html" class="Module">Data.Vec</a>     <a id="4925" class="Keyword">using</a> <a id="4931" class="Symbol">(</a><a id="4932" href="https://agda.github.io/agda-stdlib/Data.Vec.html#672" class="Datatype">Vec</a><a id="4935" class="Symbol">;</a> <a id="4937" href="https://agda.github.io/agda-stdlib/Data.Vec.html#712" class="InductiveConstructor">[]</a><a id="4939" class="Symbol">;</a> <a id="4941" href="https://agda.github.io/agda-stdlib/Data.Vec.html#731" class="InductiveConstructor Operator">_∷_</a><a id="4944" class="Symbol">)</a>

  <a id="4949" class="Keyword">open</a> <a id="4954" class="Keyword">import</a> <a id="4961" href="https://agda.github.io/agda-stdlib/Function.html" class="Module">Function</a>     <a id="4974" class="Keyword">using</a> <a id="4980" class="Symbol">(</a><a id="4981" href="https://agda.github.io/agda-stdlib/Function.html#1881" class="Function Operator">_$_</a><a id="4984" class="Symbol">)</a>

  <a id="4989" class="Keyword">open</a> <a id="4994" class="Keyword">import</a> <a id="5001" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="5039" class="Keyword">using</a> <a id="5045" class="Symbol">(</a><a id="5046" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="5049" class="Symbol">;</a> <a id="5051" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="5055" class="Symbol">;</a> <a id="5057" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#700" class="Function">subst</a><a id="5062" class="Symbol">)</a>
  <a id="5066" class="Keyword">open</a> <a id="5071" class="Keyword">import</a> <a id="5078" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html" class="Module">Relation.Nullary</a>                      <a id="5116" class="Keyword">using</a> <a id="5122" class="Symbol">(</a><a id="5123" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#534" class="Datatype">Dec</a><a id="5126" class="Symbol">;</a> <a id="5128" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a><a id="5130" class="Symbol">;</a> <a id="5132" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a><a id="5135" class="Symbol">)</a>
  <a id="5139" class="Keyword">open</a> <a id="5144" class="Keyword">import</a> <a id="5151" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>
    <a id="5182" class="Keyword">using</a> <a id="5188" class="Symbol">(</a><a id="5189" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Decidable.html#1485" class="Function">fromWitnessFalse</a><a id="5205" class="Symbol">;</a> <a id="5207" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Decidable.html#1209" class="Function">fromWitness</a><a id="5218" class="Symbol">;</a> <a id="5220" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Decidable.html#1055" class="Function">toWitness</a><a id="5229" class="Symbol">;</a> <a id="5231" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Decidable.html#897" class="Function">True</a><a id="5235" class="Symbol">)</a></pre>

<pre class="Agda"><a id="Scopecheck.name-dec"></a><a id="5265" href="/type-theory/2018/08/17/notes-sltc/#5265" class="Function">name-dec</a>
    <a id="5278" class="Symbol">:</a> <a id="5280" class="Symbol">∀</a> <a id="5282" class="Symbol">{</a><a id="5283" href="/type-theory/2018/08/17/notes-sltc/#5283" class="Bound">n</a><a id="5284" class="Symbol">}</a> <a id="5286" class="Symbol">{</a><a id="5287" href="/type-theory/2018/08/17/notes-sltc/#5287" class="Bound">Γ</a> <a id="5289" class="Symbol">:</a> <a id="5291" href="/type-theory/2018/08/17/notes-sltc/#2589" class="Function">Binder</a> <a id="5298" href="/type-theory/2018/08/17/notes-sltc/#5283" class="Bound">n</a><a id="5299" class="Symbol">}</a> <a id="5301" class="Symbol">{</a><a id="5302" href="/type-theory/2018/08/17/notes-sltc/#5302" class="Bound">x</a> <a id="5304" href="/type-theory/2018/08/17/notes-sltc/#5304" class="Bound">y</a> <a id="5306" class="Symbol">:</a> <a id="5308" href="/type-theory/2018/08/17/notes-sltc/#1310" class="Function">Name</a><a id="5312" class="Symbol">}</a> <a id="5314" class="Symbol">{</a><a id="5315" href="/type-theory/2018/08/17/notes-sltc/#5315" class="Bound">t</a> <a id="5317" class="Symbol">:</a> <a id="5319" href="/type-theory/2018/08/17/notes-sltc/#2364" class="Datatype">Expr</a> <a id="5324" class="Symbol">(</a><a id="5325" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="5329" href="/type-theory/2018/08/17/notes-sltc/#5283" class="Bound">n</a><a id="5330" class="Symbol">)}</a>
    <a id="5337" class="Symbol">→</a> <a id="5339" href="/type-theory/2018/08/17/notes-sltc/#5287" class="Bound">Γ</a> <a id="5341" href="/type-theory/2018/08/17/notes-sltc/#2644" class="Function Operator">,</a> <a id="5343" href="/type-theory/2018/08/17/notes-sltc/#5304" class="Bound">y</a> <a id="5345" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="5347" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="5351" href="/type-theory/2018/08/17/notes-sltc/#5302" class="Bound">x</a> <a id="5353" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="5355" href="/type-theory/2018/08/17/notes-sltc/#5315" class="Bound">t</a>
    <a id="5361" class="Comment">----------------------------------</a>
    <a id="5400" class="Symbol">→</a> <a id="5402" href="/type-theory/2018/08/17/notes-sltc/#5302" class="Bound">x</a> <a id="5404" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="5406" href="/type-theory/2018/08/17/notes-sltc/#5304" class="Bound">y</a> <a id="5408" href="https://agda.github.io/agda-stdlib/Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="5410" href="/type-theory/2018/08/17/notes-sltc/#4407" class="Function">∃[</a> <a id="5413" href="/type-theory/2018/08/17/notes-sltc/#5413" class="Bound">t′</a> <a id="5416" href="/type-theory/2018/08/17/notes-sltc/#4407" class="Function">]</a> <a id="5418" class="Symbol">(</a><a id="5419" href="/type-theory/2018/08/17/notes-sltc/#5287" class="Bound">Γ</a> <a id="5421" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="5423" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="5427" href="/type-theory/2018/08/17/notes-sltc/#5302" class="Bound">x</a> <a id="5429" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="5431" href="/type-theory/2018/08/17/notes-sltc/#5413" class="Bound">t′</a><a id="5433" class="Symbol">)</a>

  <a id="5438" href="/type-theory/2018/08/17/notes-sltc/#5265" class="Function">name-dec</a> <a id="5447" href="/type-theory/2018/08/17/notes-sltc/#2792" class="InductiveConstructor">var-zero</a> <a id="5456" class="Symbol">=</a> <a id="5458" href="https://agda.github.io/agda-stdlib/Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="5463" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
  <a id="5470" href="/type-theory/2018/08/17/notes-sltc/#5265" class="Function">name-dec</a> <a id="5479" class="Symbol">{</a><a id="5480" class="Argument">t</a> <a id="5482" class="Symbol">=</a> <a id="5484" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="5488" class="Symbol">(</a><a id="5489" href="https://agda.github.io/agda-stdlib/Data.Fin.html#963" class="InductiveConstructor">suc</a> <a id="5493" href="/type-theory/2018/08/17/notes-sltc/#5493" class="Bound">k</a><a id="5494" class="Symbol">)}</a> <a id="5497" class="Symbol">(</a><a id="5498" href="/type-theory/2018/08/17/notes-sltc/#2905" class="InductiveConstructor">var-suc</a> <a id="5506" href="/type-theory/2018/08/17/notes-sltc/#5506" class="Bound">w</a><a id="5507" class="Symbol">)</a> <a id="5509" class="Symbol">=</a> <a id="5511" href="https://agda.github.io/agda-stdlib/Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="5516" class="Symbol">(</a><a id="5517" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="5521" href="/type-theory/2018/08/17/notes-sltc/#5493" class="Bound">k</a> <a id="5523" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="5528" href="/type-theory/2018/08/17/notes-sltc/#5506" class="Bound">w</a><a id="5529" class="Symbol">)</a>
                                  <a id="5565" class="Comment">--  ↪ witness</a></pre>

<pre class="Agda"><a id="Scopecheck.⊢subst"></a><a id="5608" href="/type-theory/2018/08/17/notes-sltc/#5608" class="Function">⊢subst</a>
    <a id="5619" class="Symbol">:</a> <a id="5621" class="Symbol">∀</a> <a id="5623" class="Symbol">{</a><a id="5624" href="/type-theory/2018/08/17/notes-sltc/#5624" class="Bound">n</a><a id="5625" class="Symbol">}</a> <a id="5627" class="Symbol">{</a><a id="5628" href="/type-theory/2018/08/17/notes-sltc/#5628" class="Bound">x</a> <a id="5630" href="/type-theory/2018/08/17/notes-sltc/#5630" class="Bound">y</a><a id="5631" class="Symbol">}</a> <a id="5633" class="Symbol">{</a><a id="5634" href="/type-theory/2018/08/17/notes-sltc/#5634" class="Bound">Γ</a> <a id="5636" class="Symbol">:</a> <a id="5638" href="/type-theory/2018/08/17/notes-sltc/#2589" class="Function">Binder</a> <a id="5645" href="/type-theory/2018/08/17/notes-sltc/#5624" class="Bound">n</a><a id="5646" class="Symbol">}</a> <a id="5648" class="Symbol">{</a><a id="5649" href="/type-theory/2018/08/17/notes-sltc/#5649" class="Bound">t</a><a id="5650" class="Symbol">}</a>
     <a id="5657" class="Symbol">→</a> <a id="5659" href="/type-theory/2018/08/17/notes-sltc/#5628" class="Bound">x</a> <a id="5661" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="5663" href="/type-theory/2018/08/17/notes-sltc/#5630" class="Bound">y</a>
     <a id="5670" class="Symbol">→</a> <a id="5672" href="/type-theory/2018/08/17/notes-sltc/#5634" class="Bound">Γ</a> <a id="5674" href="/type-theory/2018/08/17/notes-sltc/#2644" class="Function Operator">,</a> <a id="5676" href="/type-theory/2018/08/17/notes-sltc/#5628" class="Bound">x</a> <a id="5678" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="5680" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="5684" href="/type-theory/2018/08/17/notes-sltc/#5628" class="Bound">x</a> <a id="5686" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="5688" href="/type-theory/2018/08/17/notes-sltc/#5649" class="Bound">t</a>
     <a id="5695" class="Comment">-------------------</a>
     <a id="5720" class="Symbol">→</a> <a id="5722" href="/type-theory/2018/08/17/notes-sltc/#5634" class="Bound">Γ</a> <a id="5724" href="/type-theory/2018/08/17/notes-sltc/#2644" class="Function Operator">,</a> <a id="5726" href="/type-theory/2018/08/17/notes-sltc/#5630" class="Bound">y</a> <a id="5728" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="5730" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="5734" href="/type-theory/2018/08/17/notes-sltc/#5628" class="Bound">x</a> <a id="5736" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="5738" href="/type-theory/2018/08/17/notes-sltc/#5649" class="Bound">t</a>

  <a id="5743" href="/type-theory/2018/08/17/notes-sltc/#5608" class="Function">⊢subst</a> <a id="5750" class="Symbol">{</a><a id="5751" href="/type-theory/2018/08/17/notes-sltc/#5751" class="Bound">n</a><a id="5752" class="Symbol">}{</a><a id="5754" href="/type-theory/2018/08/17/notes-sltc/#5754" class="Bound">x</a><a id="5755" class="Symbol">}{</a><a id="5757" href="/type-theory/2018/08/17/notes-sltc/#5757" class="Bound">y</a><a id="5758" class="Symbol">}{</a><a id="5760" href="/type-theory/2018/08/17/notes-sltc/#5760" class="Bound">Γ</a><a id="5761" class="Symbol">}{</a><a id="5763" href="/type-theory/2018/08/17/notes-sltc/#5763" class="Bound">t</a><a id="5764" class="Symbol">}</a> <a id="5766" href="/type-theory/2018/08/17/notes-sltc/#5766" class="Bound">x≡y</a> <a id="5770" href="/type-theory/2018/08/17/notes-sltc/#5770" class="Bound">Γ,x⊢varx⇝t</a>
   <a id="5784" class="Symbol">=</a> <a id="5786" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#700" class="Function">subst</a> <a id="5792" class="Symbol">(λ</a> <a id="5795" href="/type-theory/2018/08/17/notes-sltc/#5795" class="Bound">z</a> <a id="5797" class="Symbol">→</a> <a id="5799" href="/type-theory/2018/08/17/notes-sltc/#5760" class="Bound">Γ</a> <a id="5801" href="/type-theory/2018/08/17/notes-sltc/#2644" class="Function Operator">,</a> <a id="5803" href="/type-theory/2018/08/17/notes-sltc/#5795" class="Bound">z</a> <a id="5805" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="5807" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="5811" href="/type-theory/2018/08/17/notes-sltc/#5754" class="Bound">x</a> <a id="5813" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="5815" href="/type-theory/2018/08/17/notes-sltc/#5763" class="Bound">t</a><a id="5816" class="Symbol">)</a> <a id="5818" href="/type-theory/2018/08/17/notes-sltc/#5766" class="Bound">x≡y</a> <a id="5822" href="/type-theory/2018/08/17/notes-sltc/#5770" class="Bound">Γ,x⊢varx⇝t</a></pre>

<pre class="Agda"><a id="Scopecheck.find-name"></a><a id="5860" href="/type-theory/2018/08/17/notes-sltc/#5860" class="Function">find-name</a>
    <a id="5874" class="Symbol">:</a> <a id="5876" class="Symbol">∀</a> <a id="5878" class="Symbol">{</a><a id="5879" href="/type-theory/2018/08/17/notes-sltc/#5879" class="Bound">n</a><a id="5880" class="Symbol">}</a>
    <a id="5886" class="Symbol">→</a> <a id="5888" class="Symbol">(</a><a id="5889" href="/type-theory/2018/08/17/notes-sltc/#5889" class="Bound">Γ</a> <a id="5891" class="Symbol">:</a> <a id="5893" href="/type-theory/2018/08/17/notes-sltc/#2589" class="Function">Binder</a> <a id="5900" href="/type-theory/2018/08/17/notes-sltc/#5879" class="Bound">n</a><a id="5901" class="Symbol">)</a> <a id="5903" class="Symbol">→</a> <a id="5905" class="Symbol">(</a><a id="5906" href="/type-theory/2018/08/17/notes-sltc/#5906" class="Bound">x</a> <a id="5908" class="Symbol">:</a> <a id="5910" href="/type-theory/2018/08/17/notes-sltc/#1310" class="Function">Name</a><a id="5914" class="Symbol">)</a>
    <a id="5920" class="Comment">------------------------------</a>
    <a id="5955" class="Symbol">→</a> <a id="5957" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#534" class="Datatype">Dec</a> <a id="5961" class="Symbol">(</a><a id="5962" href="/type-theory/2018/08/17/notes-sltc/#4407" class="Function">∃[</a> <a id="5965" href="/type-theory/2018/08/17/notes-sltc/#5965" class="Bound">t</a> <a id="5967" href="/type-theory/2018/08/17/notes-sltc/#4407" class="Function">]</a> <a id="5969" class="Symbol">(</a><a id="5970" href="/type-theory/2018/08/17/notes-sltc/#5889" class="Bound">Γ</a> <a id="5972" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="5974" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="5978" href="/type-theory/2018/08/17/notes-sltc/#5906" class="Bound">x</a> <a id="5980" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="5982" href="/type-theory/2018/08/17/notes-sltc/#5965" class="Bound">t</a><a id="5983" class="Symbol">))</a>

  <a id="5989" class="Comment">-- By induction on the variable context:</a>
  <a id="6032" href="/type-theory/2018/08/17/notes-sltc/#5860" class="Function">find-name</a> <a id="6042" href="https://agda.github.io/agda-stdlib/Data.Vec.html#712" class="InductiveConstructor">[]</a> <a id="6045" href="/type-theory/2018/08/17/notes-sltc/#6045" class="Bound">x</a> <a id="6047" class="Symbol">=</a> <a id="6049" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="6052" href="/type-theory/2018/08/17/notes-sltc/#6075" class="Function">helper</a>
    <a id="6063" class="Keyword">where</a>
      <a id="6075" href="/type-theory/2018/08/17/notes-sltc/#6075" class="Function">helper</a> <a id="6082" class="Symbol">:</a> <a id="6084" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">∄[</a> <a id="6087" href="/type-theory/2018/08/17/notes-sltc/#6087" class="Bound">t</a> <a id="6089" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">]</a> <a id="6091" class="Symbol">(</a><a id="6092" href="https://agda.github.io/agda-stdlib/Data.Vec.html#712" class="InductiveConstructor">[]</a> <a id="6095" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="6097" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="6101" href="/type-theory/2018/08/17/notes-sltc/#6045" class="Bound">x</a> <a id="6103" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="6105" href="/type-theory/2018/08/17/notes-sltc/#6087" class="Bound">t</a><a id="6106" class="Symbol">)</a>
      <a id="6114" href="/type-theory/2018/08/17/notes-sltc/#6075" class="Function">helper</a> <a id="6121" class="Symbol">(_</a> <a id="6124" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="6129" class="Symbol">())</a>

  <a id="6136" href="/type-theory/2018/08/17/notes-sltc/#5860" class="Function">find-name</a> <a id="6146" class="Symbol">(</a><a id="6147" href="/type-theory/2018/08/17/notes-sltc/#6147" class="Bound">y</a> <a id="6149" href="https://agda.github.io/agda-stdlib/Data.Vec.html#731" class="InductiveConstructor Operator">∷</a> <a id="6151" href="/type-theory/2018/08/17/notes-sltc/#6151" class="Bound">Γ</a><a id="6152" class="Symbol">)</a> <a id="6154" href="/type-theory/2018/08/17/notes-sltc/#6154" class="Bound">x</a>
    <a id="6160" class="Keyword">with</a> <a id="6165" href="/type-theory/2018/08/17/notes-sltc/#6154" class="Bound">x</a> <a id="6167" href="https://agda.github.io/agda-stdlib/Data.String.html#1195" class="Function Operator">≟</a> <a id="6169" href="/type-theory/2018/08/17/notes-sltc/#6147" class="Bound">y</a>
  <a id="6173" class="Symbol">...</a>  <a id="6178" class="Symbol">|</a> <a id="6180" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="6184" href="/type-theory/2018/08/17/notes-sltc/#6184" class="Bound">x≡y</a> <a id="6188" class="Symbol">=</a> <a id="6190" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="6194" class="Symbol">(</a><a id="6195" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="6199" class="Symbol">(</a><a id="6200" href="https://agda.github.io/agda-stdlib/Data.Fin.html#1772" class="Function Operator">#</a> <a id="6202" class="Number">0</a><a id="6203" class="Symbol">)</a> <a id="6205" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="6210" href="/type-theory/2018/08/17/notes-sltc/#5608" class="Function">⊢subst</a> <a id="6217" href="/type-theory/2018/08/17/notes-sltc/#6184" class="Bound">x≡y</a> <a id="6221" href="/type-theory/2018/08/17/notes-sltc/#2792" class="InductiveConstructor">var-zero</a><a id="6229" class="Symbol">)</a>
  <a id="6233" class="Symbol">...</a>  <a id="6238" class="Symbol">|</a> <a id="6240" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a>  <a id="6244" href="/type-theory/2018/08/17/notes-sltc/#6244" class="Bound">x≢y</a>
       <a id="6255" class="Keyword">with</a> <a id="6260" href="/type-theory/2018/08/17/notes-sltc/#5860" class="Function">find-name</a> <a id="6270" class="Bound">Γ</a> <a id="6272" class="Bound">x</a>
          <a id="6284" class="Comment">-- case analysis for the output of the recursion</a>
  <a id="6335" class="Symbol">...</a>     <a id="6343" class="Symbol">|</a> <a id="6345" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="6349" class="Symbol">(</a><a id="6350" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="6354" class="Symbol">_</a> <a id="6356" class="Symbol">_</a> <a id="6358" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="6363" class="Symbol">())</a>
  <a id="6369" class="Symbol">...</a>     <a id="6377" class="Symbol">|</a> <a id="6379" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="6383" class="Symbol">(_</a> <a id="6386" href="/type-theory/2018/08/17/notes-sltc/#2460" class="InductiveConstructor Operator">∙</a> <a id="6388" class="Symbol">_</a>   <a id="6392" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="6397" class="Symbol">())</a>
  <a id="6403" class="Symbol">...</a>     <a id="6411" class="Symbol">|</a> <a id="6413" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="6417" class="Symbol">(</a><a id="6418" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="6422" href="/type-theory/2018/08/17/notes-sltc/#6422" class="Bound">k</a> <a id="6424" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="6429" href="/type-theory/2018/08/17/notes-sltc/#6429" class="Bound">Γ⊢x⇝vark</a><a id="6437" class="Symbol">)</a>
            <a id="6451" class="Symbol">=</a> <a id="6453" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="6457" href="https://agda.github.io/agda-stdlib/Function.html#1881" class="Function Operator">$</a> <a id="6459" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="6463" class="Symbol">(</a><a id="6464" href="https://agda.github.io/agda-stdlib/Data.Fin.html#963" class="InductiveConstructor">suc</a> <a id="6468" href="/type-theory/2018/08/17/notes-sltc/#6422" class="Bound">k</a><a id="6469" class="Symbol">)</a> <a id="6471" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="6476" href="/type-theory/2018/08/17/notes-sltc/#2905" class="InductiveConstructor">var-suc</a> <a id="6484" class="Symbol">{</a><a id="6485" class="Argument">p</a> <a id="6487" class="Symbol">=</a> <a id="6489" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Decidable.html#1485" class="Function">fromWitnessFalse</a> <a id="6506" class="Bound">x≢y</a><a id="6509" class="Symbol">}</a> <a id="6511" href="/type-theory/2018/08/17/notes-sltc/#6429" class="Bound">Γ⊢x⇝vark</a>
  <a id="6522" class="Symbol">...</a>     <a id="6530" class="Symbol">|</a> <a id="6532" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="6535" href="/type-theory/2018/08/17/notes-sltc/#6535" class="Bound">∄t⟨Γ⊢varx⇝t⟩</a> <a id="6548" class="Symbol">=</a> <a id="6550" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="6553" href="/type-theory/2018/08/17/notes-sltc/#6588" class="Function">helper</a>
          <a id="6570" class="Keyword">where</a>
            <a id="6588" href="/type-theory/2018/08/17/notes-sltc/#6588" class="Function">helper</a> <a id="6595" class="Symbol">:</a> <a id="6597" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">∄[</a> <a id="6600" href="/type-theory/2018/08/17/notes-sltc/#6600" class="Bound">t</a> <a id="6602" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">]</a> <a id="6604" class="Symbol">(</a><a id="6605" class="Bound">Γ</a> <a id="6607" href="/type-theory/2018/08/17/notes-sltc/#2644" class="Function Operator">,</a> <a id="6609" class="Bound">y</a> <a id="6611" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="6613" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="6617" class="Bound">x</a> <a id="6619" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="6621" href="/type-theory/2018/08/17/notes-sltc/#6600" class="Bound">t</a><a id="6622" class="Symbol">)</a>
            <a id="6636" href="/type-theory/2018/08/17/notes-sltc/#6588" class="Function">helper</a> <a id="6643" class="Symbol">(</a><a id="6644" href="/type-theory/2018/08/17/notes-sltc/#6644" class="Bound">t</a> <a id="6646" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="6651" href="/type-theory/2018/08/17/notes-sltc/#6651" class="Bound">Γ,y⊢varx⇝t</a><a id="6661" class="Symbol">)</a>
              <a id="6677" class="Keyword">with</a> <a id="6682" href="/type-theory/2018/08/17/notes-sltc/#5265" class="Function">name-dec</a> <a id="6691" href="/type-theory/2018/08/17/notes-sltc/#6651" class="Bound">Γ,y⊢varx⇝t</a>
            <a id="6714" class="Symbol">...</a>  <a id="6719" class="Symbol">|</a> <a id="6721" href="https://agda.github.io/agda-stdlib/Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="6726" href="/type-theory/2018/08/17/notes-sltc/#6726" class="Bound">x≡y</a>                    <a id="6749" class="Symbol">=</a> <a id="6751" class="Bound">x≢y</a> <a id="6755" href="/type-theory/2018/08/17/notes-sltc/#6726" class="Bound">x≡y</a>
            <a id="6771" class="Symbol">...</a>  <a id="6776" class="Symbol">|</a> <a id="6778" href="https://agda.github.io/agda-stdlib/Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="6783" href="/type-theory/2018/08/17/notes-sltc/#6783" class="Bound">p</a><a id="6784" class="Symbol">@(</a><a id="6786" href="/type-theory/2018/08/17/notes-sltc/#6786" class="Bound">t′</a> <a id="6789" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="6794" href="/type-theory/2018/08/17/notes-sltc/#6794" class="Bound">Γ⊢varx⇝t′</a><a id="6803" class="Symbol">)</a> <a id="6805" class="Symbol">=</a> <a id="6807" href="/type-theory/2018/08/17/notes-sltc/#6535" class="Bound">∄t⟨Γ⊢varx⇝t⟩</a> <a id="6820" href="/type-theory/2018/08/17/notes-sltc/#6783" class="Bound">p</a></pre>

<p>We want to determine if given a variable context and a term,
it is possible to find its encoding using De Bruijn indexes.
If so, we got its respective construction for that lambda term.</p>

<pre class="Agda"><a id="Scopecheck.check"></a><a id="7036" href="/type-theory/2018/08/17/notes-sltc/#7036" class="Function">check</a>
    <a id="7046" class="Symbol">:</a> <a id="7048" class="Symbol">∀</a> <a id="7050" class="Symbol">{</a><a id="7051" href="/type-theory/2018/08/17/notes-sltc/#7051" class="Bound">n</a><a id="7052" class="Symbol">}</a>
    <a id="7058" class="Symbol">→</a> <a id="7060" class="Symbol">(</a><a id="7061" href="/type-theory/2018/08/17/notes-sltc/#7061" class="Bound">Γ</a> <a id="7063" class="Symbol">:</a> <a id="7065" href="/type-theory/2018/08/17/notes-sltc/#2589" class="Function">Binder</a> <a id="7072" href="/type-theory/2018/08/17/notes-sltc/#7051" class="Bound">n</a><a id="7073" class="Symbol">)</a>
    <a id="7079" class="Symbol">→</a> <a id="7081" class="Symbol">(</a><a id="7082" href="/type-theory/2018/08/17/notes-sltc/#7082" class="Bound">t</a> <a id="7084" class="Symbol">:</a> <a id="7086" href="/type-theory/2018/08/17/notes-sltc/#1435" class="Datatype">S.Expr</a><a id="7092" class="Symbol">)</a>
    <a id="7098" class="Symbol">→</a> <a id="7100" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#534" class="Datatype">Dec</a> <a id="7104" class="Symbol">(</a><a id="7105" href="/type-theory/2018/08/17/notes-sltc/#4407" class="Function">∃[</a> <a id="7108" href="/type-theory/2018/08/17/notes-sltc/#7108" class="Bound">t′</a> <a id="7111" href="/type-theory/2018/08/17/notes-sltc/#4407" class="Function">]</a> <a id="7113" class="Symbol">(</a><a id="7114" href="/type-theory/2018/08/17/notes-sltc/#7061" class="Bound">Γ</a> <a id="7116" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="7118" href="/type-theory/2018/08/17/notes-sltc/#7082" class="Bound">t</a> <a id="7120" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="7122" href="/type-theory/2018/08/17/notes-sltc/#7108" class="Bound">t′</a><a id="7124" class="Symbol">))</a>

  <a id="7130" class="Comment">-- By induction on the term syntax.</a>
  <a id="7168" href="/type-theory/2018/08/17/notes-sltc/#7036" class="Function">check</a> <a id="7174" href="/type-theory/2018/08/17/notes-sltc/#7174" class="Bound">Γ</a> <a id="7176" class="Symbol">(</a><a id="7177" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="7181" href="/type-theory/2018/08/17/notes-sltc/#7181" class="Bound">x</a><a id="7182" class="Symbol">)</a> <a id="7184" class="Symbol">=</a> <a id="7186" href="/type-theory/2018/08/17/notes-sltc/#5860" class="Function">find-name</a> <a id="7196" href="/type-theory/2018/08/17/notes-sltc/#7174" class="Bound">Γ</a> <a id="7198" href="/type-theory/2018/08/17/notes-sltc/#7181" class="Bound">x</a>
  <a id="7202" href="/type-theory/2018/08/17/notes-sltc/#7036" class="Function">check</a> <a id="7208" href="/type-theory/2018/08/17/notes-sltc/#7208" class="Bound">Γ</a> <a id="7210" class="Symbol">(</a><a id="7211" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="7215" class="Symbol">(</a><a id="7216" href="/type-theory/2018/08/17/notes-sltc/#7216" class="Bound">x</a> <a id="7218" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">∶</a> <a id="7220" href="/type-theory/2018/08/17/notes-sltc/#7220" class="Bound">τ</a><a id="7221" class="Symbol">)</a> <a id="7223" href="/type-theory/2018/08/17/notes-sltc/#7223" class="Bound">t</a><a id="7224" class="Symbol">)</a>
    <a id="7230" class="Keyword">with</a> <a id="7235" href="/type-theory/2018/08/17/notes-sltc/#7036" class="Function">check</a> <a id="7241" class="Symbol">(</a><a id="7242" href="/type-theory/2018/08/17/notes-sltc/#7208" class="Bound">Γ</a> <a id="7244" href="/type-theory/2018/08/17/notes-sltc/#2644" class="Function Operator">,</a> <a id="7246" href="/type-theory/2018/08/17/notes-sltc/#7216" class="Bound">x</a><a id="7247" class="Symbol">)</a> <a id="7249" href="/type-theory/2018/08/17/notes-sltc/#7223" class="Bound">t</a>                          <a id="7276" class="Comment">-- TODO: under revision.</a>
  <a id="7303" class="Symbol">...</a>  <a id="7308" class="Symbol">|</a> <a id="7310" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="7314" class="Symbol">(</a><a id="7315" href="/type-theory/2018/08/17/notes-sltc/#7315" class="Bound">t′</a> <a id="7318" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="7323" href="/type-theory/2018/08/17/notes-sltc/#7323" class="Bound">Γ,x⊢t⇝t′</a><a id="7331" class="Symbol">)</a>
         <a id="7342" class="Symbol">=</a> <a id="7344" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="7348" class="Symbol">(</a><a id="7349" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="7353" class="Bound">τ</a> <a id="7355" href="/type-theory/2018/08/17/notes-sltc/#7315" class="Bound">t′</a> <a id="7358" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="7363" href="/type-theory/2018/08/17/notes-sltc/#3071" class="InductiveConstructor">lam</a> <a id="7367" href="/type-theory/2018/08/17/notes-sltc/#7323" class="Bound">Γ,x⊢t⇝t′</a><a id="7375" class="Symbol">)</a>
  <a id="7379" class="Symbol">...</a>  <a id="7384" class="Symbol">|</a> <a id="7386" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="7389" href="/type-theory/2018/08/17/notes-sltc/#7389" class="Bound">∄t′⟨Γ,x⊢t⇝t′⟩</a> <a id="7403" class="Symbol">=</a> <a id="7405" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="7408" href="/type-theory/2018/08/17/notes-sltc/#7437" class="Function">helper</a>
       <a id="7422" class="Keyword">where</a>
         <a id="7437" href="/type-theory/2018/08/17/notes-sltc/#7437" class="Function">helper</a> <a id="7444" class="Symbol">:</a> <a id="7446" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">∄[</a> <a id="7449" href="/type-theory/2018/08/17/notes-sltc/#7449" class="Bound">t′</a> <a id="7452" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">]</a> <a id="7454" class="Symbol">(</a><a id="7455" class="Bound">Γ</a> <a id="7457" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="7459" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="7463" class="Symbol">(</a><a id="7464" class="Bound">x</a> <a id="7466" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">∶</a> <a id="7468" class="Bound">τ</a><a id="7469" class="Symbol">)</a> <a id="7471" class="Bound">t</a> <a id="7473" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="7475" href="/type-theory/2018/08/17/notes-sltc/#7449" class="Bound">t′</a><a id="7477" class="Symbol">)</a>
         <a id="7488" href="/type-theory/2018/08/17/notes-sltc/#7437" class="Function">helper</a> <a id="7495" class="Symbol">(</a><a id="7496" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="7500" href="/type-theory/2018/08/17/notes-sltc/#7500" class="Bound">x′</a> <a id="7503" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="7508" class="Symbol">())</a>
         <a id="7521" href="/type-theory/2018/08/17/notes-sltc/#7437" class="Function">helper</a> <a id="7528" class="Symbol">(_</a> <a id="7531" href="/type-theory/2018/08/17/notes-sltc/#2460" class="InductiveConstructor Operator">∙</a> <a id="7533" class="Symbol">_</a>  <a id="7536" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="7541" class="Symbol">())</a>
         <a id="7554" href="/type-theory/2018/08/17/notes-sltc/#7437" class="Function">helper</a> <a id="7561" class="Symbol">(</a><a id="7562" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="7566" class="DottedPattern Symbol">.</a><a id="7567" class="DottedPattern Bound">τ</a> <a id="7569" href="/type-theory/2018/08/17/notes-sltc/#7569" class="Bound">t′</a> <a id="7572" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="7577" href="/type-theory/2018/08/17/notes-sltc/#3071" class="InductiveConstructor">lam</a> <a id="7581" href="/type-theory/2018/08/17/notes-sltc/#7581" class="Bound">Γ,x⊢t⇝t′</a><a id="7589" class="Symbol">)</a>
           <a id="7602" class="Symbol">=</a> <a id="7604" href="/type-theory/2018/08/17/notes-sltc/#7389" class="Bound">∄t′⟨Γ,x⊢t⇝t′⟩</a> <a id="7618" class="Symbol">(</a><a id="7619" href="/type-theory/2018/08/17/notes-sltc/#7569" class="Bound">t′</a> <a id="7622" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="7627" href="/type-theory/2018/08/17/notes-sltc/#7581" class="Bound">Γ,x⊢t⇝t′</a><a id="7635" class="Symbol">)</a>

  <a id="7640" href="/type-theory/2018/08/17/notes-sltc/#7036" class="Function">check</a> <a id="7646" href="/type-theory/2018/08/17/notes-sltc/#7646" class="Bound">Γ</a> <a id="7648" class="Symbol">(</a><a id="7649" href="/type-theory/2018/08/17/notes-sltc/#7649" class="Bound">t₁</a> <a id="7652" href="/type-theory/2018/08/17/notes-sltc/#1511" class="InductiveConstructor Operator">∙</a> <a id="7654" href="/type-theory/2018/08/17/notes-sltc/#7654" class="Bound">t₂</a><a id="7656" class="Symbol">)</a>
    <a id="7662" class="Keyword">with</a> <a id="7667" href="/type-theory/2018/08/17/notes-sltc/#7036" class="Function">check</a> <a id="7673" href="/type-theory/2018/08/17/notes-sltc/#7646" class="Bound">Γ</a> <a id="7675" href="/type-theory/2018/08/17/notes-sltc/#7649" class="Bound">t₁</a> <a id="7678" class="Symbol">|</a> <a id="7680" href="/type-theory/2018/08/17/notes-sltc/#7036" class="Function">check</a> <a id="7686" href="/type-theory/2018/08/17/notes-sltc/#7646" class="Bound">Γ</a> <a id="7688" href="/type-theory/2018/08/17/notes-sltc/#7654" class="Bound">t₂</a>
  <a id="7693" class="Symbol">...</a>  <a id="7698" class="Symbol">|</a> <a id="7700" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="7704" class="Symbol">(</a><a id="7705" href="/type-theory/2018/08/17/notes-sltc/#7705" class="Bound">t₁′</a> <a id="7709" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="7714" href="/type-theory/2018/08/17/notes-sltc/#7714" class="Bound">Γ⊢t₁⇝t₁′</a><a id="7722" class="Symbol">)</a> <a id="7724" class="Symbol">|</a> <a id="7726" class="Symbol">(</a><a id="7727" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="7731" class="Symbol">(</a><a id="7732" href="/type-theory/2018/08/17/notes-sltc/#7732" class="Bound">t₂′</a> <a id="7736" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="7741" href="/type-theory/2018/08/17/notes-sltc/#7741" class="Bound">Γ⊢t₂⇝t₂′</a><a id="7749" class="Symbol">))</a>
         <a id="7761" class="Symbol">=</a> <a id="7763" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="7767" class="Symbol">(</a><a id="7768" href="/type-theory/2018/08/17/notes-sltc/#7705" class="Bound">t₁′</a> <a id="7772" href="/type-theory/2018/08/17/notes-sltc/#2460" class="InductiveConstructor Operator">∙</a> <a id="7774" href="/type-theory/2018/08/17/notes-sltc/#7732" class="Bound">t₂′</a> <a id="7778" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="7783" href="/type-theory/2018/08/17/notes-sltc/#7714" class="Bound">Γ⊢t₁⇝t₁′</a> <a id="7792" href="/type-theory/2018/08/17/notes-sltc/#3215" class="InductiveConstructor Operator">∙</a> <a id="7794" href="/type-theory/2018/08/17/notes-sltc/#7741" class="Bound">Γ⊢t₂⇝t₂′</a><a id="7802" class="Symbol">)</a>
  <a id="7806" class="Symbol">...</a>  <a id="7811" class="Symbol">|</a> <a id="7813" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="7817" class="Symbol">(</a><a id="7818" href="/type-theory/2018/08/17/notes-sltc/#7818" class="Bound">t₁′</a> <a id="7822" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="7827" href="/type-theory/2018/08/17/notes-sltc/#7827" class="Bound">Γ⊢t₁⇝t₁′</a><a id="7835" class="Symbol">)</a> <a id="7837" class="Symbol">|</a> <a id="7839" class="Symbol">(</a><a id="7840" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="7843" href="/type-theory/2018/08/17/notes-sltc/#7843" class="Bound">∄t⟨Γ⊢t₂⇝t⟩</a><a id="7853" class="Symbol">)</a> <a id="7855" class="Symbol">=</a> <a id="7857" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="7860" href="/type-theory/2018/08/17/notes-sltc/#8052" class="Function">helper</a>
       <a id="7874" class="Keyword">where</a>
         <a id="7889" href="/type-theory/2018/08/17/notes-sltc/#7889" class="Function">appʳ</a> <a id="7894" class="Symbol">:</a> <a id="7896" class="Symbol">∀</a> <a id="7898" class="Symbol">{</a><a id="7899" href="/type-theory/2018/08/17/notes-sltc/#7899" class="Bound">n</a><a id="7900" class="Symbol">}</a> <a id="7902" class="Symbol">{</a><a id="7903" href="/type-theory/2018/08/17/notes-sltc/#7903" class="Bound">Γ</a> <a id="7905" class="Symbol">:</a> <a id="7907" href="/type-theory/2018/08/17/notes-sltc/#2589" class="Function">Binder</a> <a id="7914" href="/type-theory/2018/08/17/notes-sltc/#7899" class="Bound">n</a><a id="7915" class="Symbol">}</a> <a id="7917" class="Symbol">{</a><a id="7918" href="/type-theory/2018/08/17/notes-sltc/#7918" class="Bound">t₁</a> <a id="7921" href="/type-theory/2018/08/17/notes-sltc/#7921" class="Bound">t₂</a> <a id="7924" href="/type-theory/2018/08/17/notes-sltc/#7924" class="Bound">t₁′</a> <a id="7928" href="/type-theory/2018/08/17/notes-sltc/#7928" class="Bound">t₂′</a><a id="7931" class="Symbol">}</a>
              <a id="7947" class="Symbol">→</a> <a id="7949" href="/type-theory/2018/08/17/notes-sltc/#7903" class="Bound">Γ</a> <a id="7951" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="7953" href="/type-theory/2018/08/17/notes-sltc/#7918" class="Bound">t₁</a> <a id="7956" href="/type-theory/2018/08/17/notes-sltc/#1511" class="InductiveConstructor Operator">∙</a> <a id="7958" href="/type-theory/2018/08/17/notes-sltc/#7921" class="Bound">t₂</a> <a id="7961" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="7963" href="/type-theory/2018/08/17/notes-sltc/#7924" class="Bound">t₁′</a> <a id="7967" href="/type-theory/2018/08/17/notes-sltc/#2460" class="InductiveConstructor Operator">∙</a> <a id="7969" href="/type-theory/2018/08/17/notes-sltc/#7928" class="Bound">t₂′</a>
              <a id="7987" class="Symbol">→</a> <a id="7989" href="/type-theory/2018/08/17/notes-sltc/#7903" class="Bound">Γ</a> <a id="7991" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="7993" href="/type-theory/2018/08/17/notes-sltc/#7921" class="Bound">t₂</a> <a id="7996" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="7998" href="/type-theory/2018/08/17/notes-sltc/#7928" class="Bound">t₂′</a>
         <a id="8011" href="/type-theory/2018/08/17/notes-sltc/#7889" class="Function">appʳ</a> <a id="8016" class="Symbol">(_</a> <a id="8019" href="/type-theory/2018/08/17/notes-sltc/#3215" class="InductiveConstructor Operator">∙</a> <a id="8021" href="/type-theory/2018/08/17/notes-sltc/#8021" class="Bound">Γ⊢t₂⇝t₂′</a><a id="8029" class="Symbol">)</a> <a id="8031" class="Symbol">=</a> <a id="8033" href="/type-theory/2018/08/17/notes-sltc/#8021" class="Bound">Γ⊢t₂⇝t₂′</a>

         <a id="8052" href="/type-theory/2018/08/17/notes-sltc/#8052" class="Function">helper</a> <a id="8059" class="Symbol">:</a> <a id="8061" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">∄[</a> <a id="8064" href="/type-theory/2018/08/17/notes-sltc/#8064" class="Bound">t</a> <a id="8066" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">]</a> <a id="8068" class="Symbol">(</a><a id="8069" class="Bound">Γ</a> <a id="8071" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="8073" class="Bound">t₁</a> <a id="8076" href="/type-theory/2018/08/17/notes-sltc/#1511" class="InductiveConstructor Operator">∙</a> <a id="8078" class="Bound">t₂</a> <a id="8081" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="8083" href="/type-theory/2018/08/17/notes-sltc/#8064" class="Bound">t</a><a id="8084" class="Symbol">)</a>
         <a id="8095" href="/type-theory/2018/08/17/notes-sltc/#8052" class="Function">helper</a> <a id="8102" class="Symbol">(</a><a id="8103" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="8107" class="Symbol">_</a> <a id="8109" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="8114" class="Symbol">())</a>
         <a id="8127" href="/type-theory/2018/08/17/notes-sltc/#8052" class="Function">helper</a> <a id="8134" class="Symbol">(</a><a id="8135" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="8139" class="Symbol">_</a> <a id="8141" class="Symbol">_</a> <a id="8143" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="8148" class="Symbol">())</a>
         <a id="8161" href="/type-theory/2018/08/17/notes-sltc/#8052" class="Function">helper</a> <a id="8168" class="Symbol">(</a><a id="8169" href="/type-theory/2018/08/17/notes-sltc/#8169" class="Bound">t₁″</a> <a id="8173" href="/type-theory/2018/08/17/notes-sltc/#2460" class="InductiveConstructor Operator">∙</a> <a id="8175" href="/type-theory/2018/08/17/notes-sltc/#8175" class="Bound">t₂″</a> <a id="8179" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="8184" href="/type-theory/2018/08/17/notes-sltc/#8184" class="Bound">Γ⊢t₁∙t₂⇝t</a><a id="8193" class="Symbol">)</a>
           <a id="8206" class="Symbol">=</a> <a id="8208" href="/type-theory/2018/08/17/notes-sltc/#7843" class="Bound">∄t⟨Γ⊢t₂⇝t⟩</a> <a id="8219" class="Symbol">(</a><a id="8220" href="/type-theory/2018/08/17/notes-sltc/#8175" class="Bound">t₂″</a> <a id="8224" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="8229" href="/type-theory/2018/08/17/notes-sltc/#7889" class="Function">appʳ</a> <a id="8234" href="/type-theory/2018/08/17/notes-sltc/#8184" class="Bound">Γ⊢t₁∙t₂⇝t</a><a id="8243" class="Symbol">)</a>

  <a id="8248" class="Symbol">...</a> <a id="8252" class="Symbol">|</a> <a id="8254" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="8257" href="/type-theory/2018/08/17/notes-sltc/#8257" class="Bound">∄t⟨Γ⊢t₁⇝t⟩</a>  <a id="8269" class="Symbol">|</a> <a id="8271" class="Symbol">_</a> <a id="8273" class="Symbol">=</a> <a id="8275" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="8278" href="/type-theory/2018/08/17/notes-sltc/#8458" class="Function">helper</a>
      <a id="8291" class="Keyword">where</a>
        <a id="8305" href="/type-theory/2018/08/17/notes-sltc/#8305" class="Function">appˡ</a> <a id="8310" class="Symbol">:</a> <a id="8312" class="Symbol">∀</a> <a id="8314" class="Symbol">{</a><a id="8315" href="/type-theory/2018/08/17/notes-sltc/#8315" class="Bound">n</a><a id="8316" class="Symbol">}</a> <a id="8318" class="Symbol">{</a><a id="8319" href="/type-theory/2018/08/17/notes-sltc/#8319" class="Bound">Γ</a> <a id="8321" class="Symbol">:</a> <a id="8323" href="/type-theory/2018/08/17/notes-sltc/#2589" class="Function">Binder</a> <a id="8330" href="/type-theory/2018/08/17/notes-sltc/#8315" class="Bound">n</a><a id="8331" class="Symbol">}</a> <a id="8333" class="Symbol">{</a><a id="8334" href="/type-theory/2018/08/17/notes-sltc/#8334" class="Bound">t₁</a> <a id="8337" href="/type-theory/2018/08/17/notes-sltc/#8337" class="Bound">t₂</a> <a id="8340" href="/type-theory/2018/08/17/notes-sltc/#8340" class="Bound">t₁′</a> <a id="8344" href="/type-theory/2018/08/17/notes-sltc/#8344" class="Bound">t₂′</a><a id="8347" class="Symbol">}</a>
          <a id="8359" class="Symbol">→</a> <a id="8361" href="/type-theory/2018/08/17/notes-sltc/#8319" class="Bound">Γ</a> <a id="8363" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="8365" href="/type-theory/2018/08/17/notes-sltc/#8334" class="Bound">t₁</a> <a id="8368" href="/type-theory/2018/08/17/notes-sltc/#1511" class="InductiveConstructor Operator">∙</a> <a id="8370" href="/type-theory/2018/08/17/notes-sltc/#8337" class="Bound">t₂</a> <a id="8373" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="8375" href="/type-theory/2018/08/17/notes-sltc/#8340" class="Bound">t₁′</a> <a id="8379" href="/type-theory/2018/08/17/notes-sltc/#2460" class="InductiveConstructor Operator">∙</a> <a id="8381" href="/type-theory/2018/08/17/notes-sltc/#8344" class="Bound">t₂′</a>
          <a id="8395" class="Symbol">→</a> <a id="8397" href="/type-theory/2018/08/17/notes-sltc/#8319" class="Bound">Γ</a> <a id="8399" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="8401" href="/type-theory/2018/08/17/notes-sltc/#8334" class="Bound">t₁</a> <a id="8404" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="8406" href="/type-theory/2018/08/17/notes-sltc/#8340" class="Bound">t₁′</a>
        <a id="8418" href="/type-theory/2018/08/17/notes-sltc/#8305" class="Function">appˡ</a> <a id="8423" class="Symbol">(</a><a id="8424" href="/type-theory/2018/08/17/notes-sltc/#8424" class="Bound">Γ⊢t₁⇝t₁′</a> <a id="8433" href="/type-theory/2018/08/17/notes-sltc/#3215" class="InductiveConstructor Operator">∙</a> <a id="8435" class="Symbol">_)</a> <a id="8438" class="Symbol">=</a> <a id="8440" href="/type-theory/2018/08/17/notes-sltc/#8424" class="Bound">Γ⊢t₁⇝t₁′</a>

        <a id="8458" href="/type-theory/2018/08/17/notes-sltc/#8458" class="Function">helper</a> <a id="8465" class="Symbol">:</a> <a id="8467" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">∄[</a> <a id="8470" href="/type-theory/2018/08/17/notes-sltc/#8470" class="Bound">t₁′</a> <a id="8474" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">]</a> <a id="8476" class="Symbol">(</a><a id="8477" class="Bound">Γ</a> <a id="8479" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⊢</a> <a id="8481" class="Symbol">(</a><a id="8482" class="Bound">t₁</a> <a id="8485" href="/type-theory/2018/08/17/notes-sltc/#1511" class="InductiveConstructor Operator">∙</a> <a id="8487" class="Bound">t₂</a><a id="8489" class="Symbol">)</a> <a id="8491" href="/type-theory/2018/08/17/notes-sltc/#2732" class="Datatype Operator">⇝</a> <a id="8493" href="/type-theory/2018/08/17/notes-sltc/#8470" class="Bound">t₁′</a><a id="8496" class="Symbol">)</a>
        <a id="8506" href="/type-theory/2018/08/17/notes-sltc/#8458" class="Function">helper</a> <a id="8513" class="Symbol">(</a><a id="8514" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="8518" class="Symbol">_</a> <a id="8520" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="8525" class="Symbol">())</a>
        <a id="8537" href="/type-theory/2018/08/17/notes-sltc/#8458" class="Function">helper</a> <a id="8544" class="Symbol">(</a><a id="8545" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="8549" class="Symbol">_</a> <a id="8551" class="Symbol">_</a> <a id="8553" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="8558" class="Symbol">())</a>
        <a id="8570" href="/type-theory/2018/08/17/notes-sltc/#8458" class="Function">helper</a> <a id="8577" class="Symbol">(</a><a id="8578" href="/type-theory/2018/08/17/notes-sltc/#8578" class="Bound">t₁″</a> <a id="8582" href="/type-theory/2018/08/17/notes-sltc/#2460" class="InductiveConstructor Operator">∙</a> <a id="8584" href="/type-theory/2018/08/17/notes-sltc/#8584" class="Bound">t₂″</a> <a id="8588" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="8593" href="/type-theory/2018/08/17/notes-sltc/#8593" class="Bound">Γ⊢t₁∙t₂⇝t</a><a id="8602" class="Symbol">)</a>
          <a id="8614" class="Symbol">=</a> <a id="8616" href="/type-theory/2018/08/17/notes-sltc/#8257" class="Bound">∄t⟨Γ⊢t₁⇝t⟩</a> <a id="8627" class="Symbol">(</a><a id="8628" href="/type-theory/2018/08/17/notes-sltc/#8578" class="Bound">t₁″</a> <a id="8632" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="8637" href="/type-theory/2018/08/17/notes-sltc/#8305" class="Function">appˡ</a> <a id="8642" href="/type-theory/2018/08/17/notes-sltc/#8593" class="Bound">Γ⊢t₁∙t₂⇝t</a><a id="8651" class="Symbol">)</a>

  <a id="8656" class="Comment">-- Go from a representation that uses Names to one that uses de Bruijn indices</a>
  <a id="Scopecheck.scope"></a><a id="8737" href="/type-theory/2018/08/17/notes-sltc/#8737" class="Function">scope</a> <a id="8743" class="Symbol">:</a> <a id="8745" class="Symbol">(</a><a id="8746" href="/type-theory/2018/08/17/notes-sltc/#8746" class="Bound">t</a> <a id="8748" class="Symbol">:</a> <a id="8750" href="/type-theory/2018/08/17/notes-sltc/#1435" class="Datatype">S.Expr</a><a id="8756" class="Symbol">)</a> <a id="8758" class="Symbol">→</a> <a id="8760" class="Symbol">{</a><a id="8761" href="/type-theory/2018/08/17/notes-sltc/#8761" class="Bound">p</a> <a id="8763" class="Symbol">:</a> <a id="8765" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Decidable.html#897" class="Function">True</a> <a id="8770" class="Symbol">(</a><a id="8771" href="/type-theory/2018/08/17/notes-sltc/#7036" class="Function">check</a> <a id="8777" href="https://agda.github.io/agda-stdlib/Data.Vec.html#712" class="InductiveConstructor">[]</a> <a id="8780" href="/type-theory/2018/08/17/notes-sltc/#8746" class="Bound">t</a><a id="8781" class="Symbol">)}</a> <a id="8784" class="Symbol">→</a> <a id="8786" href="/type-theory/2018/08/17/notes-sltc/#2364" class="Datatype">Expr</a> <a id="8791" class="Number">0</a>
  <a id="8795" href="/type-theory/2018/08/17/notes-sltc/#8737" class="Function">scope</a> <a id="8801" href="/type-theory/2018/08/17/notes-sltc/#8801" class="Bound">t</a> <a id="8803" class="Symbol">{</a><a id="8804" href="/type-theory/2018/08/17/notes-sltc/#8804" class="Bound">p</a><a id="8805" class="Symbol">}</a> <a id="8807" class="Symbol">=</a> <a id="8809" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#155" class="Field">proj₁</a> <a id="8815" class="Symbol">(</a><a id="8816" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Decidable.html#1055" class="Function">toWitness</a> <a id="8826" href="/type-theory/2018/08/17/notes-sltc/#8804" class="Bound">p</a><a id="8827" class="Symbol">)</a></pre>

<h4 id="examples-2">Examples</h4>

<pre class="Agda"><a id="8872" class="Keyword">private</a>

  <a id="8883" class="Comment">-- postulate</a>
  <a id="8898" class="Comment">--   A : Type</a>

  <a id="8915" class="Comment">-- I₁ : S.Expr</a>
  <a id="8932" class="Comment">-- I₁ = S.lam (&quot;x&quot; ∶ A) (S.var &quot;x&quot;)</a>

  <a id="8971" class="Comment">-- open import Data.Unit</a>

  <a id="8999" class="Comment">-- I : Expr 0</a>
  <a id="9015" class="Comment">-- I = scope I₁ {p = ⊤.tt}</a>

    <a id="9047" class="Keyword">postulate</a> <a id="Scopecheck.A"></a><a id="9057" href="/type-theory/2018/08/17/notes-sltc/#9057" class="Postulate">A</a> <a id="9059" class="Symbol">:</a> <a id="9061" href="/type-theory/2018/08/17/notes-sltc/#4674" class="Bound">Type</a>
    <a id="Scopecheck.x"></a><a id="9070" href="/type-theory/2018/08/17/notes-sltc/#9070" class="Function">x</a> <a id="9072" class="Symbol">:</a> <a id="9074" href="/type-theory/2018/08/17/notes-sltc/#1435" class="Datatype">S.Expr</a>
    <a id="9085" href="/type-theory/2018/08/17/notes-sltc/#9070" class="Function">x</a> <a id="9087" class="Symbol">=</a> <a id="9089" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="9093" class="String">&quot;x&quot;</a>

    <a id="Scopecheck.y"></a><a id="9102" href="/type-theory/2018/08/17/notes-sltc/#9102" class="Function">y</a> <a id="9104" class="Symbol">:</a> <a id="9106" href="/type-theory/2018/08/17/notes-sltc/#1435" class="Datatype">S.Expr</a>
    <a id="9117" href="/type-theory/2018/08/17/notes-sltc/#9102" class="Function">y</a> <a id="9119" class="Symbol">=</a> <a id="9121" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="9125" class="String">&quot;y&quot;</a>

    <a id="Scopecheck.z"></a><a id="9134" href="/type-theory/2018/08/17/notes-sltc/#9134" class="Function">z</a> <a id="9136" class="Symbol">:</a> <a id="9138" href="/type-theory/2018/08/17/notes-sltc/#1435" class="Datatype">S.Expr</a>
    <a id="9149" href="/type-theory/2018/08/17/notes-sltc/#9134" class="Function">z</a> <a id="9151" class="Symbol">=</a> <a id="9153" href="/type-theory/2018/08/17/notes-sltc/#1456" class="InductiveConstructor">var</a> <a id="9157" class="String">&quot;z&quot;</a>

    <a id="Scopecheck.S₁"></a><a id="9166" href="/type-theory/2018/08/17/notes-sltc/#9166" class="Function">S₁</a> <a id="9169" class="Symbol">:</a> <a id="9171" href="/type-theory/2018/08/17/notes-sltc/#1435" class="Datatype">S.Expr</a>
    <a id="9182" href="/type-theory/2018/08/17/notes-sltc/#9166" class="Function">S₁</a> <a id="9185" class="Symbol">=</a>
      <a id="9193" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="9197" class="Symbol">(</a><a id="9198" class="String">&quot;x&quot;</a> <a id="9202" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">∶</a> <a id="9204" href="/type-theory/2018/08/17/notes-sltc/#9057" class="Postulate">A</a><a id="9205" class="Symbol">)</a>
        <a id="9215" class="Symbol">(</a><a id="9216" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="9220" class="Symbol">(</a><a id="9221" class="String">&quot;y&quot;</a> <a id="9225" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">∶</a> <a id="9227" href="/type-theory/2018/08/17/notes-sltc/#9057" class="Postulate">A</a><a id="9228" class="Symbol">)</a>
        <a id="9238" class="Symbol">(</a><a id="9239" href="/type-theory/2018/08/17/notes-sltc/#1480" class="InductiveConstructor">lam</a> <a id="9243" class="Symbol">(</a><a id="9244" class="String">&quot;z&quot;</a> <a id="9248" href="/type-theory/2018/08/17/notes-sltc/#1400" class="InductiveConstructor Operator">∶</a> <a id="9250" href="/type-theory/2018/08/17/notes-sltc/#9057" class="Postulate">A</a><a id="9251" class="Symbol">)</a>
        <a id="9261" class="Symbol">((</a><a id="9263" href="/type-theory/2018/08/17/notes-sltc/#9070" class="Function">x</a> <a id="9265" href="/type-theory/2018/08/17/notes-sltc/#1511" class="InductiveConstructor Operator">∙</a> <a id="9267" href="/type-theory/2018/08/17/notes-sltc/#9134" class="Function">z</a><a id="9268" class="Symbol">)</a> <a id="9270" href="/type-theory/2018/08/17/notes-sltc/#1511" class="InductiveConstructor Operator">∙</a> <a id="9272" class="Symbol">(</a><a id="9273" href="/type-theory/2018/08/17/notes-sltc/#9102" class="Function">y</a> <a id="9275" href="/type-theory/2018/08/17/notes-sltc/#1511" class="InductiveConstructor Operator">∙</a> <a id="9277" href="/type-theory/2018/08/17/notes-sltc/#9134" class="Function">z</a><a id="9278" class="Symbol">))))</a>

    <a id="Scopecheck.w"></a><a id="9288" href="/type-theory/2018/08/17/notes-sltc/#9288" class="Function">w</a> <a id="9290" class="Symbol">=</a> <a id="9292" href="/type-theory/2018/08/17/notes-sltc/#7036" class="Function">check</a> <a id="9298" href="https://agda.github.io/agda-stdlib/Data.Vec.html#712" class="InductiveConstructor">[]</a> <a id="9301" href="/type-theory/2018/08/17/notes-sltc/#9166" class="Function">S₁</a>
    <a id="9308" class="Comment">-- S = scope S₁ {p = ⊤.tt}</a></pre>

<h3 id="typing">Typing</h3>

<p>Type system and its derivation rules.</p>

<pre class="Agda"><a id="9412" class="Keyword">module</a> <a id="Typing"></a><a id="9419" href="/type-theory/2018/08/17/notes-sltc/#9419" class="Module">Typing</a> <a id="9426" class="Symbol">(</a><a id="9427" href="/type-theory/2018/08/17/notes-sltc/#9427" class="Bound">U</a> <a id="9429" class="Symbol">:</a> <a id="9431" class="PrimitiveType">Set</a><a id="9434" class="Symbol">)</a> <a id="9436" class="Keyword">where</a>

  <a id="9445" class="Keyword">data</a> <a id="Typing.Type"></a><a id="9450" href="/type-theory/2018/08/17/notes-sltc/#9450" class="Datatype">Type</a> <a id="9455" class="Symbol">:</a> <a id="9457" class="PrimitiveType">Set</a> <a id="9461" class="Keyword">where</a>
    <a id="Typing.Type.base"></a><a id="9471" href="/type-theory/2018/08/17/notes-sltc/#9471" class="InductiveConstructor">base</a> <a id="9476" class="Symbol">:</a> <a id="9478" href="/type-theory/2018/08/17/notes-sltc/#9427" class="Bound">U</a>    <a id="9483" class="Symbol">→</a> <a id="9485" href="/type-theory/2018/08/17/notes-sltc/#9450" class="Datatype">Type</a>
    <a id="Typing.Type._↣_"></a><a id="9494" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">_↣_</a>  <a id="9499" class="Symbol">:</a> <a id="9501" href="/type-theory/2018/08/17/notes-sltc/#9450" class="Datatype">Type</a> <a id="9506" class="Symbol">→</a> <a id="9508" href="/type-theory/2018/08/17/notes-sltc/#9450" class="Datatype">Type</a> <a id="9513" class="Symbol">→</a> <a id="9515" href="/type-theory/2018/08/17/notes-sltc/#9450" class="Datatype">Type</a>

  <a id="9523" class="Keyword">open</a> <a id="9528" href="/type-theory/2018/08/17/notes-sltc/#2042" class="Module">Bound</a> <a id="9534" href="/type-theory/2018/08/17/notes-sltc/#9450" class="Datatype">Type</a> <a id="9539" class="Keyword">hiding</a> <a id="9546" class="Symbol">(</a>_,_<a id="9550" class="Symbol">)</a>

  <a id="9555" class="Keyword">open</a> <a id="9560" class="Keyword">import</a> <a id="9567" href="https://agda.github.io/agda-stdlib/Data.Nat.html" class="Module">Data.Nat</a> <a id="9576" class="Keyword">using</a> <a id="9582" class="Symbol">(</a><a id="9583" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="9584" class="Symbol">;</a> <a id="9586" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a><a id="9589" class="Symbol">)</a>
  <a id="9593" class="Keyword">open</a> <a id="9598" class="Keyword">import</a> <a id="9605" href="https://agda.github.io/agda-stdlib/Data.Vec.html" class="Module">Data.Vec</a> <a id="9614" class="Keyword">using</a> <a id="9620" class="Symbol">(</a><a id="9621" href="https://agda.github.io/agda-stdlib/Data.Vec.html#672" class="Datatype">Vec</a><a id="9624" class="Symbol">;</a> <a id="9626" href="https://agda.github.io/agda-stdlib/Data.Vec.html#731" class="InductiveConstructor Operator">_∷_</a><a id="9629" class="Symbol">;</a> <a id="9631" href="https://agda.github.io/agda-stdlib/Data.Vec.html#1471" class="Function">lookup</a><a id="9637" class="Symbol">;</a> <a id="9639" href="https://agda.github.io/agda-stdlib/Data.Vec.html#712" class="InductiveConstructor">[]</a><a id="9641" class="Symbol">)</a>
  <a id="9645" class="Keyword">open</a> <a id="9650" class="Keyword">import</a> <a id="9657" href="https://agda.github.io/agda-stdlib/Data.Fin.html" class="Module">Data.Fin</a> <a id="9666" class="Keyword">using</a> <a id="9672" class="Symbol">(</a><a id="9673" href="https://agda.github.io/agda-stdlib/Data.Fin.html#910" class="Datatype">Fin</a><a id="9676" class="Symbol">;</a> <a id="9678" href="https://agda.github.io/agda-stdlib/Data.Fin.html#1772" class="Function Operator">#_</a><a id="9680" class="Symbol">)</a>


  <a id="Typing.Ctxt"></a><a id="9686" href="/type-theory/2018/08/17/notes-sltc/#9686" class="Function">Ctxt</a> <a id="9691" class="Symbol">:</a> <a id="9693" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="9695" class="Symbol">→</a> <a id="9697" class="PrimitiveType">Set</a>
  <a id="9703" href="/type-theory/2018/08/17/notes-sltc/#9686" class="Function">Ctxt</a> <a id="9708" class="Symbol">=</a> <a id="9710" href="https://agda.github.io/agda-stdlib/Data.Vec.html#672" class="Datatype">Vec</a> <a id="9714" href="/type-theory/2018/08/17/notes-sltc/#9450" class="Datatype">Type</a>

  <a id="Typing._,_"></a><a id="9722" href="/type-theory/2018/08/17/notes-sltc/#9722" class="Function Operator">_,_</a> <a id="9726" class="Symbol">:</a> <a id="9728" class="Symbol">∀</a> <a id="9730" class="Symbol">{</a><a id="9731" href="/type-theory/2018/08/17/notes-sltc/#9731" class="Bound">n</a><a id="9732" class="Symbol">}</a> <a id="9734" class="Symbol">→</a> <a id="9736" href="/type-theory/2018/08/17/notes-sltc/#9686" class="Function">Ctxt</a> <a id="9741" href="/type-theory/2018/08/17/notes-sltc/#9731" class="Bound">n</a> <a id="9743" class="Symbol">→</a> <a id="9745" href="/type-theory/2018/08/17/notes-sltc/#9450" class="Datatype">Type</a> <a id="9750" class="Symbol">→</a> <a id="9752" href="/type-theory/2018/08/17/notes-sltc/#9686" class="Function">Ctxt</a> <a id="9757" class="Symbol">(</a><a id="9758" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="9762" href="/type-theory/2018/08/17/notes-sltc/#9731" class="Bound">n</a><a id="9763" class="Symbol">)</a>
  <a id="9767" href="/type-theory/2018/08/17/notes-sltc/#9767" class="Bound">Γ</a> <a id="9769" href="/type-theory/2018/08/17/notes-sltc/#9722" class="Function Operator">,</a> <a id="9771" href="/type-theory/2018/08/17/notes-sltc/#9771" class="Bound">x</a> <a id="9773" class="Symbol">=</a> <a id="9775" href="/type-theory/2018/08/17/notes-sltc/#9771" class="Bound">x</a> <a id="9777" href="https://agda.github.io/agda-stdlib/Data.Vec.html#731" class="InductiveConstructor Operator">∷</a> <a id="9779" href="/type-theory/2018/08/17/notes-sltc/#9767" class="Bound">Γ</a>

  <a id="9784" class="Keyword">infixl</a> <a id="9791" class="Number">20</a> <a id="9794" href="/type-theory/2018/08/17/notes-sltc/#9722" class="Function Operator">_,_</a>

  <a id="9801" class="Keyword">data</a> <a id="Typing._⊢_∶_"></a><a id="9806" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">_⊢_∶_</a> <a id="9812" class="Symbol">:</a> <a id="9814" class="Symbol">∀</a> <a id="9816" class="Symbol">{</a><a id="9817" href="/type-theory/2018/08/17/notes-sltc/#9817" class="Bound">n</a><a id="9818" class="Symbol">}</a> <a id="9820" class="Symbol">→</a> <a id="9822" href="/type-theory/2018/08/17/notes-sltc/#9686" class="Function">Ctxt</a> <a id="9827" href="/type-theory/2018/08/17/notes-sltc/#9817" class="Bound">n</a> <a id="9829" class="Symbol">→</a> <a id="9831" href="/type-theory/2018/08/17/notes-sltc/#2364" class="Datatype">Expr</a> <a id="9836" href="/type-theory/2018/08/17/notes-sltc/#9817" class="Bound">n</a> <a id="9838" class="Symbol">→</a> <a id="9840" href="/type-theory/2018/08/17/notes-sltc/#9450" class="Datatype">Type</a> <a id="9845" class="Symbol">→</a> <a id="9847" class="PrimitiveType">Set</a> <a id="9851" class="Keyword">where</a>
    <a id="Typing._⊢_∶_.tVar"></a><a id="9861" href="/type-theory/2018/08/17/notes-sltc/#9861" class="InductiveConstructor">tVar</a> <a id="9866" class="Symbol">:</a> <a id="9868" class="Symbol">∀</a> <a id="9870" class="Symbol">{</a><a id="9871" href="/type-theory/2018/08/17/notes-sltc/#9871" class="Bound">n</a> <a id="9873" href="/type-theory/2018/08/17/notes-sltc/#9873" class="Bound">Γ</a><a id="9874" class="Symbol">}</a> <a id="9876" class="Symbol">{</a><a id="9877" href="/type-theory/2018/08/17/notes-sltc/#9877" class="Bound">x</a> <a id="9879" class="Symbol">:</a> <a id="9881" href="https://agda.github.io/agda-stdlib/Data.Fin.html#910" class="Datatype">Fin</a> <a id="9885" href="/type-theory/2018/08/17/notes-sltc/#9871" class="Bound">n</a><a id="9886" class="Symbol">}</a>
         <a id="9897" class="Symbol">→</a> <a id="9899" href="/type-theory/2018/08/17/notes-sltc/#9873" class="Bound">Γ</a> <a id="9901" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="9903" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="9907" href="/type-theory/2018/08/17/notes-sltc/#9877" class="Bound">x</a> <a id="9909" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="9911" href="https://agda.github.io/agda-stdlib/Data.Vec.html#1471" class="Function">lookup</a> <a id="9918" href="/type-theory/2018/08/17/notes-sltc/#9877" class="Bound">x</a> <a id="9920" href="/type-theory/2018/08/17/notes-sltc/#9873" class="Bound">Γ</a>

    <a id="Typing._⊢_∶_.tLam"></a><a id="9927" href="/type-theory/2018/08/17/notes-sltc/#9927" class="InductiveConstructor">tLam</a> <a id="9932" class="Symbol">:</a> <a id="9934" class="Symbol">∀</a> <a id="9936" class="Symbol">{</a><a id="9937" href="/type-theory/2018/08/17/notes-sltc/#9937" class="Bound">n</a><a id="9938" class="Symbol">}</a> <a id="9940" class="Symbol">{</a><a id="9941" href="/type-theory/2018/08/17/notes-sltc/#9941" class="Bound">Γ</a> <a id="9943" class="Symbol">:</a> <a id="9945" href="/type-theory/2018/08/17/notes-sltc/#9686" class="Function">Ctxt</a> <a id="9950" href="/type-theory/2018/08/17/notes-sltc/#9937" class="Bound">n</a><a id="9951" class="Symbol">}</a> <a id="9953" class="Symbol">{</a><a id="9954" href="/type-theory/2018/08/17/notes-sltc/#9954" class="Bound">t</a><a id="9955" class="Symbol">}</a> <a id="9957" class="Symbol">{</a><a id="9958" href="/type-theory/2018/08/17/notes-sltc/#9958" class="Bound">τ</a> <a id="9960" href="/type-theory/2018/08/17/notes-sltc/#9960" class="Bound">τ′</a><a id="9962" class="Symbol">}</a>
         <a id="9973" class="Symbol">→</a> <a id="9975" href="/type-theory/2018/08/17/notes-sltc/#9941" class="Bound">Γ</a> <a id="9977" href="/type-theory/2018/08/17/notes-sltc/#9722" class="Function Operator">,</a> <a id="9979" href="/type-theory/2018/08/17/notes-sltc/#9958" class="Bound">τ</a> <a id="9981" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="9983" href="/type-theory/2018/08/17/notes-sltc/#9954" class="Bound">t</a> <a id="9985" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="9987" href="/type-theory/2018/08/17/notes-sltc/#9960" class="Bound">τ′</a>
         <a id="9999" class="Symbol">→</a> <a id="10001" href="/type-theory/2018/08/17/notes-sltc/#9941" class="Bound">Γ</a> <a id="10003" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="10005" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="10009" href="/type-theory/2018/08/17/notes-sltc/#9958" class="Bound">τ</a> <a id="10011" href="/type-theory/2018/08/17/notes-sltc/#9954" class="Bound">t</a> <a id="10013" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="10015" href="/type-theory/2018/08/17/notes-sltc/#9958" class="Bound">τ</a> <a id="10017" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="10019" href="/type-theory/2018/08/17/notes-sltc/#9960" class="Bound">τ′</a>

    <a id="Typing._⊢_∶_._∙_"></a><a id="10027" href="/type-theory/2018/08/17/notes-sltc/#10027" class="InductiveConstructor Operator">_∙_</a>  <a id="10032" class="Symbol">:</a> <a id="10034" class="Symbol">∀</a> <a id="10036" class="Symbol">{</a><a id="10037" href="/type-theory/2018/08/17/notes-sltc/#10037" class="Bound">n</a><a id="10038" class="Symbol">}</a> <a id="10040" class="Symbol">{</a><a id="10041" href="/type-theory/2018/08/17/notes-sltc/#10041" class="Bound">Γ</a> <a id="10043" class="Symbol">:</a> <a id="10045" href="/type-theory/2018/08/17/notes-sltc/#9686" class="Function">Ctxt</a> <a id="10050" href="/type-theory/2018/08/17/notes-sltc/#10037" class="Bound">n</a><a id="10051" class="Symbol">}</a> <a id="10053" class="Symbol">{</a><a id="10054" href="/type-theory/2018/08/17/notes-sltc/#10054" class="Bound">t₁</a> <a id="10057" href="/type-theory/2018/08/17/notes-sltc/#10057" class="Bound">t₂</a><a id="10059" class="Symbol">}</a> <a id="10061" class="Symbol">{</a><a id="10062" href="/type-theory/2018/08/17/notes-sltc/#10062" class="Bound">τ</a> <a id="10064" href="/type-theory/2018/08/17/notes-sltc/#10064" class="Bound">τ′</a><a id="10066" class="Symbol">}</a>
         <a id="10077" class="Symbol">→</a> <a id="10079" href="/type-theory/2018/08/17/notes-sltc/#10041" class="Bound">Γ</a> <a id="10081" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="10083" href="/type-theory/2018/08/17/notes-sltc/#10054" class="Bound">t₁</a> <a id="10086" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="10088" href="/type-theory/2018/08/17/notes-sltc/#10062" class="Bound">τ</a> <a id="10090" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="10092" href="/type-theory/2018/08/17/notes-sltc/#10064" class="Bound">τ′</a>
         <a id="10104" class="Symbol">→</a> <a id="10106" href="/type-theory/2018/08/17/notes-sltc/#10041" class="Bound">Γ</a> <a id="10108" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="10110" href="/type-theory/2018/08/17/notes-sltc/#10057" class="Bound">t₂</a> <a id="10113" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="10115" href="/type-theory/2018/08/17/notes-sltc/#10062" class="Bound">τ</a>
         <a id="10126" class="Symbol">→</a> <a id="10128" href="/type-theory/2018/08/17/notes-sltc/#10041" class="Bound">Γ</a> <a id="10130" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="10132" href="/type-theory/2018/08/17/notes-sltc/#10054" class="Bound">t₁</a> <a id="10135" href="/type-theory/2018/08/17/notes-sltc/#2460" class="InductiveConstructor Operator">∙</a> <a id="10137" href="/type-theory/2018/08/17/notes-sltc/#10057" class="Bound">t₂</a> <a id="10140" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="10142" href="/type-theory/2018/08/17/notes-sltc/#10064" class="Bound">τ′</a>

  <a id="10148" class="Keyword">infixr</a> <a id="10155" class="Number">30</a> <a id="10158" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">_↣_</a>
  <a id="10164" class="Keyword">infixl</a> <a id="10171" class="Number">20</a> <a id="10174" href="/type-theory/2018/08/17/notes-sltc/#10027" class="InductiveConstructor Operator">_∙_</a>
  <a id="10180" class="Keyword">infixl</a> <a id="10187" class="Number">20</a> <a id="10190" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">_⊢_∶_</a></pre>

<h4 id="examples-3">Examples</h4>

<pre class="Agda"><a id="10238" class="Keyword">private</a>
    <a id="10250" class="Keyword">postulate</a>
      <a id="Typing.Bool"></a><a id="10266" href="/type-theory/2018/08/17/notes-sltc/#10266" class="Postulate">Bool</a> <a id="10271" class="Symbol">:</a> <a id="10273" href="/type-theory/2018/08/17/notes-sltc/#9450" class="Datatype">Type</a>

    <a id="Typing.ex"></a><a id="10283" href="/type-theory/2018/08/17/notes-sltc/#10283" class="Function">ex</a> <a id="10286" class="Symbol">:</a> <a id="10288" href="https://agda.github.io/agda-stdlib/Data.Vec.html#712" class="InductiveConstructor">[]</a> <a id="10291" href="/type-theory/2018/08/17/notes-sltc/#9722" class="Function Operator">,</a> <a id="10293" href="/type-theory/2018/08/17/notes-sltc/#10266" class="Postulate">Bool</a> <a id="10298" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="10300" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="10304" class="Symbol">(</a><a id="10305" href="https://agda.github.io/agda-stdlib/Data.Fin.html#1772" class="Function Operator">#</a> <a id="10307" class="Number">0</a><a id="10308" class="Symbol">)</a> <a id="10310" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="10312" href="/type-theory/2018/08/17/notes-sltc/#10266" class="Postulate">Bool</a>
    <a id="10321" href="/type-theory/2018/08/17/notes-sltc/#10283" class="Function">ex</a> <a id="10324" class="Symbol">=</a> <a id="10326" href="/type-theory/2018/08/17/notes-sltc/#9861" class="InductiveConstructor">tVar</a>

    <a id="Typing.ex2"></a><a id="10336" href="/type-theory/2018/08/17/notes-sltc/#10336" class="Function">ex2</a> <a id="10340" class="Symbol">:</a> <a id="10342" href="https://agda.github.io/agda-stdlib/Data.Vec.html#712" class="InductiveConstructor">[]</a> <a id="10345" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="10347" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="10351" href="/type-theory/2018/08/17/notes-sltc/#10266" class="Postulate">Bool</a> <a id="10356" class="Symbol">(</a><a id="10357" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="10361" class="Symbol">(</a><a id="10362" href="https://agda.github.io/agda-stdlib/Data.Fin.html#1772" class="Function Operator">#</a> <a id="10364" class="Number">0</a><a id="10365" class="Symbol">))</a> <a id="10368" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="10370" href="/type-theory/2018/08/17/notes-sltc/#10266" class="Postulate">Bool</a> <a id="10375" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="10377" href="/type-theory/2018/08/17/notes-sltc/#10266" class="Postulate">Bool</a>
    <a id="10386" href="/type-theory/2018/08/17/notes-sltc/#10336" class="Function">ex2</a> <a id="10390" class="Symbol">=</a> <a id="10392" href="/type-theory/2018/08/17/notes-sltc/#9927" class="InductiveConstructor">tLam</a> <a id="10397" href="/type-theory/2018/08/17/notes-sltc/#9861" class="InductiveConstructor">tVar</a>

    <a id="10407" class="Keyword">postulate</a>
      <a id="Typing.Word"></a><a id="10423" href="/type-theory/2018/08/17/notes-sltc/#10423" class="Postulate">Word</a> <a id="10428" class="Symbol">:</a> <a id="10430" href="/type-theory/2018/08/17/notes-sltc/#9450" class="Datatype">Type</a>
      <a id="Typing.Num"></a><a id="10441" href="/type-theory/2018/08/17/notes-sltc/#10441" class="Postulate">Num</a>  <a id="10446" class="Symbol">:</a> <a id="10448" href="/type-theory/2018/08/17/notes-sltc/#9450" class="Datatype">Type</a>

    <a id="Typing.K"></a><a id="10458" href="/type-theory/2018/08/17/notes-sltc/#10458" class="Function">K</a> <a id="10460" class="Symbol">:</a> <a id="10462" href="https://agda.github.io/agda-stdlib/Data.Vec.html#712" class="InductiveConstructor">[]</a> <a id="10465" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="10467" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="10471" href="/type-theory/2018/08/17/notes-sltc/#10423" class="Postulate">Word</a> <a id="10476" class="Symbol">(</a><a id="10477" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="10481" href="/type-theory/2018/08/17/notes-sltc/#10441" class="Postulate">Num</a> <a id="10485" class="Symbol">(</a><a id="10486" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="10490" class="Symbol">(</a><a id="10491" href="https://agda.github.io/agda-stdlib/Data.Fin.html#1772" class="Function Operator">#</a> <a id="10493" class="Number">1</a><a id="10494" class="Symbol">)))</a> <a id="10498" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="10500" href="/type-theory/2018/08/17/notes-sltc/#10423" class="Postulate">Word</a> <a id="10505" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="10507" href="/type-theory/2018/08/17/notes-sltc/#10441" class="Postulate">Num</a> <a id="10511" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="10513" href="/type-theory/2018/08/17/notes-sltc/#10423" class="Postulate">Word</a>
    <a id="10522" href="/type-theory/2018/08/17/notes-sltc/#10458" class="Function">K</a> <a id="10524" class="Symbol">=</a> <a id="10526" href="/type-theory/2018/08/17/notes-sltc/#9927" class="InductiveConstructor">tLam</a> <a id="10531" class="Symbol">(</a><a id="10532" href="/type-theory/2018/08/17/notes-sltc/#9927" class="InductiveConstructor">tLam</a> <a id="10537" href="/type-theory/2018/08/17/notes-sltc/#9861" class="InductiveConstructor">tVar</a><a id="10541" class="Symbol">)</a>

    <a id="10548" class="Keyword">postulate</a>
      <a id="Typing.A"></a><a id="10564" href="/type-theory/2018/08/17/notes-sltc/#10564" class="Postulate">A</a> <a id="10566" class="Symbol">:</a> <a id="10568" href="/type-theory/2018/08/17/notes-sltc/#9450" class="Datatype">Type</a>
      <a id="Typing.B"></a><a id="10579" href="/type-theory/2018/08/17/notes-sltc/#10579" class="Postulate">B</a> <a id="10581" class="Symbol">:</a> <a id="10583" href="/type-theory/2018/08/17/notes-sltc/#9450" class="Datatype">Type</a>
      <a id="Typing.C"></a><a id="10594" href="/type-theory/2018/08/17/notes-sltc/#10594" class="Postulate">C</a> <a id="10596" class="Symbol">:</a> <a id="10598" href="/type-theory/2018/08/17/notes-sltc/#9450" class="Datatype">Type</a>

    <a id="10608" class="Comment">-- S : [] ⊢ lam (A ↣ (B ↣ C))</a>
    <a id="10642" class="Comment">--              (lam (A ↣ B)</a>
    <a id="10675" class="Comment">--                   (lam A</a>
    <a id="10707" class="Comment">--                     ((var (# 2)) ∙ (var (# 0))) ∙ ((var (# 1)) ∙ (var (# 0))) ))</a>
    <a id="10795" class="Comment">--        ∶ (A ↣ (B ↣ C)) ↣ (A ↣ B) ↣ A ↣ C</a>
    <a id="10843" class="Comment">-- S = tLam (tLam ((tLam ({! tVar  !} ∙ {!   !})) ∙ ({! tVar  !} ∙ {!   !}))) --  tLam (tLam (tLam ((tVar ∙ tVar) ∙ (tVar ∙ tVar))))</a></pre>

<h2 id="type-checking">Type-checking</h2>

<pre class="Agda"><a id="11019" class="Keyword">module</a> <a id="Typecheck"></a><a id="11026" href="/type-theory/2018/08/17/notes-sltc/#11026" class="Module">Typecheck</a> <a id="11036" class="Symbol">{</a><a id="11037" href="/type-theory/2018/08/17/notes-sltc/#11037" class="Bound">U</a> <a id="11039" class="Symbol">:</a> <a id="11041" class="PrimitiveType">Set</a><a id="11044" class="Symbol">}</a> <a id="11046" class="Symbol">(</a><a id="11047" href="/type-theory/2018/08/17/notes-sltc/#11047" class="Bound">UEq</a> <a id="11051" class="Symbol">:</a> <a id="11053" href="https://agda.github.io/agda-stdlib/Relation.Binary.html#2772" class="Record">IsDecEquivalence</a> <a id="11070" class="Symbol">{</a><a id="11071" class="Argument">A</a> <a id="11073" class="Symbol">=</a> <a id="11075" href="/type-theory/2018/08/17/notes-sltc/#11037" class="Bound">U</a><a id="11076" class="Symbol">}</a> <a id="11078" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="11081" class="Symbol">)</a> <a id="11083" class="Keyword">where</a>

  <a id="11092" class="Comment">------------------------------------------------------------------------------</a>

  <a id="11174" class="Keyword">open</a> <a id="11179" href="https://agda.github.io/agda-stdlib/Relation.Binary.html#2772" class="Module">IsDecEquivalence</a> <a id="11196" href="/type-theory/2018/08/17/notes-sltc/#11047" class="Bound">UEq</a> <a id="11200" class="Keyword">using</a> <a id="11206" class="Symbol">(</a>_≟_<a id="11210" class="Symbol">)</a>

  <a id="11215" class="Keyword">open</a> <a id="11220" href="/type-theory/2018/08/17/notes-sltc/#9419" class="Module">Typing</a> <a id="11227" href="/type-theory/2018/08/17/notes-sltc/#11037" class="Bound">U</a>
    <a id="11233" class="Keyword">using</a> <a id="11239" class="Symbol">(</a>Type<a id="11244" class="Symbol">;</a> base<a id="11250" class="Symbol">;</a> _↣_<a id="11255" class="Symbol">;</a> _⊢_∶_<a id="11262" class="Symbol">;</a> Ctxt<a id="11268" class="Symbol">;</a> tVar<a id="11274" class="Symbol">;</a> tLam<a id="11280" class="Symbol">;</a> _∙_<a id="11285" class="Symbol">)</a>
  <a id="11289" class="Keyword">open</a> <a id="11294" href="/type-theory/2018/08/17/notes-sltc/#2042" class="Module">Bound</a> <a id="11300" href="/type-theory/2018/08/17/notes-sltc/#9450" class="Datatype">Type</a>

  <a id="11308" class="Keyword">open</a> <a id="11313" class="Keyword">import</a> <a id="11320" href="https://agda.github.io/agda-stdlib/Data.Nat.html" class="Module">Data.Nat</a>      <a id="11334" class="Keyword">hiding</a> <a id="11341" class="Symbol">(</a><a id="11342" href="https://agda.github.io/agda-stdlib/Data.Nat.Base.html#2869" class="Function Operator">_≟_</a><a id="11345" class="Symbol">)</a>
  <a id="11349" class="Keyword">open</a> <a id="11354" class="Keyword">import</a> <a id="11361" href="https://agda.github.io/agda-stdlib/Data.Product.html" class="Module">Data.Product</a>  <a id="11375" class="Keyword">hiding</a> <a id="11382" class="Symbol">(</a><a id="11383" href="https://agda.github.io/agda-stdlib/Data.Product.html#941" class="Function">∃-syntax</a><a id="11391" class="Symbol">;</a> <a id="11393" href="https://agda.github.io/agda-stdlib/Data.Product.html#1117" class="Function">∄-syntax</a><a id="11401" class="Symbol">)</a> <a id="11403" class="Keyword">renaming</a> <a id="11412" class="Symbol">(</a><a id="11413" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">_,_</a> <a id="11417" class="Symbol">to</a> <a id="11420" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">_-by-_</a><a id="11426" class="Symbol">)</a>
  <a id="11430" class="Keyword">open</a> <a id="11435" class="Keyword">import</a> <a id="11442" href="https://agda.github.io/agda-stdlib/Data.Product.html" class="Module">Data.Product</a>  <a id="11456" class="Keyword">using</a> <a id="11462" class="Symbol">(</a><a id="11463" href="https://agda.github.io/agda-stdlib/Data.Product.html#880" class="Function">∃</a><a id="11464" class="Symbol">;</a> <a id="11466" href="https://agda.github.io/agda-stdlib/Data.Product.html#1052" class="Function">∄</a><a id="11467" class="Symbol">)</a>
  <a id="11471" class="Keyword">open</a> <a id="11476" class="Keyword">import</a> <a id="11483" href="https://agda.github.io/agda-stdlib/Data.Vec.html" class="Module">Data.Vec</a>      <a id="11497" class="Keyword">using</a> <a id="11503" class="Symbol">(</a><a id="11504" href="https://agda.github.io/agda-stdlib/Data.Vec.html#672" class="Datatype">Vec</a><a id="11507" class="Symbol">;</a> <a id="11509" href="https://agda.github.io/agda-stdlib/Data.Vec.html#731" class="InductiveConstructor Operator">_∷_</a><a id="11512" class="Symbol">;</a> <a id="11514" href="https://agda.github.io/agda-stdlib/Data.Vec.html#1471" class="Function">lookup</a><a id="11520" class="Symbol">)</a>

  <a id="11525" class="Keyword">open</a> <a id="11530" class="Keyword">import</a> <a id="11537" href="https://agda.github.io/agda-stdlib/Function.html" class="Module">Function</a>         <a id="11554" class="Keyword">using</a> <a id="11560" class="Symbol">(</a><a id="11561" href="https://agda.github.io/agda-stdlib/Function.html#759" class="Function Operator">_∘_</a><a id="11564" class="Symbol">;</a> <a id="11566" href="https://agda.github.io/agda-stdlib/Function.html#1881" class="Function Operator">_$_</a><a id="11569" class="Symbol">)</a>
  <a id="11573" class="Keyword">open</a> <a id="11578" class="Keyword">import</a> <a id="11585" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
    <a id="11627" class="Keyword">using</a> <a id="11633" class="Symbol">(</a><a id="11634" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="11638" class="Symbol">;</a> <a id="11640" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a><a id="11644" class="Symbol">;</a> <a id="11646" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1313" class="Function">cong₂</a><a id="11651" class="Symbol">;</a> <a id="11653" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#560" class="Function">sym</a><a id="11656" class="Symbol">)</a>
  <a id="11660" class="Keyword">open</a> <a id="11665" class="Keyword">import</a> <a id="11672" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="11689" class="Keyword">using</a> <a id="11695" class="Symbol">(</a><a id="11696" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#534" class="Datatype">Dec</a><a id="11699" class="Symbol">;</a> <a id="11701" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a><a id="11704" class="Symbol">;</a> <a id="11706" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a><a id="11708" class="Symbol">;</a> <a id="11710" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬_</a><a id="11712" class="Symbol">)</a>

  <a id="11717" class="Comment">------------------------------------------------------------------------------</a>

  <a id="11799" class="Comment">-- Equality between Types.</a>
  <a id="Typecheck._T≟_"></a><a id="11828" href="/type-theory/2018/08/17/notes-sltc/#11828" class="Function Operator">_T≟_</a> <a id="11833" class="Symbol">:</a> <a id="11835" class="Symbol">(</a><a id="11836" href="/type-theory/2018/08/17/notes-sltc/#11836" class="Bound">τ</a> <a id="11838" href="/type-theory/2018/08/17/notes-sltc/#11838" class="Bound">τ′</a> <a id="11841" class="Symbol">:</a> <a id="11843" href="/type-theory/2018/08/17/notes-sltc/#9450" class="Datatype">Type</a><a id="11847" class="Symbol">)</a> <a id="11849" class="Symbol">→</a> <a id="11851" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#534" class="Datatype">Dec</a> <a id="11855" class="Symbol">(</a><a id="11856" href="/type-theory/2018/08/17/notes-sltc/#11836" class="Bound">τ</a> <a id="11858" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="11860" href="/type-theory/2018/08/17/notes-sltc/#11838" class="Bound">τ′</a><a id="11862" class="Symbol">)</a>

  <a id="11867" href="/type-theory/2018/08/17/notes-sltc/#9471" class="InductiveConstructor">base</a> <a id="11872" href="/type-theory/2018/08/17/notes-sltc/#11872" class="Bound">A</a> <a id="11874" href="/type-theory/2018/08/17/notes-sltc/#11828" class="Function Operator">T≟</a> <a id="11877" href="/type-theory/2018/08/17/notes-sltc/#9471" class="InductiveConstructor">base</a> <a id="11882" href="/type-theory/2018/08/17/notes-sltc/#11882" class="Bound">B</a> <a id="11884" class="Keyword">with</a> <a id="11889" href="/type-theory/2018/08/17/notes-sltc/#11872" class="Bound">A</a> <a id="11891" href="https://agda.github.io/agda-stdlib/Relation.Binary.html#2931" class="Field Operator">≟</a> <a id="11893" href="/type-theory/2018/08/17/notes-sltc/#11882" class="Bound">B</a>
  <a id="11897" class="Symbol">...</a> <a id="11901" class="Symbol">|</a> <a id="11903" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="11907" href="/type-theory/2018/08/17/notes-sltc/#11907" class="Bound">A≡B</a> <a id="11911" class="Symbol">=</a> <a id="11913" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="11917" class="Symbol">(</a><a id="11918" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="11923" href="/type-theory/2018/08/17/notes-sltc/#9471" class="InductiveConstructor">base</a> <a id="11928" href="/type-theory/2018/08/17/notes-sltc/#11907" class="Bound">A≡B</a><a id="11931" class="Symbol">)</a>
  <a id="11935" class="Symbol">...</a> <a id="11939" class="Symbol">|</a> <a id="11941" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a>  <a id="11945" href="/type-theory/2018/08/17/notes-sltc/#11945" class="Bound">A≢B</a> <a id="11949" class="Symbol">=</a> <a id="11951" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="11954" class="Symbol">(</a><a id="11955" href="/type-theory/2018/08/17/notes-sltc/#11945" class="Bound">A≢B</a> <a id="11959" href="https://agda.github.io/agda-stdlib/Function.html#759" class="Function Operator">∘</a> <a id="11961" href="/type-theory/2018/08/17/notes-sltc/#11985" class="Function">helper</a><a id="11967" class="Symbol">)</a>
    <a id="11973" class="Keyword">where</a>
      <a id="11985" href="/type-theory/2018/08/17/notes-sltc/#11985" class="Function">helper</a> <a id="11992" class="Symbol">:</a> <a id="11994" href="/type-theory/2018/08/17/notes-sltc/#9471" class="InductiveConstructor">base</a> <a id="11999" class="Bound">A</a> <a id="12001" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="12003" href="/type-theory/2018/08/17/notes-sltc/#9471" class="InductiveConstructor">base</a> <a id="12008" class="Bound">B</a> <a id="12010" class="Symbol">→</a> <a id="12012" class="Bound">A</a> <a id="12014" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="12016" class="Bound">B</a>
      <a id="12024" href="/type-theory/2018/08/17/notes-sltc/#11985" class="Function">helper</a> <a id="12031" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="12036" class="Symbol">=</a> <a id="12038" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
  <a id="12045" href="/type-theory/2018/08/17/notes-sltc/#9471" class="InductiveConstructor">base</a> <a id="12050" href="/type-theory/2018/08/17/notes-sltc/#12050" class="Bound">A</a> <a id="12052" href="/type-theory/2018/08/17/notes-sltc/#11828" class="Function Operator">T≟</a> <a id="12055" class="Symbol">(_</a> <a id="12058" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="12060" class="Symbol">_)</a> <a id="12063" class="Symbol">=</a> <a id="12065" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="12068" class="Symbol">(λ</a> <a id="12071" class="Symbol">())</a>

  <a id="12078" class="Symbol">(</a><a id="12079" href="/type-theory/2018/08/17/notes-sltc/#12079" class="Bound">τ₁</a> <a id="12082" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="12084" href="/type-theory/2018/08/17/notes-sltc/#12084" class="Bound">τ₂</a><a id="12086" class="Symbol">)</a> <a id="12088" href="/type-theory/2018/08/17/notes-sltc/#11828" class="Function Operator">T≟</a> <a id="12091" href="/type-theory/2018/08/17/notes-sltc/#9471" class="InductiveConstructor">base</a> <a id="12096" href="/type-theory/2018/08/17/notes-sltc/#12096" class="Bound">B</a> <a id="12098" class="Symbol">=</a> <a id="12100" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="12103" class="Symbol">(λ</a> <a id="12106" class="Symbol">())</a>
  <a id="12112" class="Symbol">(</a><a id="12113" href="/type-theory/2018/08/17/notes-sltc/#12113" class="Bound">τ₁</a> <a id="12116" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="12118" href="/type-theory/2018/08/17/notes-sltc/#12118" class="Bound">τ₂</a><a id="12120" class="Symbol">)</a> <a id="12122" href="/type-theory/2018/08/17/notes-sltc/#11828" class="Function Operator">T≟</a> <a id="12125" class="Symbol">(</a><a id="12126" href="/type-theory/2018/08/17/notes-sltc/#12126" class="Bound">τ₁′</a> <a id="12130" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="12132" href="/type-theory/2018/08/17/notes-sltc/#12132" class="Bound">τ₂′</a><a id="12135" class="Symbol">)</a> <a id="12137" class="Keyword">with</a> <a id="12142" href="/type-theory/2018/08/17/notes-sltc/#12113" class="Bound">τ₁</a> <a id="12145" href="/type-theory/2018/08/17/notes-sltc/#11828" class="Function Operator">T≟</a> <a id="12148" href="/type-theory/2018/08/17/notes-sltc/#12126" class="Bound">τ₁′</a>
  <a id="12154" class="Symbol">...</a> <a id="12158" class="Symbol">|</a> <a id="12160" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a>  <a id="12164" href="/type-theory/2018/08/17/notes-sltc/#12164" class="Bound">τ₁≢τ₁′</a> <a id="12171" class="Symbol">=</a> <a id="12173" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="12176" class="Symbol">(</a><a id="12177" href="/type-theory/2018/08/17/notes-sltc/#12164" class="Bound">τ₁≢τ₁′</a> <a id="12184" href="https://agda.github.io/agda-stdlib/Function.html#759" class="Function Operator">∘</a> <a id="12186" href="/type-theory/2018/08/17/notes-sltc/#12210" class="Function">helper</a><a id="12192" class="Symbol">)</a>
    <a id="12198" class="Keyword">where</a>
      <a id="12210" href="/type-theory/2018/08/17/notes-sltc/#12210" class="Function">helper</a> <a id="12217" class="Symbol">:</a>  <a id="12220" class="Bound">τ₁</a> <a id="12223" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="12225" class="Bound">τ₂</a> <a id="12228" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="12230" class="Bound">τ₁′</a> <a id="12234" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="12236" class="Bound">τ₂′</a> <a id="12240" class="Symbol">→</a> <a id="12242" class="Bound">τ₁</a> <a id="12245" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="12247" class="Bound">τ₁′</a>
      <a id="12257" href="/type-theory/2018/08/17/notes-sltc/#12210" class="Function">helper</a> <a id="12264" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="12269" class="Symbol">=</a> <a id="12271" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

  <a id="12279" class="Symbol">...</a> <a id="12283" class="Symbol">|</a> <a id="12285" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="12289" href="/type-theory/2018/08/17/notes-sltc/#12289" class="Bound">τ₁≡τ₁′</a> <a id="12296" class="Keyword">with</a> <a id="12301" class="Bound">τ₂</a> <a id="12304" href="/type-theory/2018/08/17/notes-sltc/#11828" class="Function Operator">T≟</a> <a id="12307" class="Bound">τ₂′</a>
  <a id="12313" class="Symbol">...</a>            <a id="12328" class="Symbol">|</a> <a id="12330" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="12334" href="/type-theory/2018/08/17/notes-sltc/#12334" class="Bound">τ₂≡τ₂′</a> <a id="12341" class="Symbol">=</a> <a id="12343" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="12347" class="Symbol">(</a><a id="12348" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1313" class="Function">cong₂</a> <a id="12354" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">_↣_</a> <a id="12358" class="Bound">τ₁≡τ₁′</a> <a id="12365" href="/type-theory/2018/08/17/notes-sltc/#12334" class="Bound">τ₂≡τ₂′</a><a id="12371" class="Symbol">)</a>
  <a id="12375" class="Symbol">...</a>            <a id="12390" class="Symbol">|</a> <a id="12392" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a>  <a id="12396" href="/type-theory/2018/08/17/notes-sltc/#12396" class="Bound">τ₂≢τ₂′</a> <a id="12403" class="Symbol">=</a> <a id="12405" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="12408" class="Symbol">(</a><a id="12409" href="/type-theory/2018/08/17/notes-sltc/#12396" class="Bound">τ₂≢τ₂′</a> <a id="12416" href="https://agda.github.io/agda-stdlib/Function.html#759" class="Function Operator">∘</a> <a id="12418" href="/type-theory/2018/08/17/notes-sltc/#12442" class="Function">helper</a><a id="12424" class="Symbol">)</a>
    <a id="12430" class="Keyword">where</a>
      <a id="12442" href="/type-theory/2018/08/17/notes-sltc/#12442" class="Function">helper</a> <a id="12449" class="Symbol">:</a> <a id="12451" class="Bound">τ₁</a> <a id="12454" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="12456" class="Bound">τ₂</a> <a id="12459" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="12461" class="Bound">τ₁′</a> <a id="12465" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="12467" class="Bound">τ₂′</a> <a id="12471" class="Symbol">→</a> <a id="12473" class="Bound">τ₂</a> <a id="12476" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="12478" class="Bound">τ₂′</a>
      <a id="12488" href="/type-theory/2018/08/17/notes-sltc/#12442" class="Function">helper</a> <a id="12495" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="12500" class="Symbol">=</a> <a id="12502" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>


  <a id="Typecheck.⊢-inj"></a><a id="12511" href="/type-theory/2018/08/17/notes-sltc/#12511" class="Function">⊢-inj</a> <a id="12517" class="Symbol">:</a> <a id="12519" class="Symbol">∀</a> <a id="12521" class="Symbol">{</a><a id="12522" href="/type-theory/2018/08/17/notes-sltc/#12522" class="Bound">n</a> <a id="12524" href="/type-theory/2018/08/17/notes-sltc/#12524" class="Bound">Γ</a><a id="12525" class="Symbol">}</a> <a id="12527" class="Symbol">{</a><a id="12528" href="/type-theory/2018/08/17/notes-sltc/#12528" class="Bound">t</a> <a id="12530" class="Symbol">:</a> <a id="12532" href="/type-theory/2018/08/17/notes-sltc/#2364" class="Datatype">Expr</a> <a id="12537" href="/type-theory/2018/08/17/notes-sltc/#12522" class="Bound">n</a><a id="12538" class="Symbol">}</a> <a id="12540" class="Symbol">→</a> <a id="12542" class="Symbol">∀</a> <a id="12544" class="Symbol">{</a><a id="12545" href="/type-theory/2018/08/17/notes-sltc/#12545" class="Bound">τ</a> <a id="12547" href="/type-theory/2018/08/17/notes-sltc/#12547" class="Bound">σ</a><a id="12548" class="Symbol">}</a>
        <a id="12558" class="Symbol">→</a> <a id="12560" href="/type-theory/2018/08/17/notes-sltc/#12524" class="Bound">Γ</a> <a id="12562" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="12564" href="/type-theory/2018/08/17/notes-sltc/#12528" class="Bound">t</a> <a id="12566" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="12568" href="/type-theory/2018/08/17/notes-sltc/#12545" class="Bound">τ</a>
        <a id="12578" class="Symbol">→</a> <a id="12580" href="/type-theory/2018/08/17/notes-sltc/#12524" class="Bound">Γ</a> <a id="12582" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="12584" href="/type-theory/2018/08/17/notes-sltc/#12528" class="Bound">t</a> <a id="12586" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="12588" href="/type-theory/2018/08/17/notes-sltc/#12547" class="Bound">σ</a>
        <a id="12598" class="Symbol">→</a> <a id="12600" href="/type-theory/2018/08/17/notes-sltc/#12545" class="Bound">τ</a> <a id="12602" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="12604" href="/type-theory/2018/08/17/notes-sltc/#12547" class="Bound">σ</a>
  <a id="12608" href="/type-theory/2018/08/17/notes-sltc/#12511" class="Function">⊢-inj</a> <a id="12614" href="/type-theory/2018/08/17/notes-sltc/#9861" class="InductiveConstructor">tVar</a> <a id="12619" href="/type-theory/2018/08/17/notes-sltc/#9861" class="InductiveConstructor">tVar</a> <a id="12624" class="Symbol">=</a> <a id="12626" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
  <a id="12633" href="/type-theory/2018/08/17/notes-sltc/#12511" class="Function">⊢-inj</a> <a id="12639" class="Symbol">{</a><a id="12640" class="Argument">t</a> <a id="12642" class="Symbol">=</a> <a id="12644" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="12648" href="/type-theory/2018/08/17/notes-sltc/#12648" class="Bound">τ</a> <a id="12650" href="/type-theory/2018/08/17/notes-sltc/#12650" class="Bound">t</a><a id="12651" class="Symbol">}</a> <a id="12653" class="Symbol">(</a><a id="12654" href="/type-theory/2018/08/17/notes-sltc/#9927" class="InductiveConstructor">tLam</a> <a id="12659" href="/type-theory/2018/08/17/notes-sltc/#12659" class="Bound">Γ,τ⊢t:τ′</a><a id="12667" class="Symbol">)</a> <a id="12669" class="Symbol">(</a><a id="12670" href="/type-theory/2018/08/17/notes-sltc/#9927" class="InductiveConstructor">tLam</a> <a id="12675" href="/type-theory/2018/08/17/notes-sltc/#12675" class="Bound">Γ,τ⊢t:τ″</a><a id="12683" class="Symbol">)</a>
    <a id="12689" class="Symbol">=</a> <a id="12691" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="12696" class="Symbol">(</a><a id="12697" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">_↣_</a> <a id="12701" href="/type-theory/2018/08/17/notes-sltc/#12648" class="Bound">τ</a><a id="12702" class="Symbol">)</a> <a id="12704" class="Symbol">(</a><a id="12705" href="/type-theory/2018/08/17/notes-sltc/#12511" class="Function">⊢-inj</a> <a id="12711" href="/type-theory/2018/08/17/notes-sltc/#12659" class="Bound">Γ,τ⊢t:τ′</a> <a id="12720" href="/type-theory/2018/08/17/notes-sltc/#12675" class="Bound">Γ,τ⊢t:τ″</a><a id="12728" class="Symbol">)</a>
  <a id="12732" href="/type-theory/2018/08/17/notes-sltc/#12511" class="Function">⊢-inj</a> <a id="12738" class="Symbol">(</a><a id="12739" href="/type-theory/2018/08/17/notes-sltc/#12739" class="Bound">Γ⊢t₁:τ↣τ₂</a> <a id="12749" href="/type-theory/2018/08/17/notes-sltc/#10027" class="InductiveConstructor Operator">∙</a> <a id="12751" href="/type-theory/2018/08/17/notes-sltc/#12751" class="Bound">Γ⊢t₂:τ</a><a id="12757" class="Symbol">)</a> <a id="12759" class="Symbol">(</a><a id="12760" href="/type-theory/2018/08/17/notes-sltc/#12760" class="Bound">Γ⊢t₁:τ₁↣σ</a> <a id="12770" href="/type-theory/2018/08/17/notes-sltc/#10027" class="InductiveConstructor Operator">∙</a> <a id="12772" href="/type-theory/2018/08/17/notes-sltc/#12772" class="Bound">Γ⊢t₂:τ₁</a><a id="12779" class="Symbol">)</a>
    <a id="12785" class="Symbol">=</a> <a id="12787" href="/type-theory/2018/08/17/notes-sltc/#12838" class="Function">helper</a> <a id="12794" class="Symbol">(</a><a id="12795" href="/type-theory/2018/08/17/notes-sltc/#12511" class="Function">⊢-inj</a> <a id="12801" href="/type-theory/2018/08/17/notes-sltc/#12739" class="Bound">Γ⊢t₁:τ↣τ₂</a> <a id="12811" href="/type-theory/2018/08/17/notes-sltc/#12760" class="Bound">Γ⊢t₁:τ₁↣σ</a><a id="12820" class="Symbol">)</a>
    <a id="12826" class="Keyword">where</a>
      <a id="12838" href="/type-theory/2018/08/17/notes-sltc/#12838" class="Function">helper</a> <a id="12845" class="Symbol">:</a> <a id="12847" class="Symbol">∀</a> <a id="12849" class="Symbol">{</a><a id="12850" href="/type-theory/2018/08/17/notes-sltc/#12850" class="Bound">τ</a> <a id="12852" href="/type-theory/2018/08/17/notes-sltc/#12852" class="Bound">τ₂</a> <a id="12855" href="/type-theory/2018/08/17/notes-sltc/#12855" class="Bound">τ₁</a> <a id="12858" href="/type-theory/2018/08/17/notes-sltc/#12858" class="Bound">σ</a><a id="12859" class="Symbol">}</a> <a id="12861" class="Symbol">→</a> <a id="12863" class="Symbol">(</a><a id="12864" href="/type-theory/2018/08/17/notes-sltc/#12850" class="Bound">τ</a> <a id="12866" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="12868" href="/type-theory/2018/08/17/notes-sltc/#12852" class="Bound">τ₂</a> <a id="12871" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="12873" href="/type-theory/2018/08/17/notes-sltc/#12855" class="Bound">τ₁</a> <a id="12876" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="12878" href="/type-theory/2018/08/17/notes-sltc/#12858" class="Bound">σ</a><a id="12879" class="Symbol">)</a> <a id="12881" class="Symbol">→</a> <a id="12883" href="/type-theory/2018/08/17/notes-sltc/#12852" class="Bound">τ₂</a> <a id="12886" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="12888" href="/type-theory/2018/08/17/notes-sltc/#12858" class="Bound">σ</a>
      <a id="12896" href="/type-theory/2018/08/17/notes-sltc/#12838" class="Function">helper</a> <a id="12903" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="12908" class="Symbol">=</a> <a id="12910" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

  <a id="12918" class="Comment">-- Typability.</a>
  <a id="Typecheck.infer"></a><a id="12935" href="/type-theory/2018/08/17/notes-sltc/#12935" class="Function">infer</a> <a id="12941" class="Symbol">:</a> <a id="12943" class="Symbol">∀</a> <a id="12945" class="Symbol">{</a><a id="12946" href="/type-theory/2018/08/17/notes-sltc/#12946" class="Bound">n</a><a id="12947" class="Symbol">}</a> <a id="12949" href="/type-theory/2018/08/17/notes-sltc/#12949" class="Bound">Γ</a> <a id="12951" class="Symbol">(</a><a id="12952" href="/type-theory/2018/08/17/notes-sltc/#12952" class="Bound">t</a> <a id="12954" class="Symbol">:</a> <a id="12956" href="/type-theory/2018/08/17/notes-sltc/#2364" class="Datatype">Expr</a> <a id="12961" href="/type-theory/2018/08/17/notes-sltc/#12946" class="Bound">n</a><a id="12962" class="Symbol">)</a> <a id="12964" class="Symbol">→</a> <a id="12966" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#534" class="Datatype">Dec</a> <a id="12970" class="Symbol">(</a><a id="12971" href="/type-theory/2018/08/17/notes-sltc/#4407" class="Function">∃[</a> <a id="12974" href="/type-theory/2018/08/17/notes-sltc/#12974" class="Bound">τ</a> <a id="12976" href="/type-theory/2018/08/17/notes-sltc/#4407" class="Function">]</a> <a id="12978" class="Symbol">(</a><a id="12979" href="/type-theory/2018/08/17/notes-sltc/#12949" class="Bound">Γ</a> <a id="12981" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="12983" href="/type-theory/2018/08/17/notes-sltc/#12952" class="Bound">t</a> <a id="12985" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="12987" href="/type-theory/2018/08/17/notes-sltc/#12974" class="Bound">τ</a><a id="12988" class="Symbol">))</a>

  <a id="12994" class="Comment">-- Var case.</a>
  <a id="13009" href="/type-theory/2018/08/17/notes-sltc/#12935" class="Function">infer</a> <a id="13015" href="/type-theory/2018/08/17/notes-sltc/#13015" class="Bound">Γ</a> <a id="13017" class="Symbol">(</a><a id="13018" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="13022" href="/type-theory/2018/08/17/notes-sltc/#13022" class="Bound">x</a><a id="13023" class="Symbol">)</a> <a id="13025" class="Symbol">=</a> <a id="13027" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="13031" class="Symbol">(</a><a id="13032" href="https://agda.github.io/agda-stdlib/Data.Vec.html#1471" class="Function">lookup</a> <a id="13039" href="/type-theory/2018/08/17/notes-sltc/#13022" class="Bound">x</a> <a id="13041" href="/type-theory/2018/08/17/notes-sltc/#13015" class="Bound">Γ</a> <a id="13043" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="13048" href="/type-theory/2018/08/17/notes-sltc/#9861" class="InductiveConstructor">tVar</a><a id="13052" class="Symbol">)</a>

  <a id="13057" class="Comment">-- Abstraction case.</a>
  <a id="13080" href="/type-theory/2018/08/17/notes-sltc/#12935" class="Function">infer</a> <a id="13086" href="/type-theory/2018/08/17/notes-sltc/#13086" class="Bound">Γ</a> <a id="13088" class="Symbol">(</a><a id="13089" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="13093" href="/type-theory/2018/08/17/notes-sltc/#13093" class="Bound">τ</a> <a id="13095" href="/type-theory/2018/08/17/notes-sltc/#13095" class="Bound">t</a><a id="13096" class="Symbol">)</a> <a id="13098" class="Keyword">with</a> <a id="13103" href="/type-theory/2018/08/17/notes-sltc/#12935" class="Function">infer</a> <a id="13109" class="Symbol">(</a><a id="13110" href="/type-theory/2018/08/17/notes-sltc/#13093" class="Bound">τ</a> <a id="13112" href="https://agda.github.io/agda-stdlib/Data.Vec.html#731" class="InductiveConstructor Operator">∷</a> <a id="13114" href="/type-theory/2018/08/17/notes-sltc/#13086" class="Bound">Γ</a><a id="13115" class="Symbol">)</a> <a id="13117" href="/type-theory/2018/08/17/notes-sltc/#13095" class="Bound">t</a>
  <a id="13121" class="Symbol">...</a> <a id="13125" class="Symbol">|</a> <a id="13127" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="13131" class="Symbol">(</a><a id="13132" href="/type-theory/2018/08/17/notes-sltc/#13132" class="Bound">σ</a> <a id="13134" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="13139" href="/type-theory/2018/08/17/notes-sltc/#13139" class="Bound">Γ,τ⊢t:σ</a><a id="13146" class="Symbol">)</a> <a id="13148" class="Symbol">=</a> <a id="13150" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="13154" class="Symbol">(</a><a id="13155" class="Bound">τ</a> <a id="13157" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="13159" href="/type-theory/2018/08/17/notes-sltc/#13132" class="Bound">σ</a> <a id="13161" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="13166" href="/type-theory/2018/08/17/notes-sltc/#9927" class="InductiveConstructor">tLam</a> <a id="13171" href="/type-theory/2018/08/17/notes-sltc/#13139" class="Bound">Γ,τ⊢t:σ</a><a id="13178" class="Symbol">)</a>
  <a id="13182" class="Symbol">...</a> <a id="13186" class="Symbol">|</a> <a id="13188" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a>  <a id="13192" href="/type-theory/2018/08/17/notes-sltc/#13192" class="Bound">Γ,τ⊬t:σ</a> <a id="13200" class="Symbol">=</a> <a id="13202" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="13205" href="/type-theory/2018/08/17/notes-sltc/#13228" class="Function">helper</a>
    <a id="13216" class="Keyword">where</a>
      <a id="13228" href="/type-theory/2018/08/17/notes-sltc/#13228" class="Function">helper</a> <a id="13235" class="Symbol">:</a> <a id="13237" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">∄[</a> <a id="13240" href="/type-theory/2018/08/17/notes-sltc/#13240" class="Bound">τ′</a> <a id="13243" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">]</a> <a id="13245" class="Symbol">(</a><a id="13246" class="Bound">Γ</a> <a id="13248" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="13250" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="13254" class="Bound">τ</a> <a id="13256" class="Bound">t</a> <a id="13258" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="13260" href="/type-theory/2018/08/17/notes-sltc/#13240" class="Bound">τ′</a><a id="13262" class="Symbol">)</a>
      <a id="13270" href="/type-theory/2018/08/17/notes-sltc/#13228" class="Function">helper</a> <a id="13277" class="Symbol">(</a><a id="13278" href="/type-theory/2018/08/17/notes-sltc/#9471" class="InductiveConstructor">base</a> <a id="13283" href="/type-theory/2018/08/17/notes-sltc/#13283" class="Bound">A</a> <a id="13285" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="13290" class="Symbol">())</a>
      <a id="13300" href="/type-theory/2018/08/17/notes-sltc/#13228" class="Function">helper</a> <a id="13307" class="Symbol">(</a><a id="13308" class="DottedPattern Symbol">.</a><a id="13309" class="DottedPattern Bound">τ</a> <a id="13311" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="13313" href="/type-theory/2018/08/17/notes-sltc/#13313" class="Bound">σ</a> <a id="13315" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="13320" href="/type-theory/2018/08/17/notes-sltc/#9927" class="InductiveConstructor">tLam</a> <a id="13325" href="/type-theory/2018/08/17/notes-sltc/#13325" class="Bound">Γ,τ⊢t:σ</a><a id="13332" class="Symbol">)</a> <a id="13334" class="Symbol">=</a> <a id="13336" href="/type-theory/2018/08/17/notes-sltc/#13192" class="Bound">Γ,τ⊬t:σ</a> <a id="13344" class="Symbol">(</a><a id="13345" href="/type-theory/2018/08/17/notes-sltc/#13313" class="Bound">σ</a> <a id="13347" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="13352" href="/type-theory/2018/08/17/notes-sltc/#13325" class="Bound">Γ,τ⊢t:σ</a><a id="13359" class="Symbol">)</a>

  <a id="13364" class="Comment">-- Application case.</a>
  <a id="13387" href="/type-theory/2018/08/17/notes-sltc/#12935" class="Function">infer</a> <a id="13393" href="/type-theory/2018/08/17/notes-sltc/#13393" class="Bound">Γ</a> <a id="13395" class="Symbol">(</a><a id="13396" href="/type-theory/2018/08/17/notes-sltc/#13396" class="Bound">t₁</a> <a id="13399" href="/type-theory/2018/08/17/notes-sltc/#2460" class="InductiveConstructor Operator">∙</a> <a id="13401" href="/type-theory/2018/08/17/notes-sltc/#13401" class="Bound">t₂</a><a id="13403" class="Symbol">)</a> <a id="13405" class="Keyword">with</a> <a id="13410" href="/type-theory/2018/08/17/notes-sltc/#12935" class="Function">infer</a> <a id="13416" href="/type-theory/2018/08/17/notes-sltc/#13393" class="Bound">Γ</a> <a id="13418" href="/type-theory/2018/08/17/notes-sltc/#13396" class="Bound">t₁</a> <a id="13421" class="Symbol">|</a> <a id="13423" href="/type-theory/2018/08/17/notes-sltc/#12935" class="Function">infer</a> <a id="13429" href="/type-theory/2018/08/17/notes-sltc/#13393" class="Bound">Γ</a> <a id="13431" href="/type-theory/2018/08/17/notes-sltc/#13401" class="Bound">t₂</a>
  <a id="13436" class="Symbol">...</a> <a id="13440" class="Symbol">|</a> <a id="13442" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a>  <a id="13446" href="/type-theory/2018/08/17/notes-sltc/#13446" class="Bound">∄τ⟨Γ⊢t₁:τ⟩</a> <a id="13457" class="Symbol">|</a> <a id="13459" class="Symbol">_</a> <a id="13461" class="Symbol">=</a> <a id="13463" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="13466" href="/type-theory/2018/08/17/notes-sltc/#13493" class="Function">helper</a>
      <a id="13479" class="Keyword">where</a>
        <a id="13493" href="/type-theory/2018/08/17/notes-sltc/#13493" class="Function">helper</a> <a id="13500" class="Symbol">:</a> <a id="13502" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">∄[</a> <a id="13505" href="/type-theory/2018/08/17/notes-sltc/#13505" class="Bound">σ</a> <a id="13507" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">]</a> <a id="13509" class="Symbol">(</a><a id="13510" class="Bound">Γ</a> <a id="13512" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="13514" class="Bound">t₁</a> <a id="13517" href="/type-theory/2018/08/17/notes-sltc/#2460" class="InductiveConstructor Operator">∙</a> <a id="13519" class="Bound">t₂</a> <a id="13522" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="13524" href="/type-theory/2018/08/17/notes-sltc/#13505" class="Bound">σ</a><a id="13525" class="Symbol">)</a>
        <a id="13535" href="/type-theory/2018/08/17/notes-sltc/#13493" class="Function">helper</a> <a id="13542" class="Symbol">(</a><a id="13543" href="/type-theory/2018/08/17/notes-sltc/#13543" class="Bound">τ</a> <a id="13545" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="13550" href="/type-theory/2018/08/17/notes-sltc/#13550" class="Bound">Γ⊢t₁:τ</a> <a id="13557" href="/type-theory/2018/08/17/notes-sltc/#10027" class="InductiveConstructor Operator">∙</a> <a id="13559" class="Symbol">_)</a> <a id="13562" class="Symbol">=</a> <a id="13564" href="/type-theory/2018/08/17/notes-sltc/#13446" class="Bound">∄τ⟨Γ⊢t₁:τ⟩</a> <a id="13575" class="Symbol">(_</a> <a id="13578" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="13580" href="/type-theory/2018/08/17/notes-sltc/#13543" class="Bound">τ</a> <a id="13582" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="13587" href="/type-theory/2018/08/17/notes-sltc/#13550" class="Bound">Γ⊢t₁:τ</a><a id="13593" class="Symbol">)</a>

  <a id="13598" class="Symbol">...</a> <a id="13602" class="Symbol">|</a> <a id="13604" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="13608" class="Symbol">(</a><a id="13609" href="/type-theory/2018/08/17/notes-sltc/#9471" class="InductiveConstructor">base</a> <a id="13614" href="/type-theory/2018/08/17/notes-sltc/#13614" class="Bound">x</a> <a id="13616" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="13621" href="/type-theory/2018/08/17/notes-sltc/#13621" class="Bound">Γ⊢t₁:base</a><a id="13630" class="Symbol">)</a> <a id="13632" class="Symbol">|</a> <a id="13634" class="Symbol">_</a> <a id="13636" class="Symbol">=</a> <a id="13638" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="13641" href="/type-theory/2018/08/17/notes-sltc/#13668" class="Function">helper</a>
      <a id="13654" class="Keyword">where</a>
        <a id="13668" href="/type-theory/2018/08/17/notes-sltc/#13668" class="Function">helper</a> <a id="13675" class="Symbol">:</a> <a id="13677" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">∄[</a> <a id="13680" href="/type-theory/2018/08/17/notes-sltc/#13680" class="Bound">σ</a> <a id="13682" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">]</a> <a id="13684" class="Symbol">(</a><a id="13685" class="Bound">Γ</a> <a id="13687" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="13689" class="Bound">t₁</a> <a id="13692" href="/type-theory/2018/08/17/notes-sltc/#2460" class="InductiveConstructor Operator">∙</a> <a id="13694" class="Bound">t₂</a> <a id="13697" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="13699" href="/type-theory/2018/08/17/notes-sltc/#13680" class="Bound">σ</a><a id="13700" class="Symbol">)</a>
        <a id="13710" href="/type-theory/2018/08/17/notes-sltc/#13668" class="Function">helper</a> <a id="13717" class="Symbol">(</a><a id="13718" href="/type-theory/2018/08/17/notes-sltc/#13718" class="Bound">τ</a> <a id="13720" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="13725" href="/type-theory/2018/08/17/notes-sltc/#13725" class="Bound Operator">Γ⊢t₁:_↣_</a> <a id="13734" href="/type-theory/2018/08/17/notes-sltc/#10027" class="InductiveConstructor Operator">∙</a> <a id="13736" class="Symbol">_)</a>
          <a id="13749" class="Keyword">with</a> <a id="13754" href="/type-theory/2018/08/17/notes-sltc/#12511" class="Function">⊢-inj</a> <a id="13760" href="/type-theory/2018/08/17/notes-sltc/#13725" class="Bound Operator">Γ⊢t₁:_↣_</a> <a id="13769" href="/type-theory/2018/08/17/notes-sltc/#13621" class="Bound">Γ⊢t₁:base</a>
        <a id="13787" class="Symbol">...</a>  <a id="13792" class="Symbol">|</a> <a id="13794" class="Symbol">()</a>

  <a id="13800" class="Symbol">...</a> <a id="13804" class="Symbol">|</a> <a id="13806" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="13810" class="Symbol">(</a><a id="13811" href="/type-theory/2018/08/17/notes-sltc/#13811" class="Bound">τ₁</a> <a id="13814" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="13816" href="/type-theory/2018/08/17/notes-sltc/#13816" class="Bound">τ₂</a> <a id="13819" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="13824" href="/type-theory/2018/08/17/notes-sltc/#13824" class="Bound">Γ⊢t₁:τ₁↣τ₂</a><a id="13834" class="Symbol">)</a> <a id="13836" class="Symbol">|</a> <a id="13838" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a>  <a id="13842" href="/type-theory/2018/08/17/notes-sltc/#13842" class="Bound">∄τ⟨Γ⊢t₂:τ⟩</a> <a id="13853" class="Symbol">=</a> <a id="13855" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="13858" href="/type-theory/2018/08/17/notes-sltc/#13885" class="Function">helper</a>
      <a id="13871" class="Keyword">where</a>
        <a id="13885" href="/type-theory/2018/08/17/notes-sltc/#13885" class="Function">helper</a> <a id="13892" class="Symbol">:</a> <a id="13894" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">∄[</a> <a id="13897" href="/type-theory/2018/08/17/notes-sltc/#13897" class="Bound">σ</a> <a id="13899" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">]</a> <a id="13901" class="Symbol">(</a><a id="13902" class="Bound">Γ</a> <a id="13904" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="13906" class="Bound">t₁</a> <a id="13909" href="/type-theory/2018/08/17/notes-sltc/#2460" class="InductiveConstructor Operator">∙</a> <a id="13911" class="Bound">t₂</a> <a id="13914" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="13916" href="/type-theory/2018/08/17/notes-sltc/#13897" class="Bound">σ</a><a id="13917" class="Symbol">)</a>
        <a id="13927" href="/type-theory/2018/08/17/notes-sltc/#13885" class="Function">helper</a> <a id="13934" class="Symbol">(</a><a id="13935" href="/type-theory/2018/08/17/notes-sltc/#13935" class="Bound">τ</a> <a id="13937" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="13942" href="/type-theory/2018/08/17/notes-sltc/#13942" class="Bound">Γ⊢t₁:τ₁′↣τ₂′</a> <a id="13955" href="/type-theory/2018/08/17/notes-sltc/#10027" class="InductiveConstructor Operator">∙</a> <a id="13957" href="/type-theory/2018/08/17/notes-sltc/#13957" class="Bound">Γ⊢t₂:τ</a><a id="13963" class="Symbol">)</a>
          <a id="13975" class="Keyword">with</a> <a id="13980" href="/type-theory/2018/08/17/notes-sltc/#12511" class="Function">⊢-inj</a> <a id="13986" href="/type-theory/2018/08/17/notes-sltc/#13824" class="Bound">Γ⊢t₁:τ₁↣τ₂</a> <a id="13997" href="/type-theory/2018/08/17/notes-sltc/#13942" class="Bound">Γ⊢t₁:τ₁′↣τ₂′</a>
        <a id="14018" class="Symbol">...</a>  <a id="14023" class="Symbol">|</a> <a id="14025" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="14030" class="Symbol">=</a> <a id="14032" href="/type-theory/2018/08/17/notes-sltc/#13842" class="Bound">∄τ⟨Γ⊢t₂:τ⟩</a> <a id="14043" class="Symbol">(</a><a id="14044" href="/type-theory/2018/08/17/notes-sltc/#13811" class="Bound">τ₁</a> <a id="14047" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="14052" class="Bound">Γ⊢t₂:τ</a><a id="14058" class="Symbol">)</a>

  <a id="14063" class="Symbol">...</a> <a id="14067" class="Symbol">|</a> <a id="14069" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="14073" class="Symbol">(</a><a id="14074" href="/type-theory/2018/08/17/notes-sltc/#14074" class="Bound">τ₁</a> <a id="14077" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="14079" href="/type-theory/2018/08/17/notes-sltc/#14079" class="Bound">τ₂</a> <a id="14082" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="14087" href="/type-theory/2018/08/17/notes-sltc/#14087" class="Bound">Γ⊢t₁:τ₁↣τ₂</a><a id="14097" class="Symbol">)</a> <a id="14099" class="Symbol">|</a> <a id="14101" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="14105" class="Symbol">(</a><a id="14106" href="/type-theory/2018/08/17/notes-sltc/#14106" class="Bound">τ₁′</a> <a id="14110" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="14115" href="/type-theory/2018/08/17/notes-sltc/#14115" class="Bound">Γ⊢t₂:τ₁′</a><a id="14123" class="Symbol">)</a>
      <a id="14131" class="Keyword">with</a> <a id="14136" href="/type-theory/2018/08/17/notes-sltc/#14074" class="Bound">τ₁</a> <a id="14139" href="/type-theory/2018/08/17/notes-sltc/#11828" class="Function Operator">T≟</a> <a id="14142" href="/type-theory/2018/08/17/notes-sltc/#14106" class="Bound">τ₁′</a>
  <a id="14148" class="Symbol">...</a>  <a id="14153" class="Symbol">|</a> <a id="14155" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="14159" href="/type-theory/2018/08/17/notes-sltc/#14159" class="Bound">τ₁≡τ₁′</a> <a id="14166" class="Symbol">=</a> <a id="14168" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="14172" class="Symbol">(</a><a id="14173" class="Bound">τ₂</a> <a id="14176" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="14181" class="Bound">Γ⊢t₁:τ₁↣τ₂</a> <a id="14192" href="/type-theory/2018/08/17/notes-sltc/#10027" class="InductiveConstructor Operator">∙</a> <a id="14194" href="/type-theory/2018/08/17/notes-sltc/#14224" class="Function">helper</a><a id="14200" class="Symbol">)</a>
       <a id="14209" class="Keyword">where</a>
         <a id="14224" href="/type-theory/2018/08/17/notes-sltc/#14224" class="Function">helper</a> <a id="14231" class="Symbol">:</a> <a id="14233" class="Bound">Γ</a> <a id="14235" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="14237" class="Bound">t₂</a>  <a id="14241" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="14243" class="Bound">τ₁</a>
         <a id="14255" href="/type-theory/2018/08/17/notes-sltc/#14224" class="Function">helper</a> <a id="14262" class="Symbol">=</a> <a id="14264" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#700" class="Function">subst</a> <a id="14270" class="Symbol">(</a><a id="14271" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">_⊢_∶_</a> <a id="14277" class="Bound">Γ</a> <a id="14279" class="Bound">t₂</a><a id="14281" class="Symbol">)</a> <a id="14283" class="Symbol">(</a><a id="14284" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#560" class="Function">sym</a> <a id="14288" href="/type-theory/2018/08/17/notes-sltc/#14159" class="Bound">τ₁≡τ₁′</a><a id="14294" class="Symbol">)</a> <a id="14296" class="Bound">Γ⊢t₂:τ₁′</a>
  <a id="14307" class="Symbol">...</a>  <a id="14312" class="Symbol">|</a> <a id="14314" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a>  <a id="14318" href="/type-theory/2018/08/17/notes-sltc/#14318" class="Bound">τ₁≢τ₁′</a> <a id="14325" class="Symbol">=</a> <a id="14327" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="14330" href="/type-theory/2018/08/17/notes-sltc/#14359" class="Function">helper</a>
       <a id="14344" class="Keyword">where</a>
         <a id="14359" href="/type-theory/2018/08/17/notes-sltc/#14359" class="Function">helper</a> <a id="14366" class="Symbol">:</a> <a id="14368" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">∄[</a> <a id="14371" href="/type-theory/2018/08/17/notes-sltc/#14371" class="Bound">σ</a> <a id="14373" href="/type-theory/2018/08/17/notes-sltc/#4511" class="Function">]</a> <a id="14375" class="Symbol">(</a><a id="14376" class="Bound">Γ</a> <a id="14378" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="14380" class="Bound">t₁</a> <a id="14383" href="/type-theory/2018/08/17/notes-sltc/#2460" class="InductiveConstructor Operator">∙</a> <a id="14385" class="Bound">t₂</a> <a id="14388" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="14390" href="/type-theory/2018/08/17/notes-sltc/#14371" class="Bound">σ</a><a id="14391" class="Symbol">)</a>
         <a id="14402" href="/type-theory/2018/08/17/notes-sltc/#14359" class="Function">helper</a> <a id="14409" class="Symbol">(_</a> <a id="14412" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="14417" href="/type-theory/2018/08/17/notes-sltc/#14417" class="Bound">Γ⊢t₁:τ↣τ₂</a> <a id="14427" href="/type-theory/2018/08/17/notes-sltc/#10027" class="InductiveConstructor Operator">∙</a> <a id="14429" href="/type-theory/2018/08/17/notes-sltc/#14429" class="Bound">Γ⊢t₂:τ₁</a><a id="14436" class="Symbol">)</a>
           <a id="14449" class="Keyword">with</a> <a id="14454" href="/type-theory/2018/08/17/notes-sltc/#12511" class="Function">⊢-inj</a>  <a id="14461" href="/type-theory/2018/08/17/notes-sltc/#14417" class="Bound">Γ⊢t₁:τ↣τ₂</a> <a id="14471" class="Bound">Γ⊢t₁:τ₁↣τ₂</a>
         <a id="14491" class="Symbol">...</a>  <a id="14496" class="Symbol">|</a> <a id="14498" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="14503" class="Symbol">=</a> <a id="14505" href="/type-theory/2018/08/17/notes-sltc/#14318" class="Bound">τ₁≢τ₁′</a> <a id="14512" class="Symbol">(</a><a id="14513" href="/type-theory/2018/08/17/notes-sltc/#12511" class="Function">⊢-inj</a> <a id="14519" class="Bound">Γ⊢t₂:τ₁</a> <a id="14527" class="Bound">Γ⊢t₂:τ₁′</a><a id="14535" class="Symbol">)</a>


  <a id="14541" class="Comment">-- Type-checking.</a>
  <a id="Typecheck.check"></a><a id="14561" href="/type-theory/2018/08/17/notes-sltc/#14561" class="Function">check</a> <a id="14567" class="Symbol">:</a> <a id="14569" class="Symbol">∀</a> <a id="14571" class="Symbol">{</a><a id="14572" href="/type-theory/2018/08/17/notes-sltc/#14572" class="Bound">n</a><a id="14573" class="Symbol">}</a> <a id="14575" href="/type-theory/2018/08/17/notes-sltc/#14575" class="Bound">Γ</a> <a id="14577" class="Symbol">(</a><a id="14578" href="/type-theory/2018/08/17/notes-sltc/#14578" class="Bound">t</a> <a id="14580" class="Symbol">:</a> <a id="14582" href="/type-theory/2018/08/17/notes-sltc/#2364" class="Datatype">Expr</a> <a id="14587" href="/type-theory/2018/08/17/notes-sltc/#14572" class="Bound">n</a><a id="14588" class="Symbol">)</a> <a id="14590" class="Symbol">→</a> <a id="14592" class="Symbol">∀</a> <a id="14594" href="/type-theory/2018/08/17/notes-sltc/#14594" class="Bound">τ</a> <a id="14596" class="Symbol">→</a> <a id="14598" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#534" class="Datatype">Dec</a> <a id="14602" class="Symbol">(</a><a id="14603" href="/type-theory/2018/08/17/notes-sltc/#14575" class="Bound">Γ</a> <a id="14605" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="14607" href="/type-theory/2018/08/17/notes-sltc/#14578" class="Bound">t</a> <a id="14609" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="14611" href="/type-theory/2018/08/17/notes-sltc/#14594" class="Bound">τ</a><a id="14612" class="Symbol">)</a>

  <a id="14617" class="Comment">-- Var case.</a>
  <a id="14632" href="/type-theory/2018/08/17/notes-sltc/#14561" class="Function">check</a> <a id="14638" href="/type-theory/2018/08/17/notes-sltc/#14638" class="Bound">Γ</a> <a id="14640" class="Symbol">(</a><a id="14641" href="/type-theory/2018/08/17/notes-sltc/#2393" class="InductiveConstructor">var</a> <a id="14645" href="/type-theory/2018/08/17/notes-sltc/#14645" class="Bound">x</a><a id="14646" class="Symbol">)</a> <a id="14648" href="/type-theory/2018/08/17/notes-sltc/#14648" class="Bound">τ</a> <a id="14650" class="Keyword">with</a> <a id="14655" href="https://agda.github.io/agda-stdlib/Data.Vec.html#1471" class="Function">lookup</a> <a id="14662" href="/type-theory/2018/08/17/notes-sltc/#14645" class="Bound">x</a> <a id="14664" href="/type-theory/2018/08/17/notes-sltc/#14638" class="Bound">Γ</a> <a id="14666" href="/type-theory/2018/08/17/notes-sltc/#11828" class="Function Operator">T≟</a> <a id="14669" href="/type-theory/2018/08/17/notes-sltc/#14648" class="Bound">τ</a>
  <a id="14673" class="Symbol">...</a> <a id="14677" class="Symbol">|</a> <a id="14679" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="14683" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="14688" class="Symbol">=</a> <a id="14690" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="14694" href="/type-theory/2018/08/17/notes-sltc/#9861" class="InductiveConstructor">tVar</a>
  <a id="14701" class="Symbol">...</a> <a id="14705" class="Symbol">|</a> <a id="14707" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="14710" href="/type-theory/2018/08/17/notes-sltc/#14710" class="Bound">¬p</a>    <a id="14716" class="Symbol">=</a> <a id="14718" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="14721" class="Symbol">(</a><a id="14722" href="/type-theory/2018/08/17/notes-sltc/#14710" class="Bound">¬p</a> <a id="14725" href="https://agda.github.io/agda-stdlib/Function.html#759" class="Function Operator">∘</a> <a id="14727" href="/type-theory/2018/08/17/notes-sltc/#12511" class="Function">⊢-inj</a> <a id="14733" href="/type-theory/2018/08/17/notes-sltc/#9861" class="InductiveConstructor">tVar</a><a id="14737" class="Symbol">)</a>

  <a id="14742" class="Comment">-- Abstraction case.</a>
  <a id="14765" href="/type-theory/2018/08/17/notes-sltc/#14561" class="Function">check</a> <a id="14771" href="/type-theory/2018/08/17/notes-sltc/#14771" class="Bound">Γ</a> <a id="14773" class="Symbol">(</a><a id="14774" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="14778" href="/type-theory/2018/08/17/notes-sltc/#14778" class="Bound">τ</a> <a id="14780" href="/type-theory/2018/08/17/notes-sltc/#14780" class="Bound">t</a><a id="14781" class="Symbol">)</a> <a id="14783" class="Symbol">(</a><a id="14784" href="/type-theory/2018/08/17/notes-sltc/#9471" class="InductiveConstructor">base</a> <a id="14789" href="/type-theory/2018/08/17/notes-sltc/#14789" class="Bound">A</a><a id="14790" class="Symbol">)</a> <a id="14792" class="Symbol">=</a> <a id="14794" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="14797" class="Symbol">(λ</a> <a id="14800" class="Symbol">())</a>
  <a id="14806" href="/type-theory/2018/08/17/notes-sltc/#14561" class="Function">check</a> <a id="14812" href="/type-theory/2018/08/17/notes-sltc/#14812" class="Bound">Γ</a> <a id="14814" class="Symbol">(</a><a id="14815" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="14819" href="/type-theory/2018/08/17/notes-sltc/#14819" class="Bound">τ</a> <a id="14821" href="/type-theory/2018/08/17/notes-sltc/#14821" class="Bound">t</a><a id="14822" class="Symbol">)</a> <a id="14824" class="Symbol">(</a><a id="14825" href="/type-theory/2018/08/17/notes-sltc/#14825" class="Bound">τ₁</a> <a id="14828" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="14830" href="/type-theory/2018/08/17/notes-sltc/#14830" class="Bound">τ₂</a><a id="14832" class="Symbol">)</a> <a id="14834" class="Keyword">with</a> <a id="14839" href="/type-theory/2018/08/17/notes-sltc/#14825" class="Bound">τ₁</a> <a id="14842" href="/type-theory/2018/08/17/notes-sltc/#11828" class="Function Operator">T≟</a> <a id="14845" href="/type-theory/2018/08/17/notes-sltc/#14819" class="Bound">τ</a>
  <a id="14849" class="Symbol">...</a> <a id="14853" class="Symbol">|</a> <a id="14855" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="14858" href="/type-theory/2018/08/17/notes-sltc/#14858" class="Bound">τ₁≢τ</a> <a id="14863" class="Symbol">=</a> <a id="14865" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="14868" class="Symbol">(</a><a id="14869" href="/type-theory/2018/08/17/notes-sltc/#14858" class="Bound">τ₁≢τ</a> <a id="14874" href="https://agda.github.io/agda-stdlib/Function.html#759" class="Function Operator">∘</a> <a id="14876" href="/type-theory/2018/08/17/notes-sltc/#14904" class="Function">helper</a><a id="14882" class="Symbol">)</a>
      <a id="14890" class="Keyword">where</a>
        <a id="14904" href="/type-theory/2018/08/17/notes-sltc/#14904" class="Function">helper</a> <a id="14911" class="Symbol">:</a> <a id="14913" class="Bound">Γ</a> <a id="14915" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="14917" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="14921" class="Bound">τ</a> <a id="14923" class="Bound">t</a> <a id="14925" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="14927" class="Symbol">(</a><a id="14928" class="Bound">τ₁</a> <a id="14931" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="14933" class="Bound">τ₂</a><a id="14935" class="Symbol">)</a> <a id="14937" class="Symbol">→</a> <a id="14939" class="Bound">τ₁</a> <a id="14942" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="14944" class="Bound">τ</a>
        <a id="14954" href="/type-theory/2018/08/17/notes-sltc/#14904" class="Function">helper</a> <a id="14961" class="Symbol">(</a><a id="14962" href="/type-theory/2018/08/17/notes-sltc/#9927" class="InductiveConstructor">tLam</a> <a id="14967" href="/type-theory/2018/08/17/notes-sltc/#14967" class="Bound">t</a><a id="14968" class="Symbol">)</a> <a id="14970" class="Symbol">=</a> <a id="14972" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

  <a id="14980" class="Symbol">...</a> <a id="14984" class="Symbol">|</a> <a id="14986" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="14990" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="14995" class="Keyword">with</a> <a id="15000" href="/type-theory/2018/08/17/notes-sltc/#14561" class="Function">check</a> <a id="15006" class="Symbol">(</a><a id="15007" class="Bound">τ</a> <a id="15009" href="https://agda.github.io/agda-stdlib/Data.Vec.html#731" class="InductiveConstructor Operator">∷</a> <a id="15011" class="Bound">Γ</a><a id="15012" class="Symbol">)</a> <a id="15014" class="Bound">t</a> <a id="15016" class="Bound">τ₂</a>
  <a id="15021" class="Symbol">...</a>               <a id="15039" class="Symbol">|</a> <a id="15041" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="15045" href="/type-theory/2018/08/17/notes-sltc/#15045" class="Bound">Γ,τ⊢t:τ₂</a> <a id="15054" class="Symbol">=</a> <a id="15056" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="15060" class="Symbol">(</a><a id="15061" href="/type-theory/2018/08/17/notes-sltc/#9927" class="InductiveConstructor">tLam</a> <a id="15066" href="/type-theory/2018/08/17/notes-sltc/#15045" class="Bound">Γ,τ⊢t:τ₂</a><a id="15074" class="Symbol">)</a>
  <a id="15078" class="Symbol">...</a>               <a id="15096" class="Symbol">|</a> <a id="15098" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a>  <a id="15102" href="/type-theory/2018/08/17/notes-sltc/#15102" class="Bound">Γ,τ⊬t:τ₂</a> <a id="15111" class="Symbol">=</a> <a id="15113" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="15116" href="/type-theory/2018/08/17/notes-sltc/#15139" class="Function">helper</a>
    <a id="15127" class="Keyword">where</a>
      <a id="15139" href="/type-theory/2018/08/17/notes-sltc/#15139" class="Function">helper</a> <a id="15146" class="Symbol">:</a> <a id="15148" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬</a> <a id="15150" class="Bound">Γ</a> <a id="15152" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="15154" href="/type-theory/2018/08/17/notes-sltc/#2419" class="InductiveConstructor">lam</a> <a id="15158" class="Bound">τ</a> <a id="15160" class="Bound">t</a> <a id="15162" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="15164" class="Bound">τ</a> <a id="15166" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="15168" class="Bound">τ₂</a>
      <a id="15177" href="/type-theory/2018/08/17/notes-sltc/#15139" class="Function">helper</a> <a id="15184" class="Symbol">(</a><a id="15185" href="/type-theory/2018/08/17/notes-sltc/#9927" class="InductiveConstructor">tLam</a> <a id="15190" href="/type-theory/2018/08/17/notes-sltc/#15190" class="Bound Operator">Γ,τ⊢t:_</a><a id="15197" class="Symbol">)</a> <a id="15199" class="Symbol">=</a> <a id="15201" href="/type-theory/2018/08/17/notes-sltc/#15102" class="Bound">Γ,τ⊬t:τ₂</a> <a id="15210" href="/type-theory/2018/08/17/notes-sltc/#15190" class="Bound Operator">Γ,τ⊢t:_</a>

  <a id="15221" class="Comment">-- Application case.</a>
  <a id="15244" href="/type-theory/2018/08/17/notes-sltc/#14561" class="Function">check</a> <a id="15250" href="/type-theory/2018/08/17/notes-sltc/#15250" class="Bound">Γ</a> <a id="15252" class="Symbol">(</a><a id="15253" href="/type-theory/2018/08/17/notes-sltc/#15253" class="Bound">t₁</a> <a id="15256" href="/type-theory/2018/08/17/notes-sltc/#2460" class="InductiveConstructor Operator">∙</a> <a id="15258" href="/type-theory/2018/08/17/notes-sltc/#15258" class="Bound">t₂</a><a id="15260" class="Symbol">)</a> <a id="15262" href="/type-theory/2018/08/17/notes-sltc/#15262" class="Bound">σ</a> <a id="15264" class="Keyword">with</a> <a id="15269" href="/type-theory/2018/08/17/notes-sltc/#12935" class="Function">infer</a> <a id="15275" href="/type-theory/2018/08/17/notes-sltc/#15250" class="Bound">Γ</a> <a id="15277" href="/type-theory/2018/08/17/notes-sltc/#15258" class="Bound">t₂</a>
  <a id="15282" class="Symbol">...</a> <a id="15286" class="Symbol">|</a> <a id="15288" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="15292" class="Symbol">(</a><a id="15293" href="/type-theory/2018/08/17/notes-sltc/#15293" class="Bound">τ</a> <a id="15295" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="15300" href="/type-theory/2018/08/17/notes-sltc/#15300" class="Bound">Γ⊢t₂:τ</a><a id="15306" class="Symbol">)</a>
      <a id="15314" class="Keyword">with</a> <a id="15319" href="/type-theory/2018/08/17/notes-sltc/#14561" class="Function">check</a> <a id="15325" class="Bound">Γ</a> <a id="15327" class="Bound">t₁</a> <a id="15330" class="Symbol">(</a><a id="15331" href="/type-theory/2018/08/17/notes-sltc/#15293" class="Bound">τ</a> <a id="15333" href="/type-theory/2018/08/17/notes-sltc/#9494" class="InductiveConstructor Operator">↣</a> <a id="15335" class="Bound">σ</a><a id="15336" class="Symbol">)</a>
  <a id="15340" class="Symbol">...</a>    <a id="15347" class="Symbol">|</a> <a id="15349" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="15353" href="/type-theory/2018/08/17/notes-sltc/#15353" class="Bound">Γ⊢t₁:τ↣σ</a> <a id="15362" class="Symbol">=</a> <a id="15364" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="15368" class="Symbol">(</a><a id="15369" href="/type-theory/2018/08/17/notes-sltc/#15353" class="Bound">Γ⊢t₁:τ↣σ</a> <a id="15378" href="/type-theory/2018/08/17/notes-sltc/#10027" class="InductiveConstructor Operator">∙</a> <a id="15380" class="Bound">Γ⊢t₂:τ</a><a id="15386" class="Symbol">)</a>
  <a id="15390" class="Symbol">...</a>    <a id="15397" class="Symbol">|</a> <a id="15399" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a>  <a id="15403" href="/type-theory/2018/08/17/notes-sltc/#15403" class="Bound">Γ⊬t₁:τ↣σ</a> <a id="15412" class="Symbol">=</a> <a id="15414" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="15417" href="/type-theory/2018/08/17/notes-sltc/#15440" class="Function">helper</a>
    <a id="15428" class="Keyword">where</a>
      <a id="15440" href="/type-theory/2018/08/17/notes-sltc/#15440" class="Function">helper</a> <a id="15447" class="Symbol">:</a> <a id="15449" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬</a> <a id="15451" class="Bound">Γ</a> <a id="15453" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="15455" class="Bound">t₁</a> <a id="15458" href="/type-theory/2018/08/17/notes-sltc/#2460" class="InductiveConstructor Operator">∙</a> <a id="15460" class="Bound">t₂</a> <a id="15463" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="15465" class="Bound">σ</a>
      <a id="15473" href="/type-theory/2018/08/17/notes-sltc/#15440" class="Function">helper</a> <a id="15480" class="Symbol">(</a><a id="15481" href="/type-theory/2018/08/17/notes-sltc/#15481" class="Bound Operator">Γ⊢t₁:_↣_</a> <a id="15490" href="/type-theory/2018/08/17/notes-sltc/#10027" class="InductiveConstructor Operator">∙</a> <a id="15492" href="/type-theory/2018/08/17/notes-sltc/#15492" class="Bound">Γ⊢t₂:τ′</a><a id="15499" class="Symbol">)</a>
        <a id="15509" class="Keyword">with</a> <a id="15514" href="/type-theory/2018/08/17/notes-sltc/#12511" class="Function">⊢-inj</a> <a id="15520" class="Bound">Γ⊢t₂:τ</a> <a id="15527" href="/type-theory/2018/08/17/notes-sltc/#15492" class="Bound">Γ⊢t₂:τ′</a>
      <a id="15541" class="Symbol">...</a>  <a id="15546" class="Symbol">|</a> <a id="15548" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="15553" class="Symbol">=</a> <a id="15555" href="/type-theory/2018/08/17/notes-sltc/#15403" class="Bound">Γ⊬t₁:τ↣σ</a> <a id="15564" class="Bound Operator">Γ⊢t₁:_↣_</a>

  <a id="15576" href="/type-theory/2018/08/17/notes-sltc/#14561" class="Function">check</a> <a id="15582" href="/type-theory/2018/08/17/notes-sltc/#15582" class="Bound">Γ</a> <a id="15584" class="Symbol">(</a><a id="15585" href="/type-theory/2018/08/17/notes-sltc/#15585" class="Bound">t₁</a> <a id="15588" class="InductiveConstructor Operator">∙</a> <a id="15590" href="/type-theory/2018/08/17/notes-sltc/#15590" class="Bound">t₂</a><a id="15592" class="Symbol">)</a> <a id="15594" href="/type-theory/2018/08/17/notes-sltc/#15594" class="Bound">σ</a> <a id="15596" class="Symbol">|</a> <a id="15598" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="15601" href="/type-theory/2018/08/17/notes-sltc/#15601" class="Bound Operator">Γ⊬t₂:_</a> <a id="15608" class="Symbol">=</a> <a id="15610" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="15613" href="/type-theory/2018/08/17/notes-sltc/#15636" class="Function">helper</a>
    <a id="15624" class="Keyword">where</a>
      <a id="15636" href="/type-theory/2018/08/17/notes-sltc/#15636" class="Function">helper</a> <a id="15643" class="Symbol">:</a> <a id="15645" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬</a> <a id="15647" href="/type-theory/2018/08/17/notes-sltc/#15582" class="Bound">Γ</a> <a id="15649" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">⊢</a> <a id="15651" href="/type-theory/2018/08/17/notes-sltc/#15585" class="Bound">t₁</a> <a id="15654" href="/type-theory/2018/08/17/notes-sltc/#2460" class="InductiveConstructor Operator">∙</a> <a id="15656" href="/type-theory/2018/08/17/notes-sltc/#15590" class="Bound">t₂</a> <a id="15659" href="/type-theory/2018/08/17/notes-sltc/#9806" class="Datatype Operator">∶</a> <a id="15661" href="/type-theory/2018/08/17/notes-sltc/#15594" class="Bound">σ</a>
      <a id="15669" href="/type-theory/2018/08/17/notes-sltc/#15636" class="Function">helper</a> <a id="15676" class="Symbol">(</a><a id="15677" href="/type-theory/2018/08/17/notes-sltc/#10027" class="InductiveConstructor Operator">_∙_</a> <a id="15681" class="Symbol">{</a><a id="15682" class="Argument">τ</a> <a id="15684" class="Symbol">=</a> <a id="15686" href="/type-theory/2018/08/17/notes-sltc/#15686" class="Bound">σ</a><a id="15687" class="Symbol">}</a> <a id="15689" href="/type-theory/2018/08/17/notes-sltc/#15689" class="Bound">t</a> <a id="15691" href="/type-theory/2018/08/17/notes-sltc/#15691" class="Bound">Γ⊢t₂:τ′</a><a id="15698" class="Symbol">)</a> <a id="15700" class="Symbol">=</a> <a id="15702" href="/type-theory/2018/08/17/notes-sltc/#15601" class="Bound Operator">Γ⊬t₂:_</a> <a id="15709" class="Symbol">(</a><a id="15710" href="/type-theory/2018/08/17/notes-sltc/#15686" class="Bound">σ</a> <a id="15712" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">-by-</a> <a id="15717" href="/type-theory/2018/08/17/notes-sltc/#15691" class="Bound">Γ⊢t₂:τ′</a><a id="15724" class="Symbol">)</a></pre>

<h3 id="references">References</h3>

<ul>
  <li>Barendregt, Henk, Wil Dekkers, and Richard Statman (2013). <em>Lambda calculus with types</em>. Cambridge University Press.</li>
  <li>Danielsson, Nils Anders. <a href="http://www.cse.chalmers.se/~nad/listings/simply-typed/"><em>Normalisation for the simply typed lambda calculus</em></a>.</li>
  <li>Érdi, Gergő (2013). <a href="https://gergo.erdi.hu/blog/2013-05-01-simply_typed_lambda_calculus_in_agda,_without_shortcuts/"><em>Simply Typed Lambda Calculus in Agda, Without Shortcuts</em></a>.</li>
</ul>


  <div class="cited-references" markdown="1">
  <ol class="bibliography"></ol>
  </div>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      
    
      
    
      
    
  </ul>


</div>
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://jonaprieto-blog.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

      </div>
      
      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>
    
<script src="/assets/jquery.min.js"></script>




<!-- Script which renders TeX using tex.s2cms.ru -->
<script src="//tex.s2cms.ru/latex.js"></script>
<script type="text/javascript">
 $("script[type='math/tex']").replaceWith(
     function(){
         var tex = $(this).text();
         return "&zwnj;$$" + tex + "$$&zwnj;";
     });
 $("script[type='math/tex; mode=display']").replaceWith(
     function(){
         var tex = $(this).text().replace(/%.*?(\n|$)/g,"");
         return "<p class=\"equation\">" +
                 "$$" + tex + "$$" +
                "</p>";
     });
</script>


<script type="text/javascript">
WebFontConfig = {
 google: { families: [ 'PT+Serif:400,700,400italic:latin', 'PT+Sans:400:latin' ] }
};
(function(d) {
      var wf = d.createElement('script'), s = d.scripts[0];
      wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js';
      wf.async = true;
      s.parentNode.insertBefore(wf, s);
   })(document);
</script>


<!-- FOLDABLE  -->
<script type="text/javascript">
var newHeight;
 $('pre.foldable').each(function(){
     var autoHeight = $(this).height();
     var lineHeight = parseFloat($(this).css('line-height'));
     var plus    = $("<div></div>");
     var horLine = $("<div></div>");
     var verLine = $("<div></div>");
     $(this).prepend(plus);
     plus.css({
         'position'         : 'relative',
         'float'            : 'right',
         'right'            : '-' + (0.5 * lineHeight - 1.5) + 'px',
         'width'            : lineHeight,
         'height'           : lineHeight});
     verLine.css({
         'position'         : 'relative',
         'height'           : lineHeight,
         'width'            : '3px',
         'background-color' : '#C1E0FF'});
     horLine.css({
         'position'         : 'relative',
         'top'              : '-' + (0.5 * lineHeight + 1.5) + 'px',
         'left'             : '-' + (0.5 * lineHeight - 1.5) + 'px',
         'height'           : '3px',
         'width'            : lineHeight,
         'background-color' : '#C1E0FF'});
     plus.append(verLine);
     plus.append(horLine);

     // The line stars at 1 line
     newHeight = (parseFloat($(this).attr('until')) - 1) * lineHeight;

     if ( newHeight <= 0 || isNaN(newHeight) ){
       newHeight = lineHeight;
     }
     console.log( "Until> ", newHeight);

     $(this).height(newHeight);
     $(this).css('overflow','hidden');

     $(this).click(function(){
       if ($(this).height() == autoHeight) {
         $(this).height(newHeight);
         plus.show();
       }
       else{
         $(this).height('auto');
         plus.hide();
       }
     });
 });
</script>








    <script>
      (function(document) {
        var toggle   = document.querySelector('.sidebar-toggle');
        var sidebar  = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>

    
  </body>
</html>
